let g={}; let _ = {};let f=function(window){var aa,ca,ea,ia,la,ma,na,pa,qa,ra,ta,ua,va,wa,xa,Ea,Fa,Ga,Pa,Qa,Sa,Xa,Ya,bb,cb,wb,Eb,Jb,Kb,Lb,Mb,Xb,Yb,cc,fc,gc,hc,jc,kc,nc,oc,sc,vc,wc,Cc,Gc,Hc,Mc,Nc,Oc,Rc,Uc,ed,id,pd,rd,ud,Bd,Gd,Md,Pd,Qd,ee,fe,ge,he,ke,le,me,ne,oe,se,we,ye,xe,ze,Ae,Be,Ie,Ge,He,Ke,Le,Pe,Ve,Ye,$e,ff,gf,kf,nf,xf,Bf,Cf,Df,Ef,Ff,If,Kf,Jf,Lf,Of,Tf,Uf,Wf,og,pg,qg,ug,sg,vg,zg,Ag,Bg,Fg,Eg,Ng,Gg,Mg,Og,Dg,Cg,Rg,Wg,bh,mh,nh,oh,ph,qh,rh,th,uh,vh,xh,wh,yh,zh,Ch,Hh,Bh,Lh,Mh,Nh,Wh,Oh,$h,ai,bi,gi,hi,ji,mi,ki,ni,pi,oi,ri,Bi,Di,Ei,Fi,Ii,Hi,Ji,Ki,
Li,Mi,Ni,Qi,Ri,Si,Ti,Ui,Zi,$i,Yi,aj,dj,bj,ej,fj,gj,jj,ij,kj,lj,hj,mj,oj,sj,tj,uj,xj,zj,Bj,yj,vj,Cj,Dj,pj,cj,Hj,Kj,Jj,Oj,Pj,Qj,Tj,Uj,ck,dk,lk,vk,Ak,sk,qk,Bk,uk,Hk,Ik,hk,ik,Gk,pk,Fk,rk,kk,Ok,Qk,Rk,Sk,Tk,Wk,Zk,$k,cl,el,Yk,Xk,gl,hl,ml,ql,pl,wl,xl,Bl,Dl,El,Fl,Gl,Hl,Il,Jl,Kl,Ll,Ml,Nl,Pl,Ol,Rl,Sl,Ql,Vl,Tl,Wl,Ul,Yl,Zl,am,bm,$l,cm,jm,mm,wm,Am,Cm,Mm,Nm,Om,Pm,Qm,Rm,Sm,Tm,Um,Vm,Wm,Xm,$m,T,nn,mn,pn,rn,sn,An,Bn,Dn,Hn,In,Ln,Xn,Yn,Zn,tn,co,U,eo,qe,go,ve,te;aa=" The setting will be ignored.";_.ba=" is unsupported on this platform.";
ca=" to a log level. Falling back to default!";_.da="'6.1.2'";ea=".clpp-subtitle-container";_.fa="AdaptationSet";_.ha="Autoplay is not allowed due to browser policy.";ia="Can not set volume to ";_.ja="Cannot retrieve buffer information due to platform limitations";_.ka="CastlabsPlayer";la="Content-Length";ma="Content-Type";na="DRM licenses loaded";pa="DRMtoday";qa="DRMtodayOnboard";ra="Destroying player";_.sa="Disable track type ";ta="HW_SECURE_CRYPTO";ua="HW_SECURE_DECODE";va="Ignoring duplicate init data.";
wa="Illegal constructor.";xa="Invalid track type: ";_.ya="Loading player with configuration";_.za="MaxHeight";_.Aa="MaxWidth";_.Ba="MediaKeySession.load not yet supported";_.Ca="MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform";Ea="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!";Fa="No event provided!";Ga="No track data attached to the event, unable to add track!";_.Ha="NotSupportedError";
_.Ia="Player sources";_.Ja="Player state change: ";_.Ma="QualityLevel";_.Na="Releasing player with source";_.Oa="Representation";Pa="SW_SECURE_CRYPTO";Qa="SW_SECURE_DECODE";_.Ra="Session type ";Sa="Signature Verification failed";_.Ta="SmoothStreamingMedia";Xa="The index is not in the allowed range.";Ya="Unable to translate ";_.Za="Unregistering listeners";_.$a="Unsupported keySystem";_.ab="Updating manifest...";bb="Using VTTCue polyfill from 3 argument TextTrackCue.";cb="VTT parser encountered an invalid VTT setting: ";
_.db="ad-break-started";_.eb="ad-break-stopped";_.fb="ad-buffering";_.gb="ad-clicked";_.ib="ad-completed";_.jb="ad-first-quartile";_.lb="ad-impression";_.mb="ad-loaded";_.nb="ad-midpoint";_.ob="ad-paused";_.pb="ad-progress";_.qb="ad-resumed";_.sb="ad-skipped";_.tb="ad-started";_.ub="ad-stopped";_.vb="ad-third-quartile";wb="addtrack";_.yb="ads-timeline-changed";_.zb="airplay-casting-ended";_.Ab="airplay-casting-started";_.Bb="airplay-status-changed";_.Cb="application";_.Db="application/cea-608";
Eb="application/dash+xml";_.Fb="application/mp4";_.Hb="application/ttml+xml";_.Ib="application/vnd.apple.mpegurl";Jb="application/vnd.ms-sstr+xml";Kb="application/x-mpegurl";Lb="application/x-subrip";Mb="application/x-www-form-urlencoded";_.Nb="audio";_.Pb="audio/mp4";_.Rb="audiobufferchanged";_.Sb="autoplaynotallowed";_.Tb="bitratechanged";_.Ub="boolean";_.Vb="bufferingended";_.Wb="bufferingstarted";Xb="canplay";Yb="canplaythrough";_.Zb="castingstarted";_.$b="caststatuschanged";_.ac="cenc";
_.bc="center";cc="change";_.dc="clpp.cast.CastSender";_.ec="clpp.component.persistent";fc="clpp.native.Player";gc="clpp.utils.Platform";hc="clpp_html5_cast";_.ic="codecs";jc="com.apple.fps";kc="com.chromecast.playready";_.lc="com.microsoft.playready";_.mc="com.widevine.alpha";nc="crossorigin";oc="cuechange";_.pc="disabled";_.qc="div";_.rc="drmexpirationupdate";sc="drmrenewalstarted";_.tc="drmsessionpersisted";_.uc="drmsessionupdate";vc="dt-custom-data";wc="durationchange";_.xc="encrypted";_.yc="end";
_.zc="ended";_.Ac="error";_.Bc="frameRate";Cc="fullscreenElement";_.Dc="function";_.Ec="height";_.Fc="hidden";Gc="http://www.w3.org/ns/ttml#parameter";Hc="http://www.w3.org/ns/ttml#styling";_.Ic="internal-error";_.Jc="keystatuseschange";_.Kc="license-renewal";_.Lc="license-request";Mc="line-left";Nc="line-right";Oc="lineThrough";_.Pc="loadeddata";_.Qc="loadedmetadata";Rc="loadstart";_.Sc="mdat";_.Tc="message";Uc="metadata";_.Vc="mimeType";_.Wc="mp4";_.Xc="mpd-type-changed";_.Yc="native";_.Zc="number";
_.$c="object";_.ad="onContentLoaded";_.bd="optional";_.cd="org.w3.clearkey";_.dd="output-not-allowed";ed="overline";_.fd="parsererror";_.gd="pause";_.hd="persistent-license";id="picture-in-picture";_.jd="play";_.kd="playing";_.ld="playlist-item-changed";_.md="playlist-modified";_.nd="progress";_.od="ratechange";pd="released";_.qd="releasing";rd="removetrack";_.sd="required";_.td="resize";ud="rgba(0, 0, 0, 0)";_.vd="seeked";_.wd="seeking";_.zd="showing";_.Ad="single-native";Bd="stalled";_.Cd="start";
_.Dd="statechanged";_.Ed="status-pending";_.Fd="string";Gd="style";_.Hd="subtitle";_.Id="subtitles";_.Jd="temporary";_.k="text";_.Kd="text/vtt";_.Ld="text/xml";Md="textDecoration";_.Nd="timeupdate";_.Od="und";Pd="underline";Qd="unknown";_.Rd="usable";_.Sd="user-seeked";_.Td="user-seeking";_.Ud="value";_.Vd="vertical-lr";_.Wd="vertical-rl";_.Xd="video";_.Yd="video/mp2t";_.Zd="video/mp4";_.$d="videobufferchanged";_.ae="videotrackchanged";_.be="vimond-response";_.ce="waiting";_.de="waitingforkey";
ee="webkitkeyadded";fe="webkitkeyerror";ge="webkitkeymessage";he="webkitneedkey";_.ie="webm";_.je="width";ke="x-dt-auth-token";le="x-dt-csl-tracking-token";me="x-dt-follow-up-token";ne="xml:id";oe=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};_.u=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:oe(a)}};
_.pe=function(a){if(!(a instanceof Array)){a=_.u(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a};_.w=function(a,b){a.prototype=qe(b.prototype);a.prototype.constructor=a;if(_.re)(0,_.re)(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]};se=function(){se=function(){};te.Symbol||(te.Symbol=ue)};
we=function(a,b){this.a=a;ve(this,"description",{configurable:!0,writable:!0,value:b})};ye=function(){se();var a=te.Symbol.iterator;a||(a=te.Symbol.iterator=te.Symbol("Symbol.iterator"));typeof Array.prototype[a]!=_.Dc&&ve(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return xe(oe(this))}});ye=function(){}};xe=function(a){ye();a={next:a};a[te.Symbol.iterator]=function(){return this};return a};
ze=function(){this.i=!1;this.f=null;this.b=void 0;this.a=1;this.g=this.h=0;this.l=this.c=null};Ae=function(a){if(a.i)throw new TypeError("Generator is already running");a.i=!0};Be=function(a,b){a.c={Ye:b,mf:!0};a.a=a.h||a.g};_.x=function(a,b,c){a.a=c;return{value:b}};_.y=function(a){a.a=0};_.Ce=function(a,b,c){a.h=b;void 0!=c&&(a.g=c)};_.De=function(a,b){a.a=b;a.h=0};_.Ee=function(a){a.h=0;var b=a.c.Ye;a.c=null;return b};_.Fe=function(a){this.a=new ze;this.b=a};
Ie=function(a,b){Ae(a.a);var c=a.a.f;if(c)return Ge(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.a["return"]);a.a["return"](b);return He(a)};Ge=function(a,b,c,d){try{var e=b.call(a.a.f,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.a.i=!1,e;var f=e.value}catch(g){return a.a.f=null,Be(a.a,g),He(a)}a.a.f=null;d.call(a.a,f);return He(a)};
He=function(a){for(;a.a.a;)try{var b=a.b(a.a);if(b)return a.a.i=!1,{value:b.value,done:!1}}catch(c){a.a.b=void 0,Be(a.a,c)}a.a.i=!1;if(a.a.c){b=a.a.c;a.a.c=null;if(b.mf)throw b.Ye;return{value:b["return"],done:!0}}return{value:void 0,done:!0}};
_.Je=function(a){this.next=function(b){Ae(a.a);a.a.f?b=Ge(a,a.a.f.next,b,a.a.j):(a.a.j(b),b=He(a));return b};this["throw"]=function(b){Ae(a.a);a.a.f?b=Ge(a,a.a.f["throw"],b,a.a.j):(Be(a.a,b),b=He(a));return b};this["return"]=function(b){return Ie(a,b)};ye();this[Symbol.iterator]=function(){return this}};Ke=function(a,b){if(b){for(var c=te,d=a.split("."),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];f=b(e);f!=e&&null!=f&&ve(c,d,{configurable:!0,writable:!0,value:f})}};
Le=function(a){function b(d){return a.next(d)}function c(d){return a["throw"](d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};_.A=function(a){return Le(new _.Je(new _.Fe(a)))};_.B=function(a,b){var c=a.split("."),d=Me;c[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=b};
_.Ne=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};
Pe=function(a){a=_.C.lb(a.getConfiguration().textstyle||{});this.m=typeof a.backgroundColor===_.Fd?a.backgroundColor:"rgba(0, 0, 0, 0.75)";this.G=typeof a.windowColor===_.Fd?a.windowColor:"transparent";this.u=typeof a.fontColor===_.Fd?a.fontColor:"rgba(255, 255, 255, 1)";this.w=typeof a.fontFamily===_.Fd?a.fontFamily:"sans";this.A=typeof a.fontSize===_.Fd?a.fontSize:"1em";this.i=typeof a.edgeColor===_.Fd?a.edgeColor:"rgba(0, 0, 0, 1)";this.f=Oe;typeof a.edgeType===_.Fd&&(this.f=a.edgeType)};
Ve=function(a){var b="none",c=a.i;switch(a.f){case Qe:b="-2px -2px 0 "+c+", -1px -1px 0 "+c;break;case Re:b="2px 2px 0 "+c+", 1px 1px 0 "+c;break;case Se:b="-1px 0 "+c+", 0 1px "+c+", 1px 0 "+c+", 0 -1px "+c;break;case Te:b="2px 2px 3px "+c+", 2px 2px 4px "+c+", 2px 2px 5px "+c}return b};Ye=function(a){return a&&0<=We[a]?We[a]:Xe};$e=function(a){if(!a)return _.G("clpp.log",Ya+a+ca),-1;var b=Ze[a.toUpperCase()];return void 0===b?(_.G("clpp.log",Ya+a+ca),-1):b};
_.H=function(a){(this.a=a)&&void 0===We[a]&&(We[a]=-1)};_.bf=function(a){af.info.apply(af,arguments)};_.I=function(a){af.debug.apply(af,arguments)};_.G=function(a){af.warn.apply(af,arguments)};_.cf=function(a){af.error.apply(af,arguments)};_.ef=function(a){var b=void 0===b?Infinity:b;return _.df(a,b,Uint8Array)};ff=function(a){var b=void 0===b?Infinity:b;return _.df(a,b,DataView)};
_.df=function(a,b,c){var d=c.BYTES_PER_ELEMENT||1,e=a instanceof ArrayBuffer?a:a.buffer,f=(a.byteOffset||0)+a.byteLength;a=Math.max(0,Math.min((a.byteOffset||0)+0*d,f));b=Math.min(a+Math.max(b*d,0),f);a/=d;return new c(e,a,b/d-a)};gf=function(a){for(var b="",c=0;c<a.length;c+=16E3)b+=String.fromCharCode.apply(null,a.subarray(c,c+16E3));return b};
_.hf=function(a){if(!a)return"";a=_.ef(a);239==a[0]&&187==a[1]&&191==a[2]&&(a=a.subarray(3));a=escape(gf(a));try{return decodeURIComponent(a)}catch(b){throw Error("Error while decoding string!");}};
kf=function(a,b,c){if(!a)return"";if(!c&&0!==a.byteLength%2)throw jf.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");c=_.ef(a);if(b&&255===c[0]&&254===c[1]||254===c[0]&&255===c[1])a=c.subarray(2);if(a instanceof ArrayBuffer)var d=a;else c=new Uint8Array(a.byteLength),c.set(_.ef(a)),d=c.buffer;a=Math.floor(a.byteLength/2);c=new Uint16Array(a);d=new DataView(d);for(var e=0;e<a;e++)c[e]=d.getUint16(2*e,b);return gf(c)};
_.lf=function(a,b){if(_.C.aa(a))return a;var c="",d=!!b,e=_.ef(a);239==e[0]&&187==e[1]&&191==e[2]?c=_.hf(e):254==e[0]&&255==e[1]?c=kf(e.subarray(2),!1):255==e[0]&&254==e[1]&&(c=kf(e.subarray(2),!0));var f=function(g,h){return g.byteLength<=h||32<=g[h]&&126>=g[h]}.bind(null,e);jf.debug("Unable to find byte-order-mark, making an educated guess.");0==e[0]&&0==e[2]?c=kf(a,!1):0==e[1]&&0==e[3]?c=kf(a,!0):f(0)&&f(1)&&f(2)&&f(3)&&(c=_.hf(a));if(c)return d&&(c=escape(c)),c;throw Error("Unable to detect text encoding");
};nf=function(a){var b=0,c=[];a=a.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="\x3d\x3d";break;case 3:a+="\x3d";break;default:throw Error("Illegal base64url string");}for(var d=0|a.length/4;0<d--;){var e=(mf[a.charCodeAt(b)]<<18)+(mf[a.charCodeAt(b+1)]<<12)+(mf[a.charCodeAt(b+2)]<<6)+mf[a.charCodeAt(b+3)];c.push(255&e>>16);c.push(255&e>>8);c.push(255&e);b+=4}c&&("\x3d"===a.charAt(b-2)?(c.pop(),c.pop()):"\x3d"===a.charAt(b-1)&&c.pop());return new Uint8Array(c)};
_.pf=function(a){a instanceof ArrayBuffer&&(a=_.ef(a));for(var b=0,c=[],d=0|a.length/3,e;0<d--;)e=(a[b]<<16)+(a[b+1]<<8)+a[b+2],b+=3,c.push(of.charAt(63&e>>18)),c.push(of.charAt(63&e>>12)),c.push(of.charAt(63&e>>6)),c.push(of.charAt(63&e));2===a.length-b?(e=(a[b]<<16)+(a[b+1]<<8),c.push(of.charAt(63&e>>18)),c.push(of.charAt(63&e>>12)),c.push(of.charAt(63&e>>6)),c.push("\x3d")):1===a.length-b&&(e=a[b]<<16,c.push(of.charAt(63&e>>18)),c.push(of.charAt(63&e>>12)),c.push("\x3d\x3d"));return c.join("")};
_.qf=function(a){a=encodeURIComponent(a);a=unescape(a);for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.rf=function(a,b){for(var c=new Uint8Array(2*a.length),d=new DataView(c.buffer),e=0;e<a.length;++e)d.setUint16(2*e,a.charCodeAt(e),b);return c.buffer};
_.sf=function(a,b){var c=b||1,d=a.length,e=new ArrayBuffer(d*c);if(4===c){var f=void 0===f?Infinity:f;c=_.df(e,f,Uint32Array)}else if(2===c){var g=void 0===g?Infinity:g;c=_.df(e,g,Uint16Array)}else c=_.ef(e);for(f=0;f<d;f++)c[f]=a.charCodeAt(f);return e};_.tf=function(a,b){return String.prototype.startsWith?a.startsWith(b):0===a.indexOf(b)};_.uf=function(a,b){if(String.prototype.endsWith)return a.endsWith(b);var c=a.length-b.length,d=a.lastIndexOf(b,c);return-1!==d&&d===c};
_.vf=function(a){return!!(a&&0<a.length)};_.wf=function(a,b){var c=document.createElement(a),d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d];null===e||void 0===e?c.setAttribute(d,""):c.setAttribute(d,e)}return c};_.yf=function(a,b){if(a.classList)a.classList.add(b);else{var c=xf(a);0>c.indexOf(b)&&(c.push(b),a.setAttribute("class",c.join(" ")))}};
_.zf=function(a,b){typeof b===_.Fd&&(b=[b]);b.forEach(function(c){if(a.classList)a.classList.remove(c);else{var d=xf(a);c=d.indexOf(c);0<=c&&(d.splice(c,1),a.setAttribute("class",d.join(" ")))}})};xf=function(a){a=a.getAttribute("class");if(!a)return[];a=a.trim();if(0===a.length)return[];a=a.replace(/,/g," ");a=a.replace(/ {2,}/g," ");return a.split(" ")};_.Af=function(a,b){var c;if(a&&typeof b===_.$c)for(c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])};
Bf=function(a,b){var c;b=void 0===b?{}:b;var d=document.querySelector("#clpp-styles");if(!d){d=document.createElement(Gd);d.id="clpp-styles";var e=document.querySelector("head");e||(e=document.createElement("head"),document.body.appendChild(e));e.appendChild(d)}e=document.styleSheets;for(var f,g=0;g<e.length;g++)if(e[g].ownerNode===d){f=e.item(g);break}d=f||null;f=d.cssRules.length;e="";if(d){for(var h in b)b.hasOwnProperty(h)&&(g=b[h],h=h.replace(/([A-Z])/g,"-$1").toLowerCase(),e+=h+": "+g+"; ");
typeof c===_.Zc&&c>=f&&(c=f-1);d.hasOwnProperty("addRule")||typeof d.addRule===_.Dc?d.addRule(a,e,c):(d.hasOwnProperty("insertRule")||typeof d.insertRule===_.Dc)&&d.insertRule(a+" {"+e+"}",c)}};
Cf=function(a){function b(c,d){if(document.all)var e=parseFloat(a.currentStyle[c]);else c=c.replace(/([A-Z])/g,"-$1").toLowerCase(),e=parseFloat(document.defaultView.getComputedStyle(a,"").getPropertyValue(c));if(!e||isNaN(e))e=d;return e}return{height:b(_.Ec,a.offsetHeight),width:b(_.je,a.offsetWidth),marginTop:b("marginTop",0),marginBottom:b("marginBottom",0),marginLeft:b("marginLeft",0),marginRight:b("marginRight",0)}};
Df=function(){var a=document.createElement("a");a.style.display="flex";a="flex"===a.style.display;return a?"flex":"block"};Ef=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])};Ff=function(a){return"middle"===a?_.bc:"left"===a||a===Mc?_.Cd:"right"===a||a===Nc?_.yc:a};_.Gf=function(a){this.b=a;this.a=null};_.Hf=function(a){this.b=a;this.a=null};
If=function(a){Pe.call(this,a);this.K=a;a=a.getSurface();if(!a.i||!document.querySelector(ea)){var b=document.createElement(_.qc),c=document.createElement(_.qc),d=document.createElement(_.qc),e=document.createElement(_.qc);Bf(ea,{backgroundColor:ud,bottom:0,flexDirection:"column",justifyContent:"flex-end",left:0,marginBottom:"30px",maxHeight:"100%",maxWidth:"100%",pointerEvents:"none",position:"relative",right:0,top:0,overflow:_.Fc});Bf(".clpp-show-flex",{display:"block"});Bf(".clpp-hidden",{display:"none"});
Bf(".clpp-subtitle-window",{backgroundColor:ud,flexDirection:"row",justifyContent:_.bc,position:"relative",width:"100%",boxSizing:"border-box"});Bf(".clpp-subtitle-cues",{color:"#fff",backgroundColor:ud});_.yf(b,"clpp-subtitle-wrapper");_.yf(c,"clpp-subtitle-container");_.yf(d,"clpp-subtitle-window");_.yf(e,"clpp-subtitle-cues");d.appendChild(e);c.appendChild(d);b.appendChild(c);a.uc(b);a.i=c;a.l=d;a.j=e}this.B=a.i;this.D=a.l;this.l=a.j;this.o=new _.H("clpp.text.HtmlTextDisplayer");this.b=[];this.g=
this.a=null;this.h=this.c=this.j=!1;this.Pa()};Kf=function(a){a.c||(a.a=new _.Hf(function(){return Jf(a)}),a.a.Ga(.1))};
Jf=function(a){if(!a.j&&a.h){var b=a.K.getPosition(),c=a.g;c&&(c.endTime<b||c.startTime>b)&&Lf(a);c=null;for(var d=0;d<a.b.length;d++){var e=a.b[d];if(e.startTime<=b&&b<=e.endTime){c=e;break}}if(c&&c!==a.g){a.g=c;b=c.textAlign;var f=c.payload||"";c=a.B;d=a.D;a=a.l;e={bottom:"",display:Df(),justifyContent:"",opacity:"0",top:""};var g={display:Df(),justifyContent:"",left:"",marginLeft:"",paddingLeft:"",paddingRight:"",textAlign:""},h={display:"",left:"",marginLeft:"",marginRight:"",maxWidth:"",maxHeight:"",
position:"",wordWrap:"",right:"",textAlign:"",transform:"",transformOrigin:"",writingMode:"",whiteSpace:""};a.innerHTML=f.replace(/\n/g,"\x3cbr/\x3e");var l=Cf(a);Ef(c,e);Ef(d,g);Ef(a,h);l=l.height;var m=Ff(b),n="auto";typeof n!==_.Zc?(m||(m=_.bc),m===_.bc?n=50:m===_.Cd?n=0:m===_.yc&&(n=100)):m||(m=_.Cd);m===_.bc?50>n?g.paddingRight=100-2*n+"%":50<n&&(g.paddingLeft=2*n-100+"%"):m===_.Cd?(g.paddingLeft=n+"%",g.justifyContent="flex-start",h.wordWrap="break-word"):m===_.yc&&(g.paddingRight=100-n+"%",
g.justifyContent="flex-end",h.wordWrap="break-word");m="auto";typeof m!==_.Zc&&(m=100);Ef(c,e);Ef(d,g);Ef(a,h);n=Cf(c.parentElement);var p=Cf(c);var q=Cf(a).height;e.display=Df();e.justifyContent="flex-start";q=100*(n.height-p.marginBottom-q)/n.height;f=parseInt((n.height-p.marginBottom)/(l/((f.split("\x3cbr\x3e")||[]).length||1)),10)||16;0>m?(m=Math.abs(m)-1,m=f-m+1):1>m&&(m=1);0<m&&--m;m=Math.max(0,Math.min(100*m/f,100));e.top=m/100*q-5+"%";b=Ff(b);b===_.bc?h.textAlign=_.bc:b===_.yc&&(h.textAlign=
"right");Ef(c,e);Ef(d,g);Ef(a,h);Ef(c,{opacity:""})}}};Lf=function(a){a.l.innerHTML="";_.zf(a.B,"clpp-show-flex")};_.Nf=function(a){Pe.call(this,a);this.j=a.getSurface().H();this.c="clpp-video-"+Mf++;this.b=document.createElement(Gd);this.g=this.h=!1;_.yf(this.j,this.c);document.head.appendChild(this.b);this.Pa()};Of=function(){};_.Rf=function(a,b){a&&b&&(Pf.set(a,b),Qf.info("Registered TextDisplayerFactory: '"+a+"'"))};
_.Sf=function(a,b){var c=b.find(function(d){return(d=Pf.get(d))?d.O(a):!1});Qf.info("Chosen the text displayer: "+c);return c?Pf.get(c):null};Tf=function(){};_.J=function(a,b,c,d,e){var f=Error.call(this,Uf(a,b,c,d));this.message=f.message;"stack"in f&&(this.stack=f.stack);this.a=a;this.f=b;this.code=c;this.data=!d||_.C.aa(d)?{}:d;this.c=void 0===e?null:e;Error.captureStackTrace&&Error.captureStackTrace(this,_.J)};
Uf=function(a,b,c,d){a=(a===_.K?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+b+" - Code "+c+"]";if(_.C.aa(d))a+=": "+d;else if(null!=d&&void 0!=d)if(null!=d.message&&void 0!=d.message)a+=": "+d.message,delete d.message;else try{a+=": "+JSON.stringify(d)}catch(e){}return a};
_.eg=function(a,b,c){this.startTime=a;this.direction=Vf;this.endTime=b;this.payload=c;this.region=new Wf;this.position=null;this.positionAlign=Xf;this.size=100;this.textAlign=Yf;this.writingMode=Zf;this.lineInterpretation=$f;this.line=null;this.lineHeight="";this.lineAlign=ag;this.displayAlign=bg;this.fontSize=this.backgroundImage=this.backgroundColor=this.color="";this.fontWeight=cg;this.fontStyle=dg;this.fontFamily="";this.textDecoration=[];this.wrapLine=!0;this.id=""};
Wf=function(){this.id="";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.viewportAnchorUnits=this.widthUnits=this.heightUnits=fg;this.scroll=gg};_.hg=function(a,b){var c=a;b&&(c+='; codecs\x3d"'+b+'"');return c};_.ig=function(a){a=a.split(".");var b=a[0];a.pop();return[b,a.join(".")]};_.jg=function(a){this.i=null;this.c=a;this.f=this.l=0;this.g=Infinity;this.b=this.a=null;this.j="";this.h=new Map};
_.lg=function(a){return _.kg[a]||window.muxjs&&a==_.Db?!0:!1};_.mg=function(a){this.b=a;this.a=0};og=function(a){_.ng(a,/[ \t]+/gm)};_.ng=function(a,b){b.lastIndex=a.a;var c=b.exec(a.b);c=null==c?null:{position:c.index,length:c[0].length,results:c};if(a.a==a.b.length||null==c||c.position!=a.a)return null;a.a+=c.length;return c.results};pg=function(a){return a.a==a.b.length?null:(a=_.ng(a,/[^ \t\n]*/gm))?a[0]:null};qg=function(){};
ug=function(a,b,c){var d;if(d=/^align:(start|middle|center|end|left|right)$/.exec(b))b=d[1],"middle"==b?a.textAlign=Yf:a.textAlign=rg[b.toUpperCase()];else if(d=/^vertical:(lr|rl)$/.exec(b))a.writingMode="lr"==d[1]?_.Vd:_.Wd;else if(d=/^size:([\d.]+)%$/.exec(b))a.size=Number(d[1]);else if(d=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(b))a.position=Number(d[1]),d[2]&&(b=d[2],a.positionAlign=b==Mc||b==_.Cd?Mc:b==Nc||b==_.yc?Nc:_.bc);else if(d=/^region:(.*)$/.exec(b)){if(b=
sg(c,d[1]))a.region=b}else{a:{if(c=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(b))a.lineInterpretation=1,a.line=Number(c[1]),c[2]&&(a.lineAlign=tg[c[2].toUpperCase()]);else if(c=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(b))a.lineInterpretation=$f,a.line=Number(c[1]),c[2]&&(a.lineAlign=tg[c[2].toUpperCase()]);else{a=!1;break a}a=!0}return a}return!0};
sg=function(a,b){var c=a.filter(function(d){return d.id==b});return c.length?c[0]:(_.G("VTT parser could not find a region with id: ",b," The region will be ignored."),null)};vg=function(a){a=_.ng(a,/(?:(\d{1,}):)?(\d{1,2}):(\d{1,2})\.(\d{3})/g);if(null==a)return null;var b=Number(a[2]),c=Number(a[3]);return 59<b||59<c?null:Number(a[4])/1E3+c+60*b+3600*(Number(a[1])||0)};_.xg=function(a,b){for(var c=_.u(wg),d=c.next();!d.done;d=c.next())if(d=d.value,d.probe(a,b))return d.create();return null};
_.yg=function(a,b){var c=a.indexOf(b);-1<c&&a.splice(c,1)};zg=function(){};Ag=function(a){var b=[];if(!a)return b;for(var c=a.childNodes,d=0;d<c.length;d++){var e="span"==c[d].nodeName&&"p"==a.nodeName;c[d].nodeType!=Node.ELEMENT_NODE||"br"==c[d].nodeName||e||(e=Ag(c[d]),b=b.concat(e))}b.length||b.push(a);return b};
Bg=function(a,b){for(var c=a.childNodes,d=0;d<c.length;d++)if("br"==c[d].nodeName&&0<d)c[d-1].textContent+="\n";else if(0<c[d].childNodes.length)Bg(c[d],b);else if(b){var e=c[d].textContent.trim();e=e.replace(/\s+/g," ");c[d].textContent=e}};
Fg=function(a,b,c,d,e,f,g,h){if(!a.hasAttribute("begin")&&!a.hasAttribute(_.yc)&&/^\s*$/.test(a.textContent))return null;Bg(a,h);h=Cg(a.getAttribute("begin"),c);var l=Cg(a.getAttribute(_.yc),c);c=Cg(a.getAttribute("dur"),c);var m=a.textContent;null==l&&null!=c&&(l=h+c);if(null==h||null==l)return _.G("TtmlTextParser: ignoring cue without start and end time."),null;b=new _.eg(h+b,l+b,m);if((f=Dg(a,"region",f,""))&&f.getAttribute(ne)){var n=f.getAttribute(ne);g=g.filter(function(p){return p.id==n});
b.region=g[0]}d=Dg(a,"smpte:backgroundImage",d,"#");Eg(b,a,f,d,e);return b};
Eg=function(a,b,c,d,e){"rtl"==Gg(b,c,e,"direction")&&(a.direction="rtl");var f=Gg(b,c,e,"writingMode");"tb"==f||"tblr"==f?a.writingMode=_.Vd:"tbrl"==f?a.writingMode=_.Wd:"rltb"==f||"rl"==f?a.direction="rtl":f&&(a.direction=Vf);if(f=Gg(b,c,e,"textAlign"))a.positionAlign=Hg[f],a.lineAlign=Ig[f],a.textAlign=rg[f.toUpperCase()];if(f=Gg(b,c,e,"displayAlign"))a.displayAlign=Jg[f.toUpperCase()];if(f=Gg(b,c,e,"color"))a.color=f;if(f=Gg(b,c,e,"backgroundColor"))a.backgroundColor=f;if(f=Gg(b,c,e,"fontFamily"))a.fontFamily=
f;(f=Gg(b,c,e,"fontWeight"))&&"bold"==f&&(a.fontWeight=700);(f=Gg(b,c,e,"wrapOption"))&&"noWrap"==f&&(a.wrapLine=!1);(f=Gg(b,c,e,"lineHeight"))&&f.match(Kg)&&(a.lineHeight=f);(f=Gg(b,c,e,"fontSize"))&&f.match(Kg)&&(a.fontSize=f);if(f=Gg(b,c,e,"fontStyle"))a.fontStyle=Lg[f.toUpperCase()];if(d){f=d.getAttribute("imagetype");var g=d.getAttribute("encoding");d=d.textContent;"PNG"==f&&"Base64"==g&&d&&(a.backgroundImage="data:image/png;base64,"+d)}(c=Mg(c,e,Md))&&Ng(a,c);(b=Og(b,e,Md))&&Ng(a,b)};
Ng=function(a,b){for(var c=b.split(" "),d=0;d<c.length;d++)switch(c[d]){case Pd:a.textDecoration.includes(Pd)||a.textDecoration.push(Pd);break;case "noUnderline":a.textDecoration.includes(Pd)&&_.yg(a.textDecoration,Pd);break;case Oc:a.textDecoration.includes(Oc)||a.textDecoration.push(Oc);break;case "noLineThrough":a.textDecoration.includes(Oc)&&_.yg(a.textDecoration,Oc);break;case ed:a.textDecoration.includes(ed)||a.textDecoration.push(ed);break;case "noOverline":a.textDecoration.includes(ed)&&_.yg(a.textDecoration,
ed)}};Gg=function(a,b,c,d){return(a=Og(a,c,d))?a:Mg(b,c,d)};Mg=function(a,b,c){for(var d=Ag(a),e=0;e<d.length;e++){var f=_.M.getAttributeNS(d[e],Hc,c);if(f)return f}return(a=Dg(a,Gd,b,""))?_.M.getAttributeNS(a,Hc,c):null};Og=function(a,b,c){return(a=Dg(a,Gd,b,""))?_.M.getAttributeNS(a,Hc,c):null};
Dg=function(a,b,c,d){if(!a||1>c.length)return null;var e=null,f=a;for(a=null;f&&!(a=f.getAttribute(b))&&(f=f.parentNode,f instanceof Element););if(b=a)for(a=0;a<c.length;a++)if(d+c[a].getAttribute(ne)==b){e=c[a];break}return e};
Cg=function(a,b){var c=null;if(Pg.test(a)){c=Pg.exec(a);var d=Number(c[1]),e=Number(c[2]),f=Number(c[3]),g=Number(c[4]);g+=(Number(c[5])||0)/b.b;f+=g/b.frameRate;c=f+60*e+3600*d}else Qg.test(a)?c=Rg(Qg,a):Sg.test(a)?c=Rg(Sg,a):Tg.test(a)?(c=Tg.exec(a),c=Number(c[1])/b.frameRate):Ug.test(a)?(c=Ug.exec(a),c=Number(c[1])/b.a):Vg.test(a)&&(c=Rg(Vg,a));return c};
Rg=function(a,b){var c=a.exec(b);return null==c||""==c[0]?null:(Number(c[4])||0)/1E3+(Number(c[3])||0)+60*(Number(c[2])||0)+3600*(Number(c[1])||0)};Wg=function(a,b,c,d){this.frameRate=Number(a)||30;this.b=Number(b)||1;this.a=Number(d);0==this.a&&(this.a=a?this.frameRate*this.b:1);c&&(a=/^(\d+) (\d+)$/g.exec(c))&&(this.frameRate*=Number(a[1])/Number(a[2]))};_.Xg=function(a,b){this.b=_.C.sb(a)?new DataView(new ArrayBuffer(a),0,a):a;this.a=0;this.c=!!b;this.buffer=this.b.buffer};
_.Zg=function(a,b,c){b=new DataView(b.buffer);try{c=c||0;for(var d=b.byteLength-c,e=0;e<d;e++)a.b.setUint8(a.a,b.getUint8(c+e)),a.a+=1}catch(f){_.Yg()}};_.N=function(a,b){try{a.b.setUint32(a.a,b,a.c),a.a+=4}catch(c){_.Yg()}};_.Yg=function(){throw new _.J(_.K,3,3E3);};_.$g=function(a,b){this.b=a;this.c=void 0===b?!0:b;this.a=0};_.ah=function(a){return a.a<a.b.byteLength};_.ch=function(a){try{var b=a.b.getUint8(a.a);a.a+=1;return b}catch(c){bh()}};
_.dh=function(a){try{var b=a.b.getUint16(a.a,a.c);a.a+=2;return b}catch(c){bh()}};_.eh=function(a){try{var b=a.b.getUint32(a.a,a.c);a.a+=4;return b}catch(c){bh()}};_.fh=function(a){try{var b=a.b.getInt32(a.a,a.c);a.a+=4;return b}catch(c){bh()}};_.gh=function(a){var b=0;try{if(a.c){var c=a.b.getUint32(a.a,!0);b=a.b.getUint32(a.a+4,!0)}else b=a.b.getUint32(a.a,!1),c=a.b.getUint32(a.a+4,!1)}catch(d){bh()}if(2097151<b)throw new _.J(_.K,3,3001);a.a+=8;return b*Math.pow(2,32)+c};
_.hh=function(a,b){a.a+b>a.b.byteLength&&bh();var c=a.b.buffer.slice(a.a,a.a+b);a.a+=b;return _.ef(c)};_.ih=function(a){if(1>a.a)throw bh();--a.a};bh=function(){throw new _.J(_.K,3,3E3);};_.jh=function(){this.c=[];this.b=[];this.a=!1;this.f=new _.H("clpp.mp4")};_.kh=function(a){for(;_.ah(a.v)&&!a.hb.a;)a.hb.ld(a.start+a.Td,a.v,a.Mf)};_.lh=function(a){for(var b=_.eh(a.v);0<b&&!a.hb.a;--b)a.hb.ld(a.start+a.Td,a.v,a.Mf)};mh=function(a){return function(b){var c=b.v.ia()-b.v.getPosition();a(_.hh(b.v,c))}};
nh=function(a){for(var b=0,c=0;c<a.length;c++)b=b<<8|a.charCodeAt(c);return b};oh=function(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)};ph=function(){this.a=new zg};qh=function(){};_.sh=function(a){a=_.hf(a);a=a.replace(/\r+/g,"");a=a.replace(/^\s+|\s+$/g,"");a=a.replace(/<[a-zA-Z\/][^>]*>/g,"");var b=a.split("\n\n");a="";if(0<b.length){a+="WEBVTT\n\n";b=_.u(b);for(var c=b.next();!c.done;c=b.next())a+=rh(c.value)}return _.qf(a)};
rh=function(a){var b="";for(a=a.split(/\n/);3<a.length;){for(var c=3;c<a.length;++c)a[2]+="\n"+a[c];a.splice(3,a.length-3)}if(3!==a.length)return"";c=0;!a[0].match(/\d+:\d+:\d+/)&&a[1].match(/\d+:\d+:\d+/)&&(b+=a[0].match(/\w+/)+"\n",++c);if(a[c].match(/\d+:\d+:\d+/)){var d=a[1].match(/(\d+):(\d+):(\d+)(?:,(\d+))?\s*--?>\s*(\d+):(\d+):(\d+)(?:,(\d+))?/);if(d)b+=d[1]+":"+d[2]+":"+d[3]+"."+d[4]+" --\x3e ",b+=d[5]+":"+d[6]+":"+d[7]+"."+d[8]+"\n",++c;else return""}else return"";a[c]&&(b+=a[c]+"\n\n");
return b};th=function(){};uh=function(){};vh=function(){this.a=null;this.b=new _.H("clpp.vtt.mp4")};xh=function(a,b,c){var d,e,f;(new _.jh).J("payl",mh(function(g){d=_.hf(g)})).J("iden",mh(function(g){e=_.hf(g)})).J("sttg",mh(function(g){f=_.hf(g)})).parse(a);return d?wh(d,e,f,b,c):null};wh=function(a,b,c,d,e){a=new _.eg(d,e,a);b&&(a.id=b);if(c)for(b=new _.mg(c),c=pg(b);c;)ug(a,c,[])||_.G(cb,c,aa),og(b),c=pg(b);return a};yh=function(){this.a=null};zh=function(){};
_.Ah=function(){return window.MediaSource&&MediaSource.isTypeSupported?!0:!1};Ch=function(a){return""!==Bh().canPlayType(a)};_.Eh=function(a){return _.Dh("Tizen"+(a?" "+String(a):""))};_.Fh=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!_.Eh()};_.Gh=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)};Hh=function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)};_.Dh=function(a){return(navigator.userAgent||"").includes(a)};
Bh=function(){if(Ih)return Ih;Jh||(Jh=new _.Hf(function(){Ih=null}));(Ih=document.querySelector(_.Xd)||document.querySelector(_.Nb))||(Ih=document.createElement(_.Xd));Jh.R(1);return Ih};Lh=function(a,b){try{return parseInt(b,10)}catch(c){Kh.warn("Unable to parse version number for '"+b+"' from '"+a+"'")}return-1};
Mh=function(a){var b={major:-1,name:Qd};if(!a)return b;var c=a.replace(/_/g,".");b.name=c;c=c.split(".");1<=c.length&&(b.major=Lh(a,c[0]));2<=c.length&&(b.minor=Lh(a,c[1]));3<=c.length&&(b.patch=Lh(a,c[2]));4<=c.length&&(b.build=Lh(a,c[3]));return b};Nh=function(a,b){if(!a||!b||0===b.length)return!1;for(var c=0;c<b.length;c++)if(0<=a.indexOf(b[c]))return!0;return!1};
Wh=function(){var a=Oh();if(!a)return Ph;var b=a.match(/^.+?(?=\))/);if(!b)return Ph;b=b[0];if(Nh(b,["iphone","ipad"]))return Qh;if(Nh(b,["android"]))return Rh;if(Nh(b,["macintosh"]))return Sh;if(Nh(b,["windows nt"]))return Th;if(Nh(b,["tizen"]))return Uh;if(Nh(b,["linux"]))return Vh;Kh.warn("Unable to identify OS from user agent: "+a);return Ph};Oh=function(){var a=window.navigator.userAgent;return a=a.toLowerCase()};
_.Zh=function(){var a=Wh();var b=Wh();var c=Xh[b];if(c){c=Oh().match(c.os_version)[1];c=Mh(c);if(b===Th)if("5.1"===c.name)c.name="xp";else if("6.1"===c.name)c.name="7";else if("6.2"===c.name||"6.3"===c.name)c.name="8";b=c}else b=Mh("");a:{c=Oh();var d="ie edge opera firefox safari chrome".split(" "),e=Wh();e=Xh[e];for(var f=0,g=d.length;f<g;f++)if(e[d[f]]&&c.match(e[d[f]])){c=d[f];break a}c=Yh}a:{d=Oh();e="ie edge opera firefox safari chrome".split(" ");f=Wh();g=Xh[f];for(var h=0,l=e.length;h<l;h++)if(f=
g[e[h]]&&d.match(g[e[h]])){d=Mh(f[1]);break a}d=Mh("")}return{os:a,osVersion:b,browser:c,browserVersion:d}};$h=function(){};ai=function(a,b){this.b=a;this.a=b};bi=function(a,b){this.a=a;this.b=b};_.ei=function(a){a&&(_.ci.hasOwnProperty(a.name)?_.di.warn("Player-Factory '"+a.name+"' already registered"):(_.ci[a.name]=a,_.di.info("Registered Player-Factory: '"+a.name+"'")))};_.fi=function(){this.a={}};gi=function(a,b,c,d){this.b=a;this.cc=b;this.a=c;this.qj=!!d};
_.O=function(a,b){if(b)for(var c in b)this[c]=b[c];this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=a;this.isTrusted=!1;this.target=this.currentTarget=null;this.a=this.b=!1};hi=function(a){this.a=new _.fi;this.b=a};_.ii=function(){this.a=new _.fi};
ji=function(a,b,c){function d(f){e.forEach(function(g){a.off(b,g,d)});c(f)}var e=[_.xc,"msneedkey",he,"needkey"];e.forEach(function(f){a.on(b,f,d)})};_.li=function(a){var b=a.a,c=[],d;for(d in b.a)c.push.apply(c,b.a[d]);for(b=0;b<c.length;++b)ki(c[b]);a.a.clear()};mi=function(a,b,c,d){this.target=a;this.type=b;this.listener=c;this.a=d;this.target.addEventListener(b,c,d)};ki=function(a){a.target.removeEventListener(a.type,a.listener,a.a);a.target=null;a.listener=null};
ni=function(a){this.b=a;this.g=null;this.c=new _.ii;this.a=this.h=null;this.f=[];this.i=new _.H("clpp.native.Metadata")};pi=function(a,b){a.g=b;a.h=a.g.textTracks;a.c.on(a.h,wb,function(c){c=c.track;c.kind===Uc&&oi(a,c)})};
oi=function(a,b){function c(h){for(var l=_.u(d),m=l.next();!m.done;m=l.next())if(m=m.value,h.startTime===m.startTime&&h.endTime===m.endTime)return m;d.push({schemeIdUri:"",value:"",startTime:h.startTime,endTime:h.endTime,id:"",type:qi,eventElement:null});return d[d.length-1]}a.i.debug("onMetadata_()");b.mode=_.Fc;var d=[];if(b.cues){for(var e=_.u(b.cues),f=e.next();!f.done;f=e.next())if(f=f.value,!ri(a,f)){var g=c(f);switch(f.value.key){case "SCTE35-IN":case "SCTE35-OUT":g.schemeIdUri="urn:scte:scte35:2014";
g.type=si;break;case "X-CUSTOM-ID":g.id=f.value.data}}e=_.u(d);for(f=e.next();!f.done;f=e.next())a.b.trigger(new _.O(_.ti,{detail:f.value}));Array.prototype.push.apply(a.f,d);a.c.off(b,oc);a.c.on(b,oc,function(h){h=h.target.activeCues;h=h.length?ri(a,h[0]):a.a;var l;if(l=h)l=a.b.getPosition(),l=h.startTime<=l&&l<h.endTime;if(l)a.a=h,a.b.trigger(new _.O(_.ui,{detail:h}));else{if(h=a.a)h=a.a,l=a.b.getPosition(),h=h.endTime<=l;h&&(h=a.a,a.a=null,a.b.trigger(new _.O(_.vi,{detail:h})))}})}};
ri=function(a,b){for(var c=_.u(a.f),d=c.next();!d.done;d=c.next())if(d=d.value,b.startTime===d.startTime&&b.endTime===d.endTime)return d;return null};_.wi=function(a,b){this.id=a;this.type=b;this.roles=[];this.channelsCount=this.src=this.mimeType=this.frameRate=this.label=this.language=this.kind=null;this.renditions=[]};_.xi=function(a,b){this.track=b;this.id=a;this.originalId=this.drmInfo=this.codec=this.bandwidth=this.height=this.width=null};
_.yi=function(a){return void 0!==a&&null!==a&&""!==a?a:null};Bi=function(a){if(!a)throw new _.J(_.K,3,3101,xa+a);if(!_.C.aa(a))throw new _.J(_.K,3,3101,xa+a+". Track type must be a string!");switch(a.toLowerCase()){case _.P:return _.P;case _.Q:return _.Q;case _.zi:return _.zi;case Ai:return Ai}throw new _.J(_.K,3,3101,"Unknown track type: "+a+".");};
Di=function(a,b){a=Bi(a);var c=_.yi(b.kind),d=b.id;d||(d=String(_.Ci++));d=new _.wi(d,c===Uc?Ai:a);d.kind=c;d.label=_.yi(b.label);d.language=_.yi(b.language);return d};_.S=function(){};
Ei=function(){this.a=new _.H("clpp.native.TrackManager");this.b=null;this.f=new _.ii;this.g=[];this.l=0;this.i={};this.m=[];this.c=new Map;this.h=new Map;this.j=!0;this.A=this.he.bind(this,_.P);this.D=this.ke.bind(this,_.P);this.B=this.je.bind(this,_.P);this.G=this.he.bind(this,_.zi);this.L=this.ke.bind(this,_.zi);this.K=this.je.bind(this,_.zi);this.o=this.he.bind(this,_.Q);this.w=this.ke.bind(this,_.Q);this.u=this.je.bind(this,_.Q)};
Fi=function(a,b,c){return a.type!==c?!1:void 0!==b.id&&null!==b.id&&""!==b.id?a.id===b.id:_.C.ya(a,b,["kind","language","label"])};
Ii=function(a,b){var c,d,e,f,g,h,l;return _.A(function(m){if(1==m.a){c=_.xg(b.mimeType,_.Kd);if(!c)return a.a.warn("Track mimetype is not supported",b),m["return"]();d=_.Gi(b.url);return _.x(m,a.b.getNetworkEngine().fetch(d).promise,2)}(e=m.b)&&e.data&&(f="External_"+a.l++,a.i[f]=b,g=_.sh(_.ef(e.data)),h=URL.createObjectURL(new Blob([g])),l={url:h,kind:b.kind,language:b.language,label:b.label,mimeType:_.Kd},Hi(a,l,f));_.y(m)})};
Hi=function(a,b,c){if(a.b){var d=a.b.getSurface().H();if(d){var e=document.createElement("track");e.id=c;e.src=b.url;e.kind=b.kind;e.srclang=b.language;b.label&&(e.label=b.label);d.appendChild(e);a.m.push(e)}}};Ji=function(a,b){if(!a.b)return null;var c=a.b.getSurface();if(!c)return null;c=c.H();if(!c)return null;switch(b){case _.Q:return c.audioTracks;case _.zi:return c.videoTracks;case _.P:return c.textTracks;default:return null}};
Ki=function(a,b){var c=Ji(a,b);c&&(c=Array.from(c),b===_.P&&(c=c.filter(function(d){return d.kind!==Uc})));return c};Li=function(a,b){return a.g.filter(function(c){return c.type===b})};Mi=function(a,b){var c=a.c.get(b)||null;return c&&c.renditions[0]};Ni=function(a,b){var c=a.h.get(b);return c&&c.renditions[0]};
Qi=function(a,b,c){var d=Ki(a,b);if(c){if(void 0===a.g.find(function(l){return l.id===c.id}))throw Error("Unknown track with ID "+c.id+" and type "+b);if(c.type!==b)throw Error("Types mismatch for track "+c.type+" and arg "+b);a.a.debug("Activate track type "+b+" with ID: "+c.id);if(d){a.h.set(b,c);var e=!0,f=!1;switch(b){case _.P:var g="mode";e=_.zd;f=_.pc;break;case _.Q:g="enabled";break;case _.zi:g="selected"}if(g){d=_.u(d);for(var h=d.next();!h.done;h=d.next())h=h.value,h[g]=Fi(c,h,c.type)?e:
f}}}else if(a.a.debug(_.sa+b),a.c.get(b)&&d&&b===_.P){g=_.u(d);for(h=g.next();!h.done;h=g.next())h.value.mode=_.pc;a.c.set(b,null)}b===_.Q?a.b.trigger(new _.O(_.Oi)):b===_.P&&a.b.trigger(new _.O(_.Pi))};Ri=function(a){return a.enabled||a.selected||a.mode===_.zd||a.mode===_.Fc};Si=function(a,b,c){a.a.info("Find preferred tracks for",b,c);var d=Li(a,b);_.vf(c)&&(d=d.find(function(e){return e.language===c}))&&(a.a.info("Will select track with id",d.id),Qi(a,b,d))};
Ti=function(a){this.h=a.getTextDisplayer();this.b=this.f=null;this.a=new _.ii;this.c=!1;this.g=new _.H("clpp.native.CueHandler")};Ui=function(a,b){var c=b.track;c.mode===_.zd&&(c.mode=_.Fc);a.a.on(c,oc,function(d){d=d.target||d.srcElement;d.mode=_.Fc;d=d.activeCues;if(0!==d.length){var e,f=d.length,g="";for(e=0;e<f;e++)g+=d[e].text+(e<f-1?"\x3cbr\x3e":"");g=g.replace(/\n/g,"\x3cbr\x3e");a.h.append([new _.eg(d[0].startTime,d[0].endTime,g)])}})};
_.Vi=function(a,b){this.length=(this.b=a)?a.length:0;this.a=[];this.type=void 0===b?"total":b};_.Wi=function(){this.yc=new hi(this);this.ec=[]};_.Xi=function(a){try{var b=a.uris[a.uriIndex],c=_.Xi.parse(b);return{promise:Promise.resolve({uri:b,data:c.data,request:a,headers:{"content-type":c.contentType}}),request:a,abort:function(){return Promise.resolve()}}}catch(d){return{promise:Promise.reject(d),request:a,abort:function(){return Promise.resolve()}}}};Zi=function(){this.a=Yi()};
$i=function(a){var b=new Zi;b.a=a.a;return b};Yi=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()};aj=function(a){this.a=new Uint8Array(a||65536);this.b=0;this.c=new Zi};dj=function(a,b,c){return b.read().then(function(d){var e=d.done;d=d.value;null!=d&&(bj(a,d),cj(c,d.byteLength,Yi()-a.c.a),a.c.a=Yi());return e?(e=a.a.buffer,a.a.byteLength!==a.b&&(e=e.slice(0,a.b)),Promise.resolve(e)):Promise.resolve().then(function(){return dj(a,b,c)})})};
bj=function(a,b){for(;a.a.byteLength<a.b+b.byteLength;){var c=new Uint8Array(2*a.a.byteLength);c.set(a.a);a.a=c}a.a.set(b,a.b);a.b+=b.byteLength};ej=function(a){var b=void 0===b?2:b;this.a=new Uint8Array(a);this.c=b;this.b=0};fj=function(a,b){var c=a.b+b.byteLength;if(c>a.a.byteLength){var d=a.a;a.a=new Uint8Array(Math.max(Math.ceil(a.a.buffer.byteLength*a.c),c));a.a.set(d)}a.a.set(b,a.b);a.b+=b.byteLength};
gj=function(a){a=void 0===a?1E6:a;this.f=new ej(a);this.length=a;this.b=this.a=this.c=0;this.g=null;this.h=-1;this.i=new Zi};
jj=function(a,b,c,d){return b.read().then(function(e){var f=e.done;e=e.value;if(d&&e){var g=Yi()-a.i.a;100<g&&(d(e.byteLength,g),a.i.a=Yi())}if(f)return f=hj(a),(f=c(!0,f))?f.then(function(){return a.f.a.buffer}):Promise.resolve(a.f.a.buffer);f=Promise.resolve();if(null!=e){fj(a.f,e);a.a=a.c;a.b=a.f.b;a.g=new DataView(a.f.a.buffer,0,a.f.b);g=ij(a);for(e=[];g;)e.push(g),g=ij(a);if(0<e.length){g=e[0];if(1<e.length){g=e[0];var h=e[e.length-1],l=h.end-g.start;g={start:g.start,end:h.end,length:l,data:new DataView(a.f.a.buffer,
g.start,l),count:e.length}}(e=c(!1,g))&&(f=e)}}return f.then(function(){return jj(a,b,c,d)})})};ij=function(a){if(0<=a.h&&a.b<a.h)return null;for(var b=kj(a);null!==b;){if(b.name===_.Sc){var c={start:a.c,end:b.end,length:b.end-a.c,data:new DataView(a.f.a.buffer,a.c,b.end-a.c),count:1};a.c=b.end;return c}b=kj(a)}return null};
kj=function(a){var b=a.a;if(a.a+4>=a.b)return a.a=a.b,null;var c=lj(a);if(a.a+4>=a.b)return a.a=a.b,null;var d=lj(a);d=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);switch(c){case 0:c=a.b-b;break;case 1:if(a.a+8>=a.b)return a.a=a.b,null;try{var e=a.g.getUint32(a.a,!1);var f=a.g.getUint32(a.a+4,!1)}catch(g){throw new _.J(_.K,3,3E3);}if(2097151<e)throw new _.J(_.K,3,3E3);a.a+=8;c=e*Math.pow(2,32)+f}c=b+c;a.h=c;return a.b>=c?(a.a=c,{name:d,start:b,end:c}):null};
lj=function(a){var b=a.g.getUint32(a.a,!1);a.a+=4;return b};hj=function(a){var b=null;a.c!==a.b&&(b={start:a.c,end:a.b,length:a.b-a.c,data:new DataView(a.f.a.buffer,a.c,a.b-a.c),count:-1});return b};
mj=function(a){var b=new mj.b,c;for(c in a.headers)b.append(c.toLowerCase(),a.headers[c]);var d=new mj.a,e={vc:!1,Sf:!1};b={promise:mj.g(a.uris[a.uriIndex],a,{body:a.body||void 0,headers:b,method:a.method,signal:d.signal,credentials:a.allowCrossSiteCredentials?"include":void 0},e),request:a,abort:function(){e.vc||(e.vc=!0,d.abort());return Promise.resolve()}};if(a=a.timeout){var f=window.setTimeout(function(){e.Sf=!0;d.abort()},a);b.promise=b.promise["finally"](function(){window.clearTimeout(f)})}return b};
_.nj=function(){var a,b,c=new Promise(function(d,e){a=d;b=e});c.resolve=a;c.reject=b;return c};
oj=function(a){var b=a.uris[a.uriIndex],c=new oj.c,d=new Zi,e=$i(d),f=0,g=new _.nj;c.open(a.method,b,!0);c.responseType="arraybuffer";c.timeout=a.timeout;c.withCredentials=a.allowCrossSiteCredentials;var h=!1;c.onreadystatechange=function(){if(c.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!h){var m=c.getResponseHeader(la);pj(a,m);h=!0}};c.onload=function(m){m=m.target;var n=(m.getAllResponseHeaders()||"").trim().split("\r\n"),p={};n=_.u(n);for(var q=n.next();!q.done;q=n.next())q=q.value.split(": "),
p[q[0].toLowerCase()]=q.slice(1).join(": ");try{var t=_.qj(p,m.response,m.status,b,m.responseURL,a,Yi()-e.a);g.resolve(t)}catch(v){g.reject(v)}};c.onerror=function(m){m=m.target;if(0>=m.status)g.reject(new _.J(1,1,1002,{url:b,request:a,status:m.status}));else{var n=m.getAllResponseHeaders(),p={};if(n){n=_.u(n.trim().split("\r\n"));for(var q=n.next();!q.done;q=n.next())q=q.value.split(": "),p[q[0].toLowerCase()]=q.slice(1).join(": ")}m=_.qj(p,m.response,m.status,b,m.responseURL,a,Yi()-e.a);g.resolve(m)}};
c.ontimeout=function(){g.reject(new _.J(1,1,1003,{url:b,request:a}))};c.onprogress=function(m){var n=Yi()-d.a;d.a=Yi();if(100<n||m.lengthComputable&&m.loaded===m.total)cj(a,m.loaded-f,n),f=m.loaded};for(var l in a.headers)c.setRequestHeader(l.toLowerCase(),a.headers[l]);c.send(a.body);return{promise:g,request:a,abort:function(){c.abort();g.reject(new _.J(1,1,7001,{url:b,request:a}));return Promise.resolve()}}};
_.rj=function(a){var b;a instanceof _.rj?(sj(this,a.Da),this.Wb=a.Wb,this.xa=a.xa,tj(this,a.mc),this.ga=a.ga,uj(this,vj(a.a)),this.Eb=a.Eb):a&&(b=String(a).match(wj))?(sj(this,b[1]||"",!0),this.Wb=xj(b[2]||""),this.xa=xj(b[3]||"",!0),tj(this,b[4]),this.ga=xj(b[5]||"",!0),uj(this,b[6]||"",!0),this.Eb=xj(b[7]||"")):this.a=new yj(null)};sj=function(a,b,c){a.Da=c?xj(b,!0):b;a.Da&&(a.Da=a.Da.replace(/:$/,""))};
tj=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.mc=b}else a.mc=null};uj=function(a,b,c){b instanceof yj?a.a=b:(c||(b=zj(b,Aj)),a.a=new yj(b))};xj=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""};zj=function(a,b,c){return typeof a===_.Fd?(a=encodeURI(a).replace(b,Bj),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null};Bj=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)};yj=function(a){this.b=a||null};
vj=function(a){var b=new yj;b.b=a.b;if(a.a){var c={},d;for(d in a.a)c[d]=a.a[d].concat();b.a=c;b.c=a.c}return b};Cj=function(){return{maxAttempts:1,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0}};Dj=function(a,b){a.timeout=b.timeout;a.baseDelay=b.baseDelay;a.backoffFactor=b.backoffFactor;a.fuzzFactor=b.fuzzFactor;a.maxAttempts=b.maxAttempts};
_.Fj=function(){this.b=[];this.c=[];this.g=!1;this.f=new _.Ej;this.a={};this.a.data=_.Xi;mj.O()?(this.a.http=mj,this.a.https=mj):(this.a.http=oj,this.a.https=oj)};
_.Gi=function(a,b){_.C.aa(a)&&(a={uris:[a]});Array.isArray(a)&&(a={uris:a});var c={uris:a.uris||[],type:a.type||_.Gj,uriIndex:0,method:a.method||"GET",body:a.body||null,headers:Object.assign({},a.headers),allowCrossSiteCredentials:a.allowCrossSiteCredentials||!1,onProgress:a.onProgress||null,onFragment:a.onFragment||null,maxAttempts:a.maxAttempts||1,currentAttempt:0,baseDelay:a.baseDelay||1E3,backoffFactor:a.backoffFactor||2,fuzzFactor:a.fuzzFactor||.5,timeout:a.timeout||0,requestModifiers:a.requestModifiers||
[],responseModifiers:a.responseModifiers||[],startTime:a.startTime||null,endTime:a.endTime||null,contentType:a.contentType||null,licenseRequestType:a.licenseRequestType||null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1,timescale:a.timescale||null};a.keyInfo&&(c.keyInfo=a.keyInfo);b&&Dj(c,b);return c};
_.qj=function(a,b,c,d,e,f,g){if(200<=c&&299>=c&&202!==c)return e&&(d=e),{uri:d,data:b||new ArrayBuffer(0),headers:a,status:c,fromCache:!!a["x-shaka-from-cache"],timeMs:g,request:f};e=null;try{e=_.lf(b,!0)}catch(h){}_.I("HTTP error text:",e);throw new _.J(401===c||403===c?_.K:1,1,1001,{url:d,status:c,response:e,headers:a,request:f});};pj=function(a,b){var c=parseInt(b,10);Number.isNaN(c)&&(c=-1);a.bytesTotal=c;a.bytesLoaded=0;a.bytesRemaining=c};
cj=function(a,b,c){0<a.bytesRemaining&&(a.bytesRemaining-=b);a.bytesLoaded+=b;if(a.onProgress)a.onProgress(b,c)};Hj=function(){};
_.Ij=function(){var a=Infinity;navigator.connection&&navigator.connection.saveData&&_.Gh()&&(a=360);var b=Cj();b.maxAttempts=3;return{source:"",license:"",viewerId:void 0,autoplay:void 0,manifest:{attemptParameters:Cj(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0},abr:{enabled:!0,defaultBandwidthEstimate:1E3,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,useSwitchIntervalForInitialSwitch:!1,restrictions:{minWidth:0,
maxWidth:Infinity,minHeight:0,maxHeight:a,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}},drm:null,enableEnhancedSubtitleManager:!1,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:"",preferredTextRole:"",preferredAudioChannelCount:2,volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:!1,streaming:{attemptParameters:b,failureCallback:void 0,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,
alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceNativeTS:!1,safeSeekOffset:5,stallEnabled:!_.Dh("Web0S"),stallThreshold:1,stallSkip:.1,bufferLimitUpdateInterval:.5,overridePasp:!1},restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}}};
_.Lj=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];if(!b)return _.Ij();var d=[_.Ij()],e=!1;b.forEach(function(f){null!==f&&void 0!==f&&(_.C.aa(f)&&(f={source:f}),f.lowLatencyMode&&!e&&(d.push({suggestedPresentationDelay:0,streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{Uj:{clockSyncUri:"//time.akamai.com"}}}),e=!0),d.push(f))});
b=_.C.eb.apply(null,d);_.C.aa(b.volume)&&(""===""+b.volume?b.volume=null:b.volume=Number(b.volume));if(!_.C.I(b.volume)&&(!_.C.sb(b.volume)||_.C.isNaN(b.volume)))throw new _.J(_.K,7,7100,"config.volume is not a number");if(!_.C.I(b.preferredTextLanguage)&&!_.C.aa(b.preferredTextLanguage))throw new _.J(_.K,7,7100,"config.preferredTextLanguage is not a string");if(!_.C.I(b.preferredAudioLanguage)&&!_.C.aa(b.preferredAudioLanguage))throw new _.J(_.K,7,7100,"config.preferredAudioLanguage is not a string");
if(!_.C.I(b.drm)){if(b.drm.env&&!_.C.aa(b.drm.env))throw new _.J(_.K,7,7100,"config.drm.env is not a string");if(b.drm.offlineId&&!_.C.aa(b.drm.offlineId))throw new _.J(_.K,7,7100,"config.drm.offlineId is not a string");}if(c=b.streaming){c.bufferingGoal=Number(c.bufferingGoal);c.rebufferingGoal=Number(c.rebufferingGoal);c.bufferBehind=Number(c.bufferBehind);c.smallGapLimit=Number(c.smallGapLimit);c.durationBackoff=Number(c.durationBackoff);if(!_.C.sb(c.bufferingGoal)||_.C.isNaN(c.bufferingGoal))throw new _.J(_.K,
7,7100,"config.streaming.bufferingGoal is not a number");if(!_.C.sb(c.rebufferingGoal)||_.C.isNaN(c.rebufferingGoal))throw new _.J(_.K,7,7100,"config.streaming.rebufferingGoal is not a number");if(c.rebufferingGoal>c.bufferingGoal)throw new _.J(_.K,7,7100,"config.streaming.rebufferingGoal must be \x3e\x3d bufferingGoal");if(!_.C.sb(c.bufferBehind)||_.C.isNaN(c.bufferBehind))throw new _.J(_.K,7,7100,"config.streaming.bufferBehind is not a number");if(!_.C.sb(c.smallGapLimit)||_.C.isNaN(c.smallGapLimit))throw new _.J(_.K,
7,7100,"config.streaming.smallGapLimit is not a number");if(!_.C.sb(c.durationBackoff)||_.C.isNaN(c.durationBackoff))throw new _.J(_.K,7,7100,"config.streaming.durationBackoff is not a number");Jj(b.manifest);Kj(b.restrictions);Kj(b.abr.restrictions)}return b};
Kj=function(a){_.C.I(a.maxPixels)&&(a.maxPixels=Infinity);_.C.I(a.maxBandwidth)&&(a.maxBandwidth=Infinity);_.C.I(a.maxHeight)&&(a.maxHeight=Infinity);_.C.I(a.maxWidth)&&(a.maxWidth=Infinity);_.C.I(a.minPixels)&&(a.minPixels=0);_.C.I(a.minBandwidth)&&(a.minBandwidth=0);_.C.I(a.minHeight)&&(a.minHeight=0);_.C.I(a.minWidth)&&(a.minWidth=0);a.minWidth=Number(a.minWidth);a.maxWidth=Number(a.maxWidth);a.minHeight=Number(a.minHeight);a.maxHeight=Number(a.maxHeight);a.minBandwidth=Number(a.minBandwidth);
a.maxBandwidth=Number(a.maxBandwidth);a.minPixels=Number(a.minPixels);a.maxPixels=Number(a.maxPixels);if(Number.isNaN(a.minWidth)||Number.isNaN(a.maxWidth)||Number.isNaN(a.minHeight)||Number.isNaN(a.maxHeight)||Number.isNaN(a.minBandwidth)||Number.isNaN(a.maxBandwidth)||Number.isNaN(a.minPixels)||Number.isNaN(a.maxPixels))throw new _.J(_.K,7,7100,"Restrictions contain NaN");};
Jj=function(a){if(_.C.I(a.availabilityWindowOverride))a.availabilityWindowOverride=NaN;else if(typeof a.availabilityWindowOverride!==_.Zc)throw new _.J(_.K,7,7100,"Invalid value for |manifest.availabilityWindowOverride|");};_.Mj=function(a){return typeof a===_.$c&&!Array.isArray(a)&&a.hasOwnProperty("source")};
_.Nj=function(a){_.Wi.call(this);this.log=new _.H(a);this.configuration=this.Pc=_.Ij();this.j=this.l=null;this.Sc=this.Cd=!1;this.sf=new _.H("clpp.video.events");this.Qc=null;this.ff=0;this.pi=this.pj.bind(this);this.$e=new _.Fj;this.A=new _.ii;this.K=null};Oj=function(){this.a=this.b=null;this.c=new _.H("clpp.drm.csl")};Pj=function(a,b){3===b.type&&(a.b&&(a.c.debug("Attaching tracking token"),b.headers[le]=a.b),a.a&&(a.c.debug("Attaching followup token"),b.headers[me]=a.a))};
Qj=function(a,b){3===b.request.type&&(a.b=b.headers[le],a.a=b.headers[me],a.b&&a.c.debug("Loaded tracking token "+a.b),a.a&&a.c.debug("Loaded followup token "+a.a))};
_.Rj=function(a){this.scheme=null;var b=document.createElement("a"),c=a.match(/^(.*:)(\/\/(.*))$/),d=!1;if(c){if(this.scheme=c[1],b.href=c[2],":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+c[3],d=!0}else{b.href=a;if(":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+a.match(/\/?\/?(.*)/)[1],d=!0;this.scheme=b.protocol}""===this.scheme&&(this.scheme=window.location.protocol);this.b=d?"":b.hostname;this.port=b.port;this.path=b.pathname;_.tf(this.path,"/")||(this.path=
"/"+this.path);this.a=b.search;this.c=b.hash};_.Sj=function(a){return a.scheme+"//"+(a.b+(a.port?":"+a.port:"")+a.path+a.c+a.a)};Tj=function(a,b,c){return a?(c||Object.keys(a).sort()).reduce(function(d,e){if(!a.hasOwnProperty(e))return d;var f=a[e],g="\x26";""===d&&(g=b?"":"?");d=d+g+encodeURIComponent(e);return d=d+"\x3d"+encodeURIComponent(void 0===f?"":f)},""):""};
Uj=function(a){var b={};a=a||"";a=a.substring(a.indexOf("?")+1);a.split("\x26").forEach(function(c){var d=c.split("\x3d");c=decodeURIComponent(d[0]);d=decodeURIComponent(d[1]||"");c&&(b[c]=d)});return b};_.Vj=function(a,b){var c=void 0==b?!0:b,d=window.btoa(String.fromCharCode.apply(null,a)).replace(/\+/g,"-").replace(/\//g,"_");return c?d:d.replace(/=*$/,"")};
_.Wj=function(a){a=window.atob(a.replace(/-/g,"+").replace(/_/g,"/"));for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.Xj=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<a.length;c+=2)b[c/2]=window.parseInt(a.substr(c,2),16);return b};_.Yj=function(a){for(var b="",c=0;c<a.length;++c){var d=a[c].toString(16);1==d.length&&(d="0"+d);b+=d}return b};
_.Zj=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0};_.ak=function(a){for(var b=0,c=0;c<arguments.length;++c)b+=arguments[c].length;b=new Uint8Array(+b);for(var d=c=0;d<arguments.length;++d)b.set(arguments[d],c),c+=arguments[d].length;return b};
ck=function(a,b,c){bk.debug("Creating FPS payload");var d=b;_.C.aa(b)&&(d=_.ef(_.sf(b,2)));b=a.byteLength+4;b+=d.byteLength+4;b+=c.byteLength;b=new _.Xg(b,!0);_.Zg(b,a);_.N(b,d.byteLength);_.Zg(b,d);_.N(b,c.byteLength);_.Zg(b,c);return _.ef(b.buffer)};dk=function(a,b){var c=kf(b,!0);bk.debug("Default Extract content ID. The hostname of the content ID URL will be used!");return(new _.Rj(c)).b};_.ek=function(a,b){for(var c=_.u(a),d=c.next();!d.done;d=c.next())if(!b(d.value))return!1;return!0};
_.fk=function(a){this.b=[];this.c=[];this.a=[];8<=a.byteLength&&(new _.jh).X("pssh",this.f.bind(this)).parse(a.buffer);0==this.a.length&&_.G("No pssh box found!")};
_.jk=function(a){var b=this;this.l=a;this.G=new Set;this.i=this.u=null;this.T=!1;this.a=null;this.B=gk;this.m=new _.ii;this.K=new Oj;this.c=new Map;this.D=[];this.A=new _.nj;this.f=null;this.h=function(c){b.j=!0;b.o=!1;b.A.reject(c);a.onError(c)};this.Ra=new Map;this.$=new Map;this.V=new _.Hf(function(){return hk(b)});this.g=!1;this.va=new _.nj;this.w=!1;this.L=[];this.Qa=!1;this.S=0;this.b=new _.H("clpp.drm.DrmEngine");this.qa=(new _.Hf(function(){ik(b)})).Ga(1);this.A["catch"](function(){});this.j=
this.o=!1};
lk=function(a){var b;return _.A(function(c){switch(c.a){case 1:return a.m.release(),a.m=null,a.K.release(),a.K=null,a.j=!1,a.o=!1,a.A.reject(),a.qa.stop(),a.qa=null,a.V.stop(),a.V=null,b=Array.from(a.c.keys()),a.c.clear(),_.x(c,Promise.all(b.map(function(d){return Promise.resolve().then(function(){return _.A(function(e){if(1==e.a)return a.b.debug("Closing session",d.sessionId),_.Ce(e,2),_.x(e,kk(d),4);if(2!=e.a)return _.De(e,0);_.Ee(e);_.y(e)})})})),2);case 2:if(!a.i){c.C(3);break}_.Ce(c,4);return _.x(c,
a.i.setMediaKeys(null),6);case 6:_.De(c,5);break;case 4:_.Ee(c);case 5:a.i=null;case 3:a.a=null,a.G.clear(),a.u=null,a.D=[],a.f=null,a.h=null,a.l=null,a.S=0,_.y(c)}})};_.ok=function(a,b,c){a.B=mk;a.D=c;a.w=0<c.length;a.b.debug("Using Persisted Licenses: "+a.w);return _.nk(a,b)};
_.nk=function(a,b){var c=b.some(function(g){return 0<g.drmInfos.length});if(!c){var d=_.C.we(a.f.Na);pk(b,d)}var e=qk(a);if(e){var f=_.u(b);for(d=f.next();!d.done;d=f.next())d.value.drmInfos=[e]}e=_.u(b);for(d=e.next();!d.done;d=e.next())for(d=_.u(d.value.drmInfos),f=d.next();!f.done;f=d.next())rk(f.value,a.f.Na);d=sk(a,b);if(!d.size)return a.T=!0,Promise.resolve();d=_.tk(a,d);return c?d:d["catch"](function(){})};
_.zk=function(a,b){if(!a.u)return ji(a.m,b,function(){a.h(new _.J(_.K,6,6010))}),Promise.resolve();a.i=b;a.m.one(a.i,_.jd,function(){for(var e=0;e<a.L.length;e++)uk(a,a.L[e]);a.Qa=!0;a.L=[]});a.m.on(a.i,_.de,function(e){var f=a.o;a.o=!a.j;!f&&a.o&&(a.b.info("Waiting for DRM license key delivery"),a.l.onEvent(e))});var c=a.i.setMediaKeys(a.u);c=c["catch"](function(e){return Promise.reject(new _.J(_.K,6,6003,{browserError:e.message}))});var d=Promise.resolve();a.a&&a.a.keySystem!==_.cd&&!a.a.serverCertificate&&
(d=vk(a));d=d.then(function(){return _.wk(a)});return Promise.all([c,d]).then(function(){if(!a.g&&(_.xk(a),!a.a.initData.length&&!a.D.length))a.m.on(a.i,_.xc,function(e){_.yk(a,e.initDataType,_.ef(e.initData))})})["catch"](function(e){if(!a.g){if(6004===e.code&&a.a&&a.a.keySystem===_.mc&&1>a.S&&a.a.serverCertificate&&a.a.serverCertificate.length)return a.b.warn("Detected invalid widevine server certificate!. Retrying"),a.h(new _.J(1,6,6004)),a.a.serverCertificate=null,a.S++,_.zk(a,b);1<=a.S&&a.b.info("Could not get valid widevine server certificate. Giving up");
throw e;}})};_.wk=function(a){var b,c;return _.A(function(d){if(1==d.a){if(!(a.u&&a.a&&a.a.serverCertificate&&a.a.serverCertificate.length))return d.C(0);_.Ce(d,3);return _.x(d,a.u.setServerCertificate(a.a.serverCertificate),5)}if(3!=d.a)return(b=d.b)||a.b.warn("Server certificates are not supported by the key system.  The server certificate has been ignored."),_.De(d,0);c=_.Ee(d);throw new _.J(_.K,6,6004,{browserError:c.message});})};
vk=function(a){var b=a.f.Na[a.a.keySystem],c=b.certificateUrl||"";if(""===c)return Promise.resolve();var d=(b=b.modifiers)&&b.certificateRequest,e=b&&b.certificateResponse,f=a.l.getConfiguration();c=_.Gi([c],a.f.attemptParameters);c.type=3;d&&c.requestModifiers.push(function(g){return d(f,g)});e&&c.responseModifiers.push(function(g){return e(f,g)});a.b.debug("Fetching certificate");return a.l.Pb.fetch(c).promise.then(function(g){a.a.serverCertificate=_.ef(g.data)})["catch"](function(g){throw new _.J(_.K,
6,6100,{message:"Error while fetching certificate!",url:g.data.url,status:g.data.status,response:g.data.response,headers:g.data.headers},g);})};Ak=function(a,b){for(var c=0;c<b.bd.length;c++)if(_.Zj(a,b.bd[c]))return!0;return!1};
_.xk=function(a){var b=a.a?a.a.initData:[];b.forEach(function(c){var d=!0;if(a.f.enforceSingleSession&&!a.keySystem().startsWith(jc)){var e=a.c.values();e=_.u(e);for(var f=e.next();!f.done;f=e.next())f=f.value,_.Zj(c.initData,f.initData)?(a.b.debug(va),d=!1):f.periodId===c.periodId&&(a.b.debug("Ignore duplicated init data with same period id"),Ak(c.initData,f)||f.bd.push(c.initData),d=!1)}!d||a.w&&a.B===mk||Bk(a,c.keyId,c.periodId,c.initDataType,c.initData)});a.D.forEach(function(c){return _.Ck(a,
c)});b.length||a.D.length||(a.j||a.b.info(na),a.j=!0,a.o=!1,a.A.resolve());return a.A};
_.yk=function(a,b,c){if(!a.w||a.B!==mk){if(!a.keySystem().startsWith(jc)){var d=new _.fk(c);if(1<d.a.length){var e={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[a.keySystem()];if(e)for(var f=0;f<d.b.length;f++)if(e===d.b[f]){c=c.subarray(d.a[f].start,d.a[f].end+1);break}}}d=a.c.values();if(!a.i.webkitCurrentPlaybackTargetIsWireless)for(d=
_.u(d),e=d.next();!e.done;e=d.next()){e=e.value;if(_.Zj(c,e.initData)){a.b.debug(va);return}if(Ak(c,e)){a.b.debug("Ignoring duplicate init data (extra).");return}}"skd"!==b&&Bk(a,"",null,b,c)}};_.Dk=function(a){var b=Infinity;a=a.c.keys();a=_.u(a);for(var c=a.next();!c.done;c=a.next())c=c.value,isNaN(c.expiration)||(b=Math.min(b,c.expiration));return b};
sk=function(a,b){for(var c=new Set,d=_.u(b),e=d.next();!e.done;e=d.next()){var f=_.u(e.value.drmInfos);for(e=f.next();!e.done;e=f.next())c.add(e.value)}d=_.u(c);for(e=d.next();!e.done;e=d.next())rk(e.value,a.f.Na);f=a.w?_.sd:_.bd;var g=a.w?[_.hd]:[_.Jd];d=new Map;c=_.u(c);for(e=c.next();!e.done;e=c.next())e=e.value,d.set(e.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:_.bd,persistentState:f,sessionTypes:g,label:e.keySystem,drmInfos:[]});c=_.u(b);for(e=c.next();!e.done;e=
c.next()){e=e.value;f=e.audio;g=e.video;var h=f?_.hg(f.mimeType,f.codecs):"",l=g?_.hg(g.mimeType,g.codecs):"",m=_.u(e.drmInfos);for(e=m.next();!e.done;e=m.next()){e=e.value;var n=d.get(e.keySystem);n.drmInfos.push(e);e.distinctiveIdentifierRequired&&(n.distinctiveIdentifier=_.sd);e.persistentStateRequired&&(n.persistentState=_.sd);f&&n.audioCapabilities.push({robustness:e.audioRobustness||"",contentType:h});g&&n.videoCapabilities.push({robustness:e.videoRobustness||"",contentType:l})}}return d};
_.tk=function(a,b){function c(h,l,m){l.drmInfos.some(function(n){return!!n.licenseServerUri})==h&&(f=f["catch"](function(){return a.g?null:navigator.requestMediaKeySystemAccess(m,[l])}))}if(1==b.size&&b.has(""))return Promise.reject(new _.J(_.K,6,6E3));for(var d=_.u(b.values()),e=d.next();!e.done;e=d.next())e=e.value,0==e.audioCapabilities.length&&delete e.audioCapabilities,0==e.videoCapabilities.length&&delete e.videoCapabilities;var f=d=new _.nj,g=a.f.preferredDrmSystem;g||(e=_.Zh(),e.os===Th&&
10<=e.osVersion.major&&"edge"===e.browser&&(g=_.Ek));g&&(e=b.get(g))&&(c(!0,e,g),c(!1,e,g));[!0,!1].forEach(function(h){b.forEach(function(l,m){m!==g&&c(h,l,m)})});f=f["catch"](function(){throw new _.J(_.K,6,6001);});f=f.then(function(h){if(a.g)return null;a.G.clear();var l=h.getConfiguration(),m=l.videoCapabilities||[],n=_.u(l.audioCapabilities||[]);for(l=n.next();!l.done;l=n.next())a.G.add(l.value.contentType);m=_.u(m);for(l=m.next();!l.done;l=m.next())a.G.add(l.value.contentType);m=h.keySystem;
l=b.get(h.keySystem);n=[];var p=[],q=[],t=[];Fk(l.drmInfos,n,p,q,t);1<p.length&&_.G("Multiple unique server certificates found! Only the first will be used.");1<n.length&&_.G("Multiple unique license server URIs found! Only the first will be used.");a.a={keySystem:m,licenseServerUri:n[0],distinctiveIdentifierRequired:l.distinctiveIdentifier==_.sd,persistentStateRequired:l.persistentState==_.sd,audioRobustness:l.audioCapabilities?l.audioCapabilities[0].robustness:"",videoRobustness:l.videoCapabilities?
l.videoCapabilities[0].robustness:"",serverCertificate:p[0],initData:q,keyIds:t,periodId:null};if(!a.a.licenseServerUri)throw new _.J(_.K,6,6012,a.a.keySystem);return h.createMediaKeys()}).then(function(h){a.g||(a.b.info("Created MediaKeys object for key system",a.a.keySystem),a.u=h,a.T=!0)})["catch"](function(h){if(!a.g){a.a=null;a.G.clear();if(h instanceof _.J)throw h;throw new _.J(_.K,6,6002,{browserError:h.message});}});d.reject();return f};
qk=function(a){a=_.C.we(a.f.Na.Sj||{});if(0==a.size)return null;var b=[],c=[];a.forEach(function(e,f){var g=_.Xj(f),h=_.Xj(e);g={kty:"oct",kid:_.Vj(g,!1),k:_.Vj(h,!1)};b.push(g);c.push(g.kid)});a=JSON.stringify({keys:b});var d=JSON.stringify({kids:c});d=[{initData:_.qf(d),initDataType:"keyids"}];return{keySystem:_.cd,licenseServerUri:"data:application/json;base64,"+window.btoa(a),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,
initData:d,keyIds:[],periodId:null}};
_.Ck=function(a,b){try{a.b.debug("Attempting to load an offline session",b);var c=a.u.createSession(_.hd)}catch(f){var d=new _.J(_.K,6,6005,{browserError:f.message});a.h(d);return Promise.reject(d)}a.m.on(c,_.Tc,a.Gf.bind(a));a.m.on(c,_.Jc,a.Af.bind(a));var e={initData:null,loaded:!1,ce:Infinity,Oa:null,periodId:null,bd:[],keyId:null};a.c.set(c,e);return c.load(b).then(function(f){if(a.g)return null;a.b.debug("Loaded offline session",b,f);if(!f)return a.c["delete"](c),a.h(new _.J(_.K,6,6013)),null;
e.loaded=!0;Gk(a)&&(a.j||a.b.info(na),a.j=!0,a.o=!1,a.A.resolve());return c},function(f){a.g||(a.c["delete"](c),a.h(new _.J(_.K,6,6005,{browserError:f.message})))})};
Bk=function(a,b,c,d,e){try{if(a.w){a.b.debug("Creating new persistent session");var f=a.u.createSession(_.hd)}else a.b.debug("Creating new temporary session"),f=a.u.createSession()}catch(m){a.h(new _.J(_.K,6,6005,{browserError:m.message}));return}a.m.on(f,_.Tc,a.Gf.bind(a));a.m.on(f,_.Jc,a.Af.bind(a));a.c.set(f,{initData:e,loaded:!1,ce:Infinity,Oa:null,periodId:c,keyId:b,bd:[]});if(a.a.keySystem.startsWith(jc)){b=(b=a.f.Na[a.a.keySystem].modifiers)&&b.extractContentId||dk;c=a.l.getConfiguration();
var g="",h="No content ID returned from |extractContentId| modifier",l=void 0;if(typeof b===_.Dc){try{g=b(c,e)||""}catch(m){l=m,h="An error occured while extracting the content ID"}g||a.h(new _.J(_.K,6,6101,h,l))}e=ck(e,g,a.a.serverCertificate)}f.generateRequest(d,e.buffer)["catch"](function(m){if(!a.g){a.c["delete"](f);var n=null;m.errorCode&&m.errorCode.systemCode&&(n=m.errorCode.systemCode,0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16));a.h(new _.J(_.K,6,6006,{browserError:m.message,error:m,extended:n},
m))}})};
uk=function(a,b){var c=b.target;a.b.debug("Sending license request for session",c.sessionId);var d=a.c.get(c);if(b.messageType===_.Kc)a.l.onEvent(new _.O(sc));var e=a.a.licenseServerUri,f=a.f.Na[a.a.keySystem];"individualization-request"===b.messageType&&f&&f.individualizationServer&&(e=f.individualizationServer);f=_.Gi([e],a.f.attemptParameters);f.type=3;f.body=b.message;f.method="POST";f.licenseRequestType=b.messageType;a.a.keySystem!=_.lc&&a.a.keySystem!=kc||Hk(a,f);Pj(a.K,f);Ik(a,f);a.b.debug("Sending DRM license request to",e);
var g=Date.now();a.l.Pb.fetch(f).promise.then(function(h){if(a.g)return Promise.reject();a.b.info("Received license response in "+(Date.now()-g)+"ms");Qj(a.K,h);return c.update(h.data).then(function(){var l=new _.O(_.uc,{keySystem:a.keySystem(),Lh:_.Dk(a)});a.l.onEvent(l);d&&(d.Oa&&d.Oa.resolve(),(new _.Hf(function(){d.loaded=!0;Gk(a)&&(a.j||a.b.info(na),a.j=!0,a.o=!1,a.A.resolve())})).R(5))})},function(h){a.g||(h=new _.J(_.K,6,6007,{message:"Error while fetching license!",url:h.data.url,status:h.data.status,
response:h.data.response,headers:h.data.headers},h),a.h(h),d&&d.Oa&&d.Oa.reject(h))})["catch"](function(h){a.g||(h=new _.J(_.K,6,6008,{browserError:h.message}),a.h(h),d&&d.Oa&&d.Oa.reject(h))})};
Hk=function(a,b){var c=kf(b.body,!0,!0);if(c.includes("PlayReadyKeyMessage")){a.b.debug("Unwrapping PlayReady request.");c=(new DOMParser).parseFromString(c,"application/xml");for(var d=c.getElementsByTagName("HttpHeader"),e=0;e<d.length;++e)b.headers[d[e].querySelector("name").textContent]=d[e].querySelector(_.Ud).textContent;b.body=_.Wj(c.querySelector("Challenge").textContent).buffer}else a.b.debug("PlayReady request is already unwrapped."),b.headers[ma]="text/xml; charset\x3dutf-8"};
Ik=function(a,b){var c=a.f.Na[a.a.keySystem],d=(c=c&&c.modifiers)&&c.licenseRequest,e=c&&c.licenseResponse,f=a.l.getConfiguration();d?b.requestModifiers.push(function(g){return d(f,g)}):a.a.keySystem.startsWith(jc)&&b.requestModifiers.push(function(g){var h=_.ef(g.body);g.body=_.qf(encodeURIComponent("spc\x3d"+btoa(gf(h)))).buffer;g.headers[ma]=Mb});e?b.responseModifiers.push(function(g){return e(f,g)}):a.a.keySystem.startsWith(jc)&&b.responseModifiers.push(function(g){a:{try{var h=_.hf(g.data)}catch(l){g=
void 0;break a}h=h.trim();"\x3cckc\x3e"===h.substr(0,5)&&"\x3c/ckc\x3e"===h.substr(-6)&&(h=h.slice(5,-6));try{h=JSON.parse(h).ckc}catch(l){}g.data=_.Wj(h).buffer;g=void 0}return g})};hk=function(a){var b=a.Ra,c=a.$;c.clear();b.forEach(function(d,e){return c.set(e,d)});b=Array.from(c.values());b.length&&b.every(function(d){return"expired"==d})&&a.h(new _.J(_.K,6,6014));a.l.fe(_.C.xe(c));a.j||a.b.info(na);a.j=!0;a.o=!1};_.Kk=function(a,b){return a.length&&b.length?0<_.Jk(a,b).length:!0};
_.Jk=function(a,b){if(!a.length)return b;if(!b.length)return a;for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)if(a[d].keySystem===b[e].keySystem&&a[d].periodId===b[e].periodId){var f=a[d];e=b[e];var g=[];g=g.concat(f.initData||[]);g=g.concat(e.initData||[]);var h=[];h=h.concat(f.keyIds);h=h.concat(e.keyIds);c.push({keySystem:f.keySystem,licenseServerUri:f.licenseServerUri||e.licenseServerUri,distinctiveIdentifierRequired:f.distinctiveIdentifierRequired||e.distinctiveIdentifierRequired,
persistentStateRequired:f.persistentStateRequired||e.persistentStateRequired,videoRobustness:f.videoRobustness||e.videoRobustness,audioRobustness:f.audioRobustness||e.audioRobustness,serverCertificate:f.serverCertificate||e.serverCertificate,initData:g,keyIds:h,periodId:f.periodId});break}return c};ik=function(a){a.c.forEach(function(b,c){var d=b.ce,e=c.expiration;isNaN(e)&&(e=Infinity);e!=d&&(a.l.onExpirationUpdated(c.sessionId,e),b.ce=e)})};Gk=function(a){a=a.c.values();return _.ek(a,function(b){return b.loaded})};
pk=function(a,b){var c=[];b.forEach(function(f,g){c.push({keySystem:g,licenseServerUri:f.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var d=_.u(a),e=d.next();!e.done;e=d.next())e.value.drmInfos=c};
Fk=function(a,b,c,d,e){a.forEach(function(f){b.includes(f.licenseServerUri)||b.push(f.licenseServerUri);f.serverCertificate&&(c.some(function(h){return _.Zj(h,f.serverCertificate)})||c.push(f.serverCertificate));f.initData&&(f.initData.forEach(function(h){h.periodId=f.periodId}),f.initData.forEach(function(h){d.some(function(l){return l.keyId&&l.keyId==h.keyId&&l.periodId===h.periodId?!0:l.initDataType==h.initDataType&&_.Zj(l.initData,h.initData)&&l.periodId===h.periodId})||d.push(h)}));if(f.keyIds)for(var g=
0;g<f.keyIds.length;++g)e.includes(f.keyIds[g])||e.push(f.keyIds[g])})};
rk=function(a,b){if(a.keySystem){var c=b[a.keySystem];a.keySystem===_.cd&&a.licenseServerUri||(c&&(a.licenseServerUri=c.licenseUrl||""),a.keyIds||(a.keyIds=[]),c&&(a.distinctiveIdentifierRequired||(a.distinctiveIdentifierRequired=c.distinctiveIdentifierRequired),a.persistentStateRequired||(a.persistentStateRequired=c.persistentStateRequired),a.videoRobustness||(a.videoRobustness=c.videoRobustness||""),a.audioRobustness||(a.audioRobustness=c.audioRobustness||""),a.serverCertificate||(a.serverCertificate=
c.serverCertificate||null)),window.cast&&window.cast.__platform__&&a.keySystem===_.lc&&(a.keySystem=kc))}};kk=function(a){var b,c;return _.A(function(d){if(1==d.a)return b=new Promise(function(e){(new _.Hf(e)).R(1)}),_.x(d,Promise.race([a.close().then(function(){return!0}),b.then(function(){return!1})]),2);(c=d.b)||_.G("Timeout waiting for session close");_.y(d)})};
_.Mk=function(a,b){if(0==b.length)return a;var c=b.map(function(d){return new _.rj(d)});return a.map(function(d){return new _.rj(d)}).map(function(d){return c.map(d.resolve.bind(d))}).reduce(_.Lk.Hd,[]).map(function(d){return d.toString()})};_.Nk=function(a,b){return{keySystem:a,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:b||[],keyIds:[],periodId:null}};Ok=function(){this.a=null;this.b=[]};
_.Pk=function(a,b){if(null==a.a)a.a={timestamp:Date.now()/1E3,state:b,duration:0};else{var c=Date.now()/1E3;a.a.duration=c-a.a.timestamp;a.a.state!=b&&(a.b.push(a.a),a.a={timestamp:c,state:b,duration:0})}};Qk=function(a,b){var c=0;a.a&&a.a.state==b&&(c+=a.a.duration);for(var d=_.u(a.b),e=d.next();!e.done;e=d.next())e=e.value,c+=e.state==b?e.duration:0;return c};
Rk=function(a){function b(f){return{timestamp:f.timestamp,state:f.state,duration:f.duration}}for(var c=[],d=_.u(a.b),e=d.next();!e.done;e=d.next())c.push(b(e.value));a.a&&c.push(b(a.a));return c};Sk=function(){this.c=this.b=this.f=null;this.a=[]};Tk=function(a){return a.a.map(function(b){return _.C.lb(b)})};_.Uk=function(){this.h=this.l=this.i=this.m=this.f=this.g=this.b=this.c=NaN;this.a=new Ok;this.j=new Sk};
_.Vk=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}};Wk=function(){_.Nj.call(this,fc);this.m=this.o=!1;this.g=this.i=this.h=this.a=this.f=null;this.b=new _.ii;this.c=this.u=null};
Zk=function(a,b){return a.m?Xk():new Promise(function(c){a.a||(a.b.on(b,_.Ac,function(){var d=Yk(a);if(d)a.onError(d)}),a.b.on(b,_.td,function(){a.trigger(new _.O(_.Tb,{detail:{width:b.videoWidth,height:b.videoHeight}}))}),a.a=b);c()})};$k=function(a){return a.m?Xk():new Promise(function(b){if(a.a){var c=a.a;a.b.off(c,_.Ac);a.b.off(c,_.td);a.a=null}b()})};
cl=function(a){var b,c,d,e;return _.A(function(f){if(1==f.a){if(a.m)return f["return"](Xk());if(!a.configuration.drm)return a.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),f["return"](Promise.resolve());b=_.al;c=_.bl(a.configuration.drm);a.log.debug("Drm configuration: ",c);d=a.getNetworkEngine();a.h=new _.jk({Pb:d,onError:function(g){return a.onError(g)},fe:function(){},onExpirationUpdated:function(g,h){a.trigger(new _.O(_.rc,{expirationTime:h}))},onEvent:function(g){return a.trigger(g)},
getConfiguration:function(){return a.getConfiguration()}});a.h.f=c;e={id:0,language:_.Od,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:a.getDuration.bind(a),initSegmentReference:null,presentationTimeOffset:0,mimeType:_.Zd,codecs:"",encrypted:!0,keyId:null,language:_.Od,label:null,type:b.VIDEO,primary:!1,frameRate:void 0,
bk:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,Pj:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0};return _.x(f,_.ok(a.h,[e],[]),2)}return 3!=f.a?_.x(f,_.zk(a.h,a.a),3):f["return"](Promise.resolve())})};el=function(a,b){function c(){a.getState()!==_.dl&&a.seek(b)["catch"](function(d){a.log.warn("Error while seeking to start position.",d)})}if(a.a.readyState>HTMLMediaElement.HAVE_NOTHING)c();else a.b.one(a.a,_.Qc,c)};
Yk=function(a){if(null===a.j||!a.a.error)return null;var b=a.a.error.code;if(1===b)return null;var c=a.a.error.msExtendedCode;c&&(0>c&&(c+=Math.pow(2,32)),c=c.toString(16));return new _.J(_.K,3,3016,{code:b,Wj:c,message:a.a.error.message})};Xk=function(){return Promise.reject(new _.J(_.K,7,7E3))};
gl=function(a){function b(){h.reject(Yk(a))}function c(){l||h.reject(new _.J(_.K,3,3100,{message:"Unable to load media source successfully from "+d.url,uri:d.url},f.error))}if(a.m)return Xk();var d=a.j[a.getSourceIndex()],e=a.configuration.startTime||null,f=a.a,g=a.u;e&&el(a,e);a.b.one(f,_.Pc,function(){var m=Date.now()/1E3-g;a.c.i=m;a.log.debug("Time to load: ",m)});f.src=d.url;f.load();var h=new _.nj,l=!1;f.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?h.resolve():f.error?h.reject(Yk(a)):(a.b.one(f,
_.Pc,function(){l=!0;a.b.off(f,Bd,c);a.b.off(f,_.Ac,b);h.resolve()}),a.b.one(f,_.Ac,b),a.b.one(f,Bd,function(){(new _.Hf(function(){return c()})).R(5)}));return new _.fl(h,function(){var m=new _.J(_.K,7,7001);h.reject(m);return Promise.resolve()})};hl=function(){this.name=fc};_.jl=function(a){return _.il.get(a)||null};_.ll=function(a){_.il.get(a.id())?kl.warn("Component already in use."):_.il.set(a.id(),a)};ml=function(a){_.il.forEach(function(b){b&&a(b)})};_.nl=function(){};
ql=function(a,b){this.g=new _.H("clpp.PlayerSurface");this.a=_.C.eb({},ol,b);this.a.containerEl=(b||null)&&b.containerEl;this.f=typeof a===_.Fd?document.getElementById(a):a;this.j=this.l=this.i=this.c=this.h=this.b=null;var c=this.a.css;this.g.debug("Initializing Player Surface on ",this.f);var d=this.f.tagName.toLocaleLowerCase();d===_.Xd||d===_.Nb?this.b=this.f:"cast-media-player"===d&&(this.h=this.f);this.a.containerEl?(this.c=this.a.containerEl,_.yf(this.c,c.container)):this.a.disableContainer||
!this.b?this.c=this.b||this.f:(d=document.createElement(this.a.containerTag),_.yf(d,this.a.css.container),this.c=d,this.b&&this.f.parentNode?this.f.parentNode.replaceChild(this.c,this.f):this.f.parentNode||this.g.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!"),this.c.appendChild(this.b));this.b&&(this.b.hasAttribute(nc)||(d=this.a.crossorigin,this.g.info("Setting media elements crossorigin to "+d),this.b.setAttribute(nc,
d)),this.c&&(this.a.moveCssToContainer&&pl(this),_.yf(this.b,c.fill)))};_.rl=function(a){var b=a.H(),c=a.a.css;b?_.yf(b,c.hidden):a.g.debug("No media element available that could be hidden")};_.sl=function(a){var b=a.H(),c=a.a.css;b?_.zf(b,c.hidden):a.g.debug("No media element available that could be shown")};
pl=function(a){a.b&&a.c&&(xf(a.b).forEach(function(b){_.zf(a.b,b);_.yf(a.c,b)}),a.c.style.cssText=a.b.style.cssText,a.b.removeAttribute(Gd),[_.je,_.Ec].forEach(function(b){var c=a.b.getAttribute(b);c=parseInt(c,10);isNaN(c)||(a.c.style[b]=c+"px");_.Eh()||a.b.removeAttribute(b)}))};wl=function(a){a=(new _.rj(a)).ga;if(!a)return null;a=a.toUpperCase();return _.uf(a,".MPD")?_.tl:_.uf(a,".M3U8")?_.ul:_.uf(a,".MP4")?_.Zd:_.uf(a,"MANIFEST")||_.uf(a,".ISM")?_.vl:null};
_.yl=function(a){var b;_.Mj(a)?b=a.source:b=a;Array.isArray(b)||(b=[b]);b=b.filter(function(e){return typeof e===_.Fd||e.hasOwnProperty("url")});a=[];for(var c=0;c<b.length;c++){var d=xl(b[c]);xl&&a.push(d)}return a};
xl=function(a){var b=null;_.C.aa(a)&&(a={url:a});typeof a===_.$c&&!Array.isArray(a)&&a.hasOwnProperty("url")&&(b={url:a.url,type:a.type?a.type:null},_.C.I(a.gc)||typeof a.gc!==_.Ub||(b.gc=a.gc),_.C.I(a.isLive)||typeof a.isLive!==_.Ub||(b.isLive=a.isLive),_.C.I(a.name)||typeof a.name!==_.Fd||(b.name=a.name));b&&!b.type&&(b.type=wl(a.url),b.type?zl.debug("Detect media type "+b.type+" for "+a.url):zl.warn("Unable to detect media type for "+a.url));return b};Bl=function(){for(var a=0;a<Al.length;++a)Al[a].cc()};
_.Cl=function(a,b){b=b||0;for(var c={priority:b,cc:a},d=0;d<Al.length;d++)if(Al[d].priority<b){Al.splice(d,0,c);return}Al.push(c)};Dl=function(a){var b=a.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(typeof Event===_.Dc)var c=new Event(b,a);else c=document.createEvent("Event"),c.initEvent(b,a.bubbles,a.cancelable);a.target.dispatchEvent(c)};
El=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}};Fl=function(){_.I("PatchedMediaKeysNop.requestMediaKeySystemAccess");return Promise.reject(Error("The key system specified is not supported."))};Gl=function(a){_.I("PatchedMediaKeysNop.setMediaKeys");return null==a?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))};Hl=function(){throw new TypeError(wa);};
Il=function(){throw new TypeError(wa);};Jl=function(a,b,c){return new window.TextTrackCue(a,b,c)};Kl=function(a,b,c){return new window.TextTrackCue(a+"-"+b+"-"+c,a,b,c)};Ll=function(a){a=a.target;if(a.webkitPresentationMode===id){document.pictureInPictureElement=a;var b=new Event("enterpictureinpicture");a.dispatchEvent(b)}else document.pictureInPictureElement===a&&(document.pictureInPictureElement=null),b=new Event("leavepictureinpicture"),a.dispatchEvent(b)};
Ml=function(){return this.webkitSupportsPresentationMode(id)?(this.webkitSetPresentationMode(id),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))};Nl=function(){var a=document.pictureInPictureElement;return a?(a.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))};
Pl=function(a,b){_.I("PatchedMediaKeysApple.requestMediaKeySystemAccess");try{var c=new Ol(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}};
Ol=function(a,b){_.I("PatchedMediaKeysApple.MediaKeySystemAccess");this.keySystem=a;if(a.startsWith(jc))for(var c=_.u(b),d=c.next();!d.done;d=c.next()){var e=d.value;if(e.persistentState==_.sd)d=null;else{d={audioCapabilities:[],videoCapabilities:[],persistentState:_.bd,distinctiveIdentifier:_.bd,initDataTypes:e.initDataTypes,sessionTypes:[_.Jd],label:e.label};var f=!1,g=!1;if(e.audioCapabilities)for(var h=_.u(e.audioCapabilities),l=h.next();!l.done;l=h.next())l=l.value,l.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,
l.contentType.split(";")[0])&&(d.audioCapabilities.push(l),g=!0));if(e.videoCapabilities)for(e=_.u(e.videoCapabilities),l=e.next();!l.done;l=e.next())h=l.value,h.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,h.contentType.split(";")[0])&&(d.videoCapabilities.push(h),g=!0));f||(g=WebKitMediaKeys.isTypeSupported(this.keySystem,_.Zd));d=g?d:null}if(d){this.a=d;return}}c=Error(_.$a);c.name=_.Ha;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};
Rl=function(a){_.I("PatchedMediaKeysApple.setMediaKeys");var b=this.mediaKeys;b&&b!=a&&Ql(b,null);delete this.mediaKeys;return(this.mediaKeys=a)?Ql(a,this):Promise.resolve()};Sl=function(a){_.I("PatchedMediaKeysApple.MediaKeys");this.b=new WebKitMediaKeys(a);this.a=new _.ii};Ql=function(a,b){_.li(a.a);if(!b)return Promise.resolve();a.a.on(b,he,Tl);try{if(1<=b.readyState)b.webkitSetMediaKeys(a.b);else a.a.one(b,_.Qc,function(){b.webkitSetMediaKeys(a.b)});return Promise.resolve()}catch(c){return Promise.reject(c)}};
Vl=function(a){_.I("PatchedMediaKeysApple.MediaKeySession");_.Wi.call(this);this.c=null;this.g=a;this.b=this.a=null;this.f=new _.ii;this.sessionId="";this.expiration=NaN;this.closed=new _.nj;this.keyStatuses=new Ul};Tl=function(a){_.I("PatchedMediaKeysApple.onWebkitNeedKey_",a);var b=new Event(_.xc);b.initDataType=_.ac;b.initData=a.initData;this.dispatchEvent(b)};Wl=function(a,b){var c=a.keyStatuses;c.size=void 0==b?0:1;c.a=b;a.dispatchEvent(new _.O(_.Jc))};Ul=function(){this.size=0;this.a=void 0};
Yl=function(a,b,c){if("input"===a)switch(this.type){case "range":a=cc}Xl.call(this,a,b,c)};_.fl=function(a,b){this.promise=a;this.j=b;this.a=!1};Zl=function(a,b,c){try{var d=a(b);if(d&&d.promise&&d.abort)return c.resolve(d.promise),function(){return d.abort()};c.resolve(d);return function(){return Promise.resolve(d).then(function(){})["catch"](function(){})}}catch(e){return c.reject(e),function(){return Promise.resolve()}}};
am=function(a){_.fl.call(this,new _.nj,function(){return Promise.resolve()});this.l=a;this.c=null;this.i=this.promise;this.b=-1;this.f=this.g=this.h=null;$l(this)};bm=function(a,b,c){a.h=setTimeout(b,c)};
$l=function(a){a.c=a.l.then(function(d){a.f=d.request;d.request.uriIndex=d.request.currentAttempt%d.request.uris.length;if(0<d.request.currentAttempt){-1===a.b&&(a.b=cm(d.request.baseDelay,1E3));var e=a.b*(1+(2*Math.random()-1)*cm(d.request.fuzzFactor,.5));a.b*=cm(d.request.backoffFactor,2);if(0<e)return(new Promise(function(f,g){a.g=g;bm(a,function(){f(d.plugin(d.request))},e)}))["catch"](function(f){if(!a.a)throw f;})}if(a.a)throw new _.J(1,1,7001,{url:d.request.uris[d.request.uriIndex],request:d.request});
return d.plugin(d.request)});var b=0,c=0;return a.c.then(function(d){var e=d.request;e.currentAttempt+=1;b=e.currentAttempt;c=e.maxAttempts;return d.promise}).then(function(d){a.i.resolve(d)})["catch"](function(d){if(d instanceof _.J){if(1===d.a&&7001!==d.code&&b<c)return $l(a);7001!==d.code&&d.b(_.K);a.i.reject(d)}else a.i.reject(d)})};cm=function(a,b){return null===a||void 0===a?b:a};_.dm=function(a){this.b=a;this.a={}};
_.gm=function(a){var b={},c=a.a[_.em];c&&(b[_.em]={licenseUrl:c.licenseUrl,videoRobustness:c.videoRobustness,audioRobustness:c.audioRobustness,modifiers:c.modifiers,distinctiveIdentifierRequired:c.distinctiveIdentifierRequired,persistentStateRequired:c.persistentStateRequired,serverCertificate:c.serverCertificate});(c=a.a[_.fm])&&(b[_.fm]={licenseUrl:c.licenseUrl,certificateUrl:c.certificateUrl,modifiers:c.modifiers});(c=a.a[_.Ek])&&(b[_.Ek]={licenseUrl:c.licenseUrl,modifiers:c.modifiers});return b};
_.im=function(a){_.hm[a.b]=a};_.bl=function(a){var b={attemptParameters:Cj(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,Na:{}};a&&(b.enforceSingleSession=!!a.enforceSingleSession,b.delayLicenseRequestUntilPlayed=!!a.delayLicenseRequestUntilPlayed,b.preferredDrmSystem=a.preferredDrmSystem,a.env&&(b.Na=_.gm(_.hm[a.env]||null)||{},_.tf(a.env.toLowerCase(),"drmtoday")&&(b.enforceSingleSession=!0)));return b};jm=function(a,b,c){this.c=new Uint8Array(a);this.a=b;this.b=c};
_.lm=function(a){var b=new Uint8Array(km),c=4+b.byteLength+a.c.byteLength+4+a.b.byteLength,d=new _.Xg(c,!1);_.N(d,c);_.Zg(d,b);_.Zg(d,a.c);_.N(d,a.b.byteLength);_.Zg(d,a.b);return _.ef(d.buffer)};mm=function(){jm.apply(this,arguments)};_.om=function(a){var b=_.Xj(a);b=parseInt(b.byteLength,10).toString(16);b=_.Xj("12"+b+a);return new mm(nm,a,b)};_.pm=function(a,b,c,d){jm.call(this,a,b,d);this.f=c};
_.sm=function(a){a:{a=new _.$g(new DataView(a.buffer),!0);_.eh(a);for(_.dh(a);_.ah(a);)if(1===_.dh(a)){var b=_.dh(a);a=_.hh(a,b);break a}a=null}b=kf(a,!0);b=_.M.Lf(b,"WRMHEADER");var c=_.M.M(b,"DATA")[0];b=_.M.M(c,"LA_URL")[0];b=_.M.Fb(b);c=_.M.M(c,"KID")[0];c=_.M.Fb(c)||"";c=_.Wj(c);c=_.qm(c);c=_.Yj(c);return new _.pm(_.rm,c,b,a)};_.qm=function(a){var b=[];b.push(a[3]);b.push(a[2]);b.push(a[1]);b.push(a[0]);b.push(a[5]);b.push(a[4]);b.push(a[7]);b.push(a[6]);a=_.ef(a);a.set(b,0);return a};
wm=function(a){if(a===tm)return"https://lic.drmtoday.com";if(a===um)return"https://lic.staging.drmtoday.com";if(a===vm)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+a+"'. Can not infer DRMtoday base URL!");};Am=function(a,b){var c=wm(b);if(a==_.em)return c+xm;if(a==_.Ek)return c+ym;if(a==_.fm)return c+zm;throw Error("Unknown DRM Key-System '"+a+"'. Can not infer license URL!");};
Cm=function(a){a=Bm[a];if(!a)return null;var b=_.Zh();return b.os===Rh&&4===b.osVersion.major&&4===b.osVersion.minor?null:new Uint8Array(a)};_.Dm=function(){var a=_.Zh();return a.os===Rh&&"chrome"===a.browser?{video:void 0,audio:void 0}:{video:Qa,audio:Pa}};
_.Fm=function(a,b){var c=kf(b,!0);c=c.replace(/assetid/gi,"assetId");c=c.replace(/variantid/gi,"variantId");c=c.replace(/keyid/gi,"keyId");c=new _.Rj(c);var d=Uj(c.a);if(a&&a.drm&&a.drm.customData){var e=a.drm.customData,f=e.assetId,g=e.variantId;f&&_.vf(""+f)&&(d.assetId=f,Em.info("Using assetId from the configuration instead of the value from the HLS manifest."));g&&_.vf(""+g)&&(d.variantId=g,Em.info("Using variantId from the configuration instead of the value from the HLS manifest."));a.drm.env.startsWith(qa)&&
(f=d.keyId,(g=d.assetId)&&!e.assetId&&(Em.info("Applying assetId from HLS manifest."),e.assetId=g),f&&!e.keyId&&(Em.info("Applying keyId from HLS manifest."),e.keyId=f))}c.a=Tj(d,!1,["assetId","variantId","keyId"]);return _.Sj(c)};
_.Gm=function(a,b,c){c=void 0===c?!0:c;a=a.drm;if(!a||!a.env.startsWith(pa))Em.warn(Ea);else if(a.customData){var d=btoa(JSON.stringify({userId:a.customData.userId,sessionId:a.customData.sessionId,merchant:a.customData.merchant}));b.headers[vc]=d;a.customData.authToken&&(b.headers[ke]=""+a.customData.authToken);d=b.uris[0];c&&a.customData.assetId&&(d+="?assetId\x3d"+encodeURI(""+a.customData.assetId),a.customData.variantId&&(d+="\x26variantId\x3d"+encodeURI(""+a.customData.variantId)),b.uris[0]=d)}};
_.Hm=function(a,b){_.Gm(a,b,!1);b.headers[ma]=Mb;var c={spc:_.pf(b.body)},d=a.drm;d&&d.env.startsWith(qa)&&d.customData&&(d.customData.keyId&&(Em.info("Adding keyID to FPS payload:",d.customData.keyId),c.keyId=d.customData.keyId),d.customData.assetId&&(Em.info("Adding assetID to FPS payload:",d.customData.assetId),c.assetId=d.customData.assetId));b.body=_.sf(Tj(c,!0))};
_.Im=function(a,b){Em.debug("Clearing response data");var c=_.hf(b.data).trim();"\x3cckc\x3e"===c.substr(0,5)&&"\x3c/ckc\x3e"===c.substr(-6)&&(c=c.slice(5,-6));b.data=nf(c).buffer};_.Jm=function(a,b){var c=a.drm;if(!c||!c.env.startsWith(pa))Em.warn(Ea);else if(c.customData){var d=btoa(JSON.stringify({userId:c.customData.userId,sessionId:c.customData.sessionId,merchant:c.customData.merchant}));b.headers[vc]=d;c.customData.authToken&&(b.headers[ke]=""+c.customData.authToken)}};
_.Km=function(a,b){try{var c=_.ef(b.data),d=JSON.parse(String.fromCharCode.apply(null,c));Em.debug("Widevine License response",d);var e=atob(d.license),f=new Uint8Array(e.length);for(c=0;c<e.length;++c)f[c]=e.charCodeAt(c);b.data=f.buffer}catch(g){Em.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}};_.Lm=function(a){var b=[];a=_.u(a);for(var c=a.next();!c.done;c=a.next()){c=_.u(c.value.variants);for(var d=c.next();!d.done;d=c.next())b.push(d.value)}return b};
Mm=function(a,b){a.onError(b);a.release().then(function(){return a.destroy()})};Nm=function(a,b,c){this.c=a;this.b=b;JSON.parse(_.hf(nf(a)));this.a=JSON.parse(_.hf(nf(b)));this.f=c};Om=function(a){this.license=a;this.a=null;this.b=new _.H("clpp.utils.LicenseKey")};Pm=function(a){if(!a.a){var b=a.license.split(".");if(3!=b.length)throw Error("Expected to find 3 data sections in JWT raw data");b=new Nm(b[0],b[1],b[2]);a.a=b}return a.a};
Qm=function(a){switch((a.ed()[0]||{src:"",type:""}).type){case _.tl:a="dash";break;case _.vl:a="ss";break;case _.ul:a="hls";break;case _.Zd:a=_.Wc;break;default:a=""}return a};Rm=function(a){return a.viewerId?a.viewerId:(a=a.drm||null)&&a.customData&&a.customData.userId?""+a.customData.userId:""};Sm=function(a){return(a=a.drm||null)&&a.customData&&a.customData.assetId?""+a.customData.assetId:""};Tm=function(a){return(a=a.drm||null)&&a.customData&&a.customData.sessionId?""+a.customData.sessionId:""};
Um=function(a){a=a.getConfiguration();var b="no";a.drm&&(b="custom",a.drm&&a.drm.env&&a.drm.env.startsWith(pa)&&(b="drmtoday"));return b};Vm=function(a){a=a.getDrmInfo();var b="";if(a)switch(a.keySystem){case _.em:b="wv";break;case _.Ek:b="pr";break;case _.fm:b="fps"}return b};Wm=function(a){a=a.getDrmInfo();var b=!1;a&&(b=a.persistentStateRequired);return b.toString()};
Xm=function(a){a=a.getDrmInfo();var b="";if(a)switch(a.videoRobustness){case ua:case "HW_SECURE_ALL":b="L1";break;case ta:b="L2";break;case Qa:case Pa:b="L3"}return b};
$m=function(a,b){if(!window.location.protocol.startsWith("http"))return a.b.debug("Registration protocol check",window.location.protocol,window.location.protocol.startsWith("http")),Promise.resolve();var c="ie"===_.Zh().browser,d=b.getConfiguration();d={"CL-KEY":a.license,"CL-LOCATION":window.location.href,"CL-SDK-VERSION":_.da,"CL-USER-ID":Rm(d),"CL-ASSET-ID":Sm(d),"CL-SESSION-ID":Tm(d),"CL-PLAYBACK-TYPE":b.isLive()?Ym:Zm,"CL-CONTENT-TYPE":Qm(b),"CL-PLUGINS":b.bi().join(" "),"CL-DRM":Um(b),"CL-DRM-CDM":Vm(b),
"CL-DRM-SEC-LEVEL":Xm(b),"CL-DRM-OFFLINE":Wm(b)};if(c){var e=window.localStorage.getItem("cl_et");e&&(d["CL-ETAG"]=e)}e=_.Gi(["https://downloads.castlabs.com/r/register/"]);e.method="GET";e.headers=d;return(new _.Fj).fetch(e).promise.then(function(f){200===f.status&&c&&window.localStorage.setItem("cl_et",f.headers.etag);return Promise.resolve()})["catch"](function(f){a:{var g=Pm(a);f=f.data;var h=f.status;if(g.a&&g.a.ilv)f=Promise.resolve();else{switch(h){case 403:case 404:g=7101;var l="castLabs Player license is invalid";
l=403===h?l+(": "+f.response):l+"!";break;case 412:g=7103;l="userID is required for playback!";break;default:f=Promise.resolve();break a}f=Promise.reject(new _.J(_.K,7,g,l))}}return f})};_.an=function(a,b,c){this.g=a;this.h=b;this.f=c||this.g.H();this.a=this.b=this.c=null};_.Ej=function(){this.a=[]};_.bn=function(a,b){a.a.push(b["finally"](function(){_.yg(a.a,b)}))};_.dn=function(a){var b=(a||"").split("-");a=b[0]||"";b=b[1]||"";a=a.toLowerCase();a=cn.get(a)||a;return(b=b.toUpperCase())?a+"-"+b:a};
_.en=function(a,b,c,d,e,f,g,h){a=_.Gi(a);a.timeout=d.timeout;a.maxAttempts=d.maxAttempts;a.baseDelay=d.baseDelay;a.fuzzFactor=d.fuzzFactor;a.backoffFactor=d.backoffFactor;if(0!=b||null!=c)a.headers.Range=c?"bytes\x3d"+b+"-"+c:"bytes\x3d"+b+"-";e&&(a.startTime=e);f&&(a.endTime=f);g&&(a.contentType=g);h&&(a.timescale=h);return a};_.gn=function(){this.a=new Blob([fn],{type:_.Zd})};_.hn=function(a){this.c=Math.exp(Math.log(.5)/a);this.b=this.a=0};
_.jn=function(a,b,c){var d=Math.pow(a.c,b);c=c*(1-d)+d*a.a;isNaN(c)||(a.a=c,a.b+=b)};_.kn=function(a){return a.a/(1-Math.pow(a.c,a.b))};
T=function(a,b,c){_.Wi.call(this);var d=this;Bl();this.c=new _.H("clpp.Player");if(!a)throw new _.J(_.K,7,7102);if(null===b)throw new _.J(_.K,7,7100,"Null configuration provided! Unable to initialize the player!");this.b=this.D=b||_.Ij();this.j=null;void 0===this.b.license&&(this.b.license="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g",this.c.warn("You are using the embedded demo license!"));
if(!this.b.license)throw new _.J(_.K,7,7101,"No license provided in configuration!");this.f=new ql(a,c);this.a=this.i=null;this.m=new _.Fj;this.g=null;this.w=[];this.A={};this.h=null;this.o=!0;this.u=this.l=!1;this.B=function(f){(f=f.detail)&&f.currentState===_.ln&&(mn(d),d.off(_.Dd,d.B))};this.on(_.Dd,function(){d.getState()===_.dl&&d.unload()});nn(this,this.b.license);this.f.H()&&(a=this.f.H(),a.hasAttribute("autoplay")&&(a.removeAttribute("autoplay"),this.c.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),
void 0===this.b.autoplay&&(this.b.autoplay=!0,this.c.debug("Setting autoplay in configuration since it was specified in the video element"))));var e=[];on.forEach(function(f){try{var g=f.create(d.b);g&&e.push(g)}catch(h){d.c.error("Error while creating player plugin",h)}});pn(this,e);_.il.clear()};_.qn=function(a,b){b!==a.a&&(a.a&&(a.a.removeDelegate(a),a.a.destroy()),a.a=b,a.a&&(a.a.init(a.f,a.b),a.a.setNetworkEngine(a.getNetworkEngine()),a.a.addDelegate(a)))};
nn=function(a,b){a.i=new Om(b);a.i.verify()["catch"](function(c){setTimeout(function(){a.c.error("License verification failed: "+c);a.trigger(new _.O(_.Ac,{detail:new _.J(_.K,7,7101)}));a.destroy()},1E3)})};
mn=function(a){a.f.H();a.i||(a.i=new Om(a.b.license));var b=Object.keys(a.A);$m(a.i,{getConfiguration:a.getConfiguration.bind(a),ed:a.ed.bind(a),getDrmInfo:a.getDrmInfo.bind(a),bi:function(){return b},isLive:a.isLive.bind(a)}).then(function(){a.c.debug("License verified remotely")})["catch"](function(c){setTimeout(Mm,1E3,{release:a.release.bind(a),destroy:a.destroy.bind(a),onError:a.onError.bind(a)},c)})};
pn=function(a,b){a.w=b;a.Gc("onPlayerCreated").then(function(){a.w.forEach(function(c){var d=c.id();d&&(a.A[d]=c)})})};
rn=function(a){if(a.o)return a.c.debug("The player is already released. No-op"),new Promise(function(d){return d()});a.off(_.Dd,a.B);a.trigger(new _.O(_.qd));a.f&&a.f.release();a.g&&(a.g.dispose(),a.g=null);ml(function(d){d.release()});if(a.a){var b=null,c=a.a.on(_.Dd,function(d){b=d});return a.Gc("onPlayerWillRelease").then(function(){a.a.removeDelegate(a);return Promise.all([a.a.release(),a.m.release()])}).then(function(){a.c.debug("Releasing player completed");b&&(a.c.debug("Re-post state change event after release"),
a.trigger(b))})["finally"](function(){a.a.off(_.Dd,c);a.trigger(new _.O(pd))})}a.trigger(new _.O(pd));return new Promise(function(d){return d()})};
sn=function(a,b){return new Promise(function(c,d){var e;a:{if(b){for(e=0;e<b.length;e++);e=Object.values(_.ci);for(var f=0;f<e.length;f++)for(var g=0;g<b.length;g++)if(e[f].canPlay(b[g])){_.di.debug("Player Factory '"+e[f].name+"' can play",b[g]);e=new ai(e[f],g);break a}_.di.error("No compatible Player Factory found for sources:",b)}e=null}e?(f=e.b.create(),c(new bi(f,e.a))):(e=new _.O(_.Ac,{detail:new _.J(_.K,7,7003)}),a.trigger(e),d(e))})};
_.un=function(a,b){var c,d,e,f;return _.A(function(g){switch(g.a){case 1:if(a.l)throw Error("Player is already destroyed.");if(!a.f)throw Error("No surface associated with this player!");return _.x(g,a.release(),2);case 2:a.h=_.yl(b);c=_.Mj(b);a.b=_.Lj(a.D,c?b:{},{source:a.h});if(0===a.h.length)throw Error("Invalid request to load: could not find source to load");a.o=!1;d=a.h.findIndex(function(h){return a.canPlay(h)});if(-1!==d&&!a.u){g.C(3);break}return _.x(g,sn(a,a.h),4);case 4:f=g.b,e=f.a,d=f.b,
a.u=!1;case 3:return e?_.qn(a,e):a.a.addDelegate(a),a.g=tn(a,a.b).create(a),a.setSourceIndex(d),ml(function(h){h.wc()}),_.x(g,a.Gc("onContentWillLoad",a.b.source[d]),0)}})};_.vn=function(a){return _.A(function(b){a.f.H();a.on(_.Dd,a.B);a.trigger(new _.O(Rc));return _.x(b,Promise.all([a.a.load(a.b),a.g.load()]),0)})};
_.wn=function(a){var b,c,d;return _.A(function(e){if(1==e.a){if(a.b.remoteTextTracks)for(b=_.u(a.b.remoteTextTracks),c=b.next();!c.done;c=b.next())d=c.value,a.getTrackManager().addTextTrack(d);ml(function(){});return _.x(e,a.Gc(_.ad,a.getThumbnailStreams()),2)}return a.b.autoplay?_.x(e,a.play(),0):e.C(0)})};_.xn=function(a){a&&(0<=on.indexOf(a)||on.push(a))};
An=function(a){this.c=new _.H("clpp.StateManager");this.a=a;this.b=_.yn;this.j=_.zn;this.A=0;this.i=-1;this.K=this.g=this.D=this.m=0;this.h=this.l=this.B=this.u=!1;this.w=0;this.f=null;this.G=0;this.L=_.Fh();this.o=!1;this.D=(new Date).getTime();this.c.debug("Start watching for video events for "+this.a.namespace());this.a.on(_.zc,this.zf,this);this.a.on(Xb,this.Ee,this);this.a.on(_.kd,this.He,this);this.a.on(_.gd,this.Ge,this);this.a.on(_.nd,this.Ie,this);this.a.on(_.od,this.Je,this);this.a.on(_.vd,
this.Wc,this);this.a.on(_.wd,this.Xc,this);this.a.on(Bd,this.Ke,this);this.a.on(_.ce,this.If,this);this.a.on(_.Ac,this.Fe,this);this.a.on(_.Qc,this.Bf,this);this.a.on(Yb,this.wf,this);this.a.on(_.Td,this.Xc,this);this.a.on(_.Sd,this.Wc,this)};Bn=function(a,b){return Object.keys(b)[a]};
Dn=function(a,b){var c={type:_.Dd};b===_.Wb||b===_.Vb?(c.reason=a.i,b===_.Wb?c.timeSinceLastStateChangeMS=a.A:c.bufferedTimeMS=a.m):(a.b===_.Cn&&(c.reason=a.i),a.j===_.Cn&&(c.reason=a.i,c.bufferedTimeMS=a.m),c.currentState=a.b,c.previousState=a.j,c.timeSinceLastStateChangeMS=a.A);return c};
Hn=function(a,b){if(a.b===b)return!1;var c=(new Date).getTime(),d=a.b===_.Cn;a.j=a.b;a.b=b;a.j===_.En&&(a.D=c,a.g=0);a.g||(a.g=a.D||c);a.A=c-a.g;a.g=c;b===_.Cn?(a.K=a.g,a.i=a.l?1:2,a.c.info("Buffering started. Reason: "+Bn(a.i-1,_.Fn)),c=Dn(a,_.Wb),a.Kc(_.Wb,c)):d&&(a.m=a.g-a.K,a.c.info("Buffering finished. Reason: "+Bn(a.i-1,_.Fn)+". Buffering time: "+a.m+" ms"),c=Dn(a,_.Vb),a.Kc(_.Vb,c));c=Bn(a.j,_.Gn);d=Bn(a.b,_.Gn);a.c.info(_.Ja+c+" -\x3e "+d);a.Kc(_.Dd,Dn(a,""));return!0};
In=function(a){return a.a.namespace()!==hc};
Ln=function(a,b){if(a.b===_.dl)a.c.warn("Player is in error state, aborting any further state checks");else{var c=a.a?a.a.isEnded():!1;if(c)Hn(a,_.En)&&a.c.debug("Player claims to be in ended state, not checking more");else{var d=a.a.getPosition();d=null!==d&&void 0!==d&&0<=d?a.a.getBufferInfo().ra(d,!0):-1;a.w=d;var e=a.a.getSurface().H();a.f=e?e.readyState:null;a.G=a.a.getPlaybackRate()||1;a.B=a.a.isPaused();d=a.l;e=In(a)&&typeof a.f===_.Zc&&2>a.f&&2===e.networkState;var f=In(a)&&typeof a.f===_.Zc&&
0>=a.w&&a.b===_.yn,g=In(a)&&typeof a.f===_.Zc&&2>=a.f&&a.h,h=a.a.namespace()===hc&&!0;d=d||f||e||g||h;!a.L||a.a.isLive()||a.b!==_.Cn||d||(e=b===_.vd&&4===a.f,(f=a.j===_.Jn)&&!a.o?d=!0:f||a.o||e||(d=!0));e=!1;d?e=Hn(a,_.Cn):a.B?e=Hn(a,_.Kn):a.u&&(e=Hn(a,_.ln));e&&(a.o=!1);a.c.debug("Video state check for event "+b+":: seeking: "+a.l+", waiting: "+a.h+", playing: "+a.u+", paused: "+a.B+", readyState: "+a.f+", rate: "+a.G+", buffer: "+a.w+", ended: "+c+". Changed state: "+e+", Current state: "+Bn(a.b,
_.Gn))}}};_.Mn=function(a,b,c,d,e){this.Ba=a;this.ua=b;this.ha=c;this.keyInfo=d||null;this.fc=!!e};_.Nn=function(a,b,c,d,e,f,g,h,l){this.position=a;this.startTime=b;this.endTime=c;this.Ba=d;this.ua=e;this.ha=f;this.keyInfo=g||null;this.fc=!!h;this.timescale=void 0===l?null:l};
_.On=function(a,b,c){var d=void 0===d?!1:d;this.h=a;this.u=b;this.Sb=this.f=Infinity;this.a=1;this.i=0;this.c=this.g=null;this.j=0;this.b=!0;this.m=!1;this.w=void 0===c?!0:c;this.l=new _.H("clpp.media.PresentationTimeline");this.o=d};
_.Qn=function(a,b,c){if(0!=b.length){var d=b[b.length-1].endTime+c;_.Pn(a,b[0].startTime+c);a.a=b.reduce(function(e,f){return Math.max(e,f.endTime-f.startTime)},a.a);a.c=Math.max(a.c,d);null!=a.h&&a.w&&(a.h=(Date.now()+a.j)/1E3-a.c-a.a);a.l.debug("notifySegments: maxSegmentDuration\x3d"+a.a)}};_.Pn=function(a,b){a.g=null==a.g?b:Math.min(a.g,b)};_.Rn=function(a,b){a.a=Math.max(a.a,b);a.l.debug("notifyNewSegmentDuration: maxSegmentDuration\x3d"+a.a)};
_.Tn=function(a){if(Infinity==a.Sb)return 0;a=_.Sn(a)-a.Sb;return Math.max(0,a)};_.Sn=function(a){if(a.Nb())a=a.c;else if(a.isLive()||Infinity!=a.f&&!a.b){var b=(Date.now()+a.j)/1E3;a=Math.min(a.o?Math.max(0,b-(a.a-a.i)-a.h):Math.max(0,b-a.a-a.h),a.f)}else a=a.f;return a};_.Un=function(a){this.a=a};_.Vn=function(a,b){for(var c=0;c<a.a.length;++c)if(a.a[c].endTime>b){a.a.splice(0,c);return}a.a=[]};
_.Wn=function(a,b){for(;a.a.length;)if(0>=a.a[0].endTime)a.a.shift();else break;if(0!=a.a.length){var c=a.a[a.a.length-1];c.startTime>=b||(a.a[a.a.length-1]=new _.Nn(c.position,c.startTime,b,c.Ba,c.ua,c.ha,c.keyInfo,c.fc,c.timescale))}};Xn=function(){};Yn=function(){};Zn=function(){};_.bo=function(a){a&&(0<=$n.indexOf(a)?ao.warn("Factory '"+a.name()+"' is already registered"):($n.push(a),ao.info("Factory "+a.name()+"' has been registered.")))};
tn=function(a,b){var c=$n.find(function(d){return d.O(a,b)});c||(c=new Yn);ao.info("Chosen ads: "+c.name());return c};co=function(){};U=function(){};eo=function(){};_.fo=function(){};qe=typeof Object.create==_.Dc?Object.create:function(a){function b(){}b.prototype=a;return new b};
if(typeof Object.setPrototypeOf==_.Dc)go=Object.setPrototypeOf;else{var ho;a:{var io={Vf:!0},jo={};try{jo.__proto__=io;ho=jo.Vf;break a}catch(a){}ho=!1}go=ho?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}_.re=go;ve=typeof Object.defineProperties==_.Dc?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
te="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;we.prototype.toString=function(){return this.a};var ue=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new we("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();ze.prototype.j=function(a){this.b=a};ze.prototype["return"]=function(a){this.c={"return":a};this.a=this.g};ze.prototype.C=function(a){this.a=a};
Ke("Promise",function(a){function b(g){this.b=0;this.g=void 0;this.a=[];var h=this.c();try{g(h.resolve,h.reject)}catch(l){h.reject(l)}}function c(){this.a=null}function d(g){return g instanceof b?g:new b(function(h){h(g)})}if(a)return a;c.prototype.b=function(g){if(null==this.a){this.a=[];var h=this;this.c(function(){h.g()})}this.a.push(g)};var e=te.setTimeout;c.prototype.c=function(g){e(g,0)};c.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var h=0;h<g.length;++h){var l=
g[h];g[h]=null;try{l()}catch(m){this.f(m)}}}this.a=null};c.prototype.f=function(g){this.c(function(){throw g;})};b.prototype.c=function(){function g(m){return function(n){l||(l=!0,m.call(h,n))}}var h=this,l=!1;return{resolve:g(this.m),reject:g(this.f)}};b.prototype.m=function(g){if(g===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.o(g);else{a:switch(typeof g){case _.$c:var h=null!=g;break a;case _.Dc:h=!0;break a;default:h=!1}h?this.l(g):this.h(g)}};
b.prototype.l=function(g){var h=void 0;try{h=g.then}catch(l){this.f(l);return}typeof h==_.Dc?this.u(h,g):this.h(g)};b.prototype.f=function(g){this.i(2,g)};b.prototype.h=function(g){this.i(1,g)};b.prototype.i=function(g,h){if(0!=this.b)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.b);this.b=g;this.g=h;this.j()};b.prototype.j=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)f.b(this.a[g]);this.a=null}};var f=new c;b.prototype.o=function(g){var h=this.c();
g.Tc(h.resolve,h.reject)};b.prototype.u=function(g,h){var l=this.c();try{g.call(h,l.resolve,l.reject)}catch(m){l.reject(m)}};b.prototype.then=function(g,h){function l(q,t){return typeof q==_.Dc?function(v){try{m(q(v))}catch(z){n(z)}}:t}var m,n,p=new b(function(q,t){m=q;n=t});this.Tc(l(g,m),l(h,n));return p};b.prototype["catch"]=function(g){return this.then(void 0,g)};b.prototype.Tc=function(g,h){function l(){switch(m.b){case 1:g(m.g);break;case 2:h(m.g);break;default:throw Error("Unexpected state: "+
m.b);}}var m=this;null==this.a?f.b(l):this.a.push(l)};b.resolve=d;b.reject=function(g){return new b(function(h,l){l(g)})};b.race=function(g){return new b(function(h,l){for(var m=_.u(g),n=m.next();!n.done;n=m.next())d(n.value).Tc(h,l)})};b.all=function(g){var h=_.u(g),l=h.next();return l.done?d([]):new b(function(m,n){function p(v){return function(z){q[v]=z;t--;0==t&&m(q)}}var q=[],t=0;do q.push(void 0),t++,d(l.value).Tc(p(q.length-1),n),l=h.next();while(!l.done)})};return b});var Me=this||self;
Me.a=!0;clpp={};_.r=Pe.prototype;_.r.getBackgroundColor=function(){return this.m};_.r.setBackgroundColor=function(a){this.m=a;this.Pa()};_.r.getWindowColor=function(){return this.G};_.r.setWindowColor=function(a){this.G=a;this.Pa()};_.r.getFontFamily=function(){return this.w};_.r.setFontFamily=function(a){this.w=a;this.Pa()};_.r.getFontColor=function(){return this.u};_.r.setFontColor=function(a){this.u=a;this.Pa()};_.r.getFontSize=function(){return this.A};_.r.setFontSize=function(a){this.A=a;this.Pa()};
_.r.getEdgeColor=function(){return this.i};_.r.setEdgeColor=function(a){this.i=a;this.Pa()};_.r.getEdgeType=function(){return this.f};_.r.setEdgeType=function(a){this.f=a;this.Pa()};Pe.prototype.setEdgeType=Pe.prototype.setEdgeType;Pe.prototype.getEdgeType=Pe.prototype.getEdgeType;Pe.prototype.setEdgeColor=Pe.prototype.setEdgeColor;Pe.prototype.getEdgeColor=Pe.prototype.getEdgeColor;Pe.prototype.setFontSize=Pe.prototype.setFontSize;Pe.prototype.getFontSize=Pe.prototype.getFontSize;
Pe.prototype.setFontColor=Pe.prototype.setFontColor;Pe.prototype.getFontColor=Pe.prototype.getFontColor;Pe.prototype.setFontFamily=Pe.prototype.setFontFamily;Pe.prototype.getFontFamily=Pe.prototype.getFontFamily;Pe.prototype.setWindowColor=Pe.prototype.setWindowColor;Pe.prototype.getWindowColor=Pe.prototype.getWindowColor;Pe.prototype.setBackgroundColor=Pe.prototype.setBackgroundColor;Pe.prototype.getBackgroundColor=Pe.prototype.getBackgroundColor;_.C={Tf:20,lb:function(a){var b=_.C.I,c=_.C.nf,d=_.C.eb;return b(a)||c(a)?a:d(a)}};_.B("clpp.utils.obj.cloneItem",_.C.lb);_.C.eb=function(a){var b;var c={};var d=0;for(b=arguments.length;d<b;d++)null!==arguments[d]&&void 0!==arguments[d]&&(c=_.C.tf(c,{merging:arguments[d]}));return c.merging};_.B("clpp.utils.obj.merge",_.C.eb);
_.C.tf=function(a,b,c){var d=_.C.I,e=_.C.nf,f=_.C.tf,g=_.C.Mb,h=_.C.ki,l=_.C.hi,m=_.C.Cc;c=c+1||1;if(d(a)||!m(a))a={};for(var n in b)b.hasOwnProperty(n)&&(m=b[n],e(m)||d(m)||g(m)?a[n]=m:h(m)?a[n]=m.subarray(0):m instanceof Array?a[n]=f([],m):!d(m)&&l(m)&&c<_.C.Tf&&(a[n]=f(a[n],m,c)));return a};_.C.nf=function(a){a=typeof a;return a===_.Fd||a===_.Zc||a===_.Ub};_.C.I=function(a){return null===a||void 0===a};_.C.Cc=function(a){return typeof a===_.$c};_.C.Mb=function(a){return typeof a===_.Dc};
_.C.aa=function(a){return typeof a===_.Fd};_.C.sb=function(a){return typeof a===_.Zc};_.C.ki=function(a){var b=_.C.Cc,c=_.C.Mb;return!!(b(a)&&a.buffer&&a.buffer instanceof ArrayBuffer&&c(a.subarray))};_.C.hi=function(a){var b=_.C.Cc,c=_.C.I;return!c(a)&&b(a)&&a.constructor===Object};
_.C.ya=function(a,b,c,d){if(a===b||null===a&&null===b||void 0===a&&void 0===b)return!0;if(null===a&&null!==b||null!==a&&null===b||void 0!==a&&void 0===b||void 0===a&&void 0!==b||!_.C.Cc(a)||!_.C.Cc(b))return!1;for(var e=c||Object.keys(a),f={},g=0;g<e.length;g++){var h=e[g];if(_.C.I(d)||0>d.indexOf(h))if(f[h]=!0,a[h]!==b[h])return!1}if(_.C.I(c))for(a=Object.keys(b),b=0;b<a.length;b++)if(c=a[b],(_.C.I(d)||0>d.indexOf(c))&&!f[c])return!1;return!0};
_.C.isNaN=function(a){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(b){return b!==b})(a)};_.C.we=function(a){var b=new Map;Object.keys(a).forEach(function(c){b.set(c,a[c])});return b};_.C.xe=function(a){var b={};a.forEach(function(c,d){b[d]=c});return b};var Ze={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};_.B("clpp.log.Level",Ze);var Xe=3,We={},ko=[];_.B("clpp.log.getLoggers",function(){return _.C.lb(We)});_.B("clpp.log.addInterceptor",function(a){a&&ko.push(a)});_.B("clpp.log.removeInterceptor",function(a){a&&(a=ko.indexOf(a),0<=a&&ko.splice(a,1))});_.B("clpp.log.getTagLevel",Ye);_.B("clpp.log.hasTagLevel",function(a){return void 0===a?!1:0<=We[a]});_.B("clpp.log.setTagLevel",function(a,b){a&&(_.C.aa(b)&&(b=$e(b)),We[a]=b)});
_.B("clpp.log.setLogLevel",function(a){-1===a&&(a=3);_.C.aa(a)&&(a=$e(a));Xe=a});_.B("clpp.log.getLogLevel",function(){return Xe});_.B("clpp.log.Logger",_.H);
_.H.prototype.log=function(a,b){var c=arguments;if(window.console){var d=a;1<arguments.length?(d=arguments[0],Array.prototype.shift.call(arguments)):d=3;var e=Ye(this.a);if(0<=e){if(e<d)return}else if(Xe<d)return;this.a&&Array.prototype.unshift.call(arguments,"["+this.a+"]");e=new Date;e.toISOString&&(e=e.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,e));4===d?console.log.apply(console,arguments):3===d?console.info.apply(console,arguments):2===d?console.warn.apply(console,
arguments):1===d?console.error.apply(console,arguments):console.log.apply(console,arguments);0<ko.length&&ko.forEach(function(f){f.call(f,d,c)})}};_.H.prototype.log=_.H.prototype.log;_.H.prototype.info=function(a){Array.prototype.unshift.call(arguments,3);this.log.apply(this,arguments)};_.H.prototype.info=_.H.prototype.info;_.H.prototype.debug=function(a){Array.prototype.unshift.call(arguments,4);this.log.apply(this,arguments)};_.H.prototype.debug=_.H.prototype.debug;
_.H.prototype.warn=function(a){Array.prototype.unshift.call(arguments,2);this.log.apply(this,arguments)};_.H.prototype.warn=_.H.prototype.warn;_.H.prototype.error=function(a){Array.prototype.unshift.call(arguments,1);this.log.apply(this,arguments)};_.H.prototype.error=_.H.prototype.error;_.H.prototype.Fh=function(a){return a?this.a?new _.H(this.a+"."+a):new _.H(a):this};_.H.prototype.createChild=_.H.prototype.Fh;var af=new _.H("clpp");_.B("clpp.log.info",_.bf);_.B("clpp.log.debug",_.I);
_.B("clpp.log.warn",_.G);_.B("clpp.log.error",_.cf);for(var jf=new _.H("clpp.utils.strings"),of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mf=[],lo=0,mo=of.length;lo<mo;++lo)mf[of.charCodeAt(lo)]=lo;mf[61]=0;_.B("clpp.utils.strings.fromUtf8",_.hf);_.B("clpp.utils.strings.fromBytesAutoDetect",_.lf);_.B("clpp.utils.strings.fromBase64",nf);_.B("clpp.utils.strings.toBase64",_.pf);_.B("clpp.utils.strings.toUtf8",_.qf);_.B("clpp.utils.strings.toUtf16",_.rf);_.B("clpp.utils.strings.toByteArray",_.sf);
_.B("clpp.utils.strings.startsWith",_.tf);_.B("clpp.utils.strings.endsWith",_.uf);_.B("clpp.utils.strings.bitrateToString",function(a){if(void 0===a||null===a||""===a)return"";try{var b=Number(a);if(_.C.isNaN(b))return"";a="bps";1E3<=Math.abs(b)&&(a="Kbps",b/=1E3);1E3<=Math.abs(b)&&(a="Mbps",b/=1E3);return b.toFixed(2).replace(/[.,]00$/,"")+a}catch(c){return""}});
_.B("clpp.utils.strings.durationToStirng",function(a,b){function c(h){return function(l,m){return d(h,m.length-1)}}function d(h,l){return h.length<l?d("0"+h,l):h}b=void 0===b?"%h:%mm:%ss":b;if(null===a||void 0===a)a=0;if(null===b||void 0===b)b="%h:%mm:%ss";var e=Math.floor(a/3600),f=Math.floor((a-3600*e)/60),g=Math.floor(a-3600*e-60*f);return b.replace(/(%h+)/,c(String(e))).replace(/(%m+)/,c(String(f))).replace(/(%s+)/,c(String(g)))});
_.B("clpp.utils.strings.hashCode",function(a){var b=0,c;if(0===a.length)return b;for(c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return b});/*

 Copyright 2016 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
_.Gf.prototype.R=function(a){var b=this;this.stop();var c=!0,d=null;this.a=function(){window.clearTimeout(d);c=!1};d=window.setTimeout(function(){c&&b.b()},1E3*a);return this};_.Gf.prototype.stop=function(){this.a&&(this.a(),this.a=null)};_.Hf.prototype.qe=function(){this.stop();this.b();return this};_.Hf.prototype.R=function(a){var b=this;this.stop();this.a=(new _.Gf(function(){b.b()})).R(a);return this};_.Hf.prototype.Ga=function(a){var b=this;this.stop();this.a=(new _.Gf(function(){b.a.R(a);b.b()})).R(a);return this};_.Hf.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)};_.B("clpp.utils.Timer",_.Hf);_.Hf.prototype.stop=_.Hf.prototype.stop;_.Hf.prototype.tickEvery=_.Hf.prototype.Ga;_.Hf.prototype.tickAfter=_.Hf.prototype.R;
_.Hf.prototype.tickNow=_.Hf.prototype.qe;_.w(If,Pe);_.r=If.prototype;_.r.append=function(a){if(!this.c){this.o.debug("append cues");this.j=!0;a.sort(function(c,d){return c.startTime-d.startTime});var b=this.b.findIndex(function(c){return c.startTime>=a[0].startTime});0===b&&(this.b=[]);0<b&&(this.b=this.b.slice(0,b));Array.prototype.push.apply(this.b,a);this.j=!1;this.a||Kf(this);Jf(this)}};_.r.remove=function(a,b){if(this.c)return!1;this.o.debug("Remove cues",a,b);return!0};_.r.isTextVisible=function(){return this.h};
_.r.setTextVisibility=function(a){(this.h=a)&&!this.a&&Kf(this);a||(this.a&&(this.a.stop(),this.a=null),Lf(this))};_.r.Pa=function(){this.D.style.backgroundColor=this.getWindowColor();var a=this.l.style;a.backgroundColor=this.getBackgroundColor();a.color=this.getFontColor();a.fontSize=this.getFontSize();a.fontFamily=this.getFontFamily();a.textShadow=Ve(this)};_.r.destroy=function(){this.c=!0;this.a&&(this.a.stop(),this.a=null);this.b=[];return Promise.resolve()};_.w(_.Nf,Pe);_.r=_.Nf.prototype;_.r.append=function(){};_.r.remove=function(){return!0};_.r.isTextVisible=function(){return this.h};_.r.setTextVisibility=function(a){this.h=a};_.r.Pa=function(){if(!this.g){var a={"background-color":this.getBackgroundColor(),color:this.getFontColor(),"font-family":this.getFontFamily(),"font-size":this.getFontSize(),"text-shadow":Ve(this)},b=Object.keys(a).reduce(function(c,d){return""+c+d+": "+a[d]+";"},"");this.b.textContent="."+this.c+"::cue {"+b+"}"}};
_.r.destroy=function(){_.zf(this.j,this.c);document.head.removeChild(this.b);this.g=!0;return Promise.resolve()};var Mf=0;Of.prototype.O=function(){};Of.prototype.create=function(){};_.B("clpp.text.TextDisplayerFactory",Of);Of.prototype.create=Of.prototype.create;Of.prototype.isSupported=Of.prototype.O;var Pf=new Map,Qf=new _.H("clpp.text");Of.Type={HTML:"html",NATIVE:_.Yc,SINGLE_NATIVE:_.Ad};Tf.prototype.O=function(){return!0};Tf.prototype.create=function(a){return new _.Nf(a)};Tf.prototype.create=Tf.prototype.create;Tf.prototype.isSupported=Tf.prototype.O;_.Rf(_.Yc,new Tf);_.w(_.J,Error);_.J.prototype.b=function(a){this.a!==a&&(this.a=a,this.message=Uf(this.a,this.f,this.code,this.data))};_.J.prototype.toString=function(){var a=this.message;this.c&&(a+="\n Caused by "+this.c);return a};_.B("clpp.Error",_.J);_.K=2;_.J.Severity={RECOVERABLE:1,FATAL:_.K};_.J.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10};
_.no={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,INVALID_MP4:2011,
BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,
VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,
UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,
CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,
FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7E3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,INVALID_CONFIGURATION:7100,
INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8E3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9E3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,VIMOND_INVALID_CONFIGURATION:9200,VIMOND_SESSION_ERROR:9201,IMA_SDK_MISSING:1E4,IMA_INVALID_CONFIGURATION:10001,
AD_ERROR:10003,BROADPEAK_SDK_MISSING:11E3,BROADPEAK_SESSION_ERROR:11001,FREEWHEEL_SDK_MISSING:12E3,FREEWHEEL_INVALID_CONFIGURATION:12001};_.J.Code=_.no;_.B("clpp.text.Cue",_.eg);var Xf="auto";_.eg.positionAlign={LEFT:Mc,RIGHT:Nc,CENTER:_.bc,AUTO:Xf};var Yf=_.bc,rg={LEFT:"left",RIGHT:"right",CENTER:Yf,START:_.Cd,END:_.yc};_.eg.textAlign=rg;var bg="after",Jg={BEFORE:"before",CENTER:_.bc,AFTER:bg};_.eg.displayAlign=Jg;var Vf="ltr";_.eg.direction={HORIZONTAL_LEFT_TO_RIGHT:Vf,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Zf="horizontal-tb";_.eg.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Zf,VERTICAL_LEFT_TO_RIGHT:_.Vd,VERTICAL_RIGHT_TO_LEFT:_.Wd};var $f=0;
_.eg.lineInterpretation={LINE_NUMBER:$f,PERCENTAGE:1};var ag=_.Cd,tg={CENTER:_.bc,START:ag,END:_.yc};_.eg.lineAlign=tg;var cg=400;_.eg.fontWeight={NORMAL:cg,BOLD:700};var dg="normal",Lg={NORMAL:dg,ITALIC:"italic",OBLIQUE:"oblique"};_.eg.fontStyle=Lg;_.eg.textDecoration={UNDERLINE:Pd,LINE_THROUGH:Oc,OVERLINE:ed};_.B("clpp.text.CueRegion",Wf);var fg=1;Wf.units={PX:0,PERCENTAGE:fg,LINES:2};var gg="";Wf.scrollMode={NONE:gg,UP:"up"};_.oo=(new Map).set(_.ic,_.ic).set(_.Bc,"framerate").set("bandwidth","bitrate").set(_.je,_.je).set(_.Ec,_.Ec).set("channelsCount","channels");_.kg={};_.B("clpp.text.TextEngine.registerParser",function(a,b){_.kg[a]=b});_.B("clpp.text.TextEngine.unregisterParser",function(a){delete _.kg[a]});_.r=_.jg.prototype;_.r.destroy=function(){this.c=this.i=null;this.h.clear();return Promise.resolve()};_.r.remove=function(a,b){var c=this;return Promise.resolve().then(function(){!c.c||!c.c.remove(a,b)||null==c.a||b<=c.a||a>=c.b||(a<=c.a&&b>=c.b?c.a=c.b=null:a<=c.a&&b<c.b?c.a=b:a>c.a&&b>=c.b&&(c.b=a))})};_.r.Sa=function(){return this.a};_.r.ea=function(){return this.b};
_.r.Kb=function(a){return null==this.a||null==this.b?!1:a>=this.a&&a<this.b};_.r.ra=function(a){return null==this.b||this.b<a?0:this.b-Math.max(a,this.a)};_.r.ig=function(a){this.c.append(a)};_.jg.prototype.appendCues=_.jg.prototype.ig;_.jg.prototype.sd=function(a,b){this.j=a;var c=this.h.get(a);if(c)for(var d=_.u(c.keys()),e=d.next();!e.done;e=d.next())if(e=c.get(e.value))e=e.filter(function(f){return f.endTime<=b}),this.c.append(e)};_.jg.prototype.setSelectedClosedCaptionId=_.jg.prototype.sd;qg.prototype.parseInit=function(){};
qg.prototype.parseMedia=function(a,b){var c=_.hf(a);c=c.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n");c=c.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(c[0]))throw new _.J(_.K,2,2E3);var d=b.segmentStart;if(null==d&&(d=0,c[0].includes("X-TIMESTAMP-MAP"))){var e=c[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),f=c[0].match(/MPEGTS:(\d+)/m);if(e&&f){d=vg(new _.mg(e[1]));if(null==d)throw new _.J(_.K,2,2E3);d=b.periodStart+(Number(f[1])/9E4-d)}}f=[];var g=c[0].split("\n");for(e=1;e<g.length;e++)if(/^Region:/.test(g[e])){var h=
new _.mg(g[e]),l=new Wf;pg(h);og(h);for(var m=pg(h);m;){var n;a:{var p=l,q=m;if(n=/^id=(.*)$/.exec(q))p.id=n[1];else if(n=/^width=(\d{1,2}|100)%$/.exec(q))p.width=Number(n[1]);else if(n=/^lines=(\d+)$/.exec(q))p.height=Number(n[1]),p.heightUnits=2;else if(n=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(q))p.regionAnchorX=Number(n[1]),p.regionAnchorY=Number(n[2]);else if(n=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(q))p.viewportAnchorX=Number(n[1]),p.viewportAnchorY=Number(n[2]);else if(/^scroll=up$/.exec(q))p.scroll=
"up";else{n=!1;break a}n=!0}n||_.G("VTT parser encountered an invalid VTTRegion setting: ",m,aa);og(h);m=pg(h)}f.push(l)}e=[];for(h=1;h<c.length;h++){g=c[h].split("\n");p=g;q=d;if(1==p.length&&!p[0]||/^NOTE($|[ \t])/.test(p[0])||"STYLE"==p[0])g=null;else{g=null;p[0].includes("--\x3e")||(g=p[0],p.splice(0,1));l=new _.mg(p[0]);m=vg(l);var t=_.ng(l,/[ \t]+--\x3e[ \t]+/g);n=vg(l);if(null==m||null==t||null==n)throw new _.J(_.K,2,2001);m+=q;n+=q;p=p.slice(1).join("\n").trim();m=new _.eg(m,n,p);og(l);for(n=
pg(l);n;)ug(m,n,f)||_.G(cb,n,aa),og(l),n=pg(l);null!=g&&(m.id=g);g=m}g&&e.push(g)}return e};_.kg[_.Kd]=qg;_.kg['text/vtt; codecs\x3d"vtt"']=qg;var wg=[];var Oe="none",Qe="raised",Re="depressed",Te="dropshadow",Se="uniform";_.B("clpp.text.EdgeType",{NONE:Oe,RAISED:Qe,DEPRESSED:Re,DROP_SHADOW:Te,UNIFORM:Se});_.M={Ac:function(a,b){var c=_.M.M(a,b);return 1!=c.length?null:c[0]},dd:function(a,b,c){a=_.M.bf(a,b,c);return 1!=a.length?null:a[0]},M:function(a,b){return Array.prototype.filter.call(a.childNodes,function(c){return c instanceof Element&&c.tagName==b})},bf:function(a,b,c){return Array.prototype.filter.call(a.childNodes,function(d){return d instanceof Element&&d.localName==c&&d.namespaceURI==b})},getAttributeNS:function(a,b,c){return a.hasAttributeNS(b,c)?a.getAttributeNS(b,c):null},Fb:function(a){return Array.prototype.every.call(a.childNodes,
function(b){return b.nodeType==Node.TEXT_NODE||b.nodeType==Node.CDATA_SECTION_NODE})?a.textContent.trim():null},P:function(a,b,c,d){d=void 0===d?null:d;var e=null;a=a.getAttribute(b);null!=a&&(e=c(a));return null==e?d:e},jj:function(a){if(!a)return null;/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(a)&&(a+="Z");a=Date.parse(a);return isNaN(a)?null:Math.floor(a/1E3)},gb:function(a){if(!a)return null;var b=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(a);
if(!b)return _.G("Invalid duration string:",a),null;a=31536E3*Number(b[1]||null)+2592E3*Number(b[2]||null)+86400*Number(b[3]||null)+3600*Number(b[4]||null)+60*Number(b[5]||null)+Number(b[6]||null);return isFinite(a)?a:null},nd:function(a){var b=/([0-9]+)-([0-9]+)/.exec(a);if(!b)return null;a=Number(b[1]);if(!isFinite(a))return null;b=Number(b[2]);return isFinite(b)?{start:a,end:b}:null},parseInt:function(a){a=Number(a);return 0===a%1?a:null},md:function(a){a=Number(a);return 0===a%1&&0<a?a:null},
Qb:function(a){a=Number(a);return 0===a%1&&0<=a?a:null},parseFloat:function(a){a=Number(a);return isNaN(a)?null:a},Kh:function(a){var b;a=(b=a.match(/^(\d+)\/(\d+)$/))?Number(b[1])/Number(b[2]):Number(a);return isNaN(a)?null:a},Lf:function(a,b){var c=new DOMParser,d=null,e=null;try{e=c.parseFromString(a,_.Ld)}catch(f){}e&&e.documentElement.tagName==b&&(d=e.documentElement);return d&&0<d.getElementsByTagName(_.fd).length?null:d},Kf:function(a,b){try{var c=_.hf(a);return _.M.Lf(c,b)}catch(d){return null}}};zg.prototype.parseInit=function(){};
zg.prototype.parseMedia=function(a,b){var c=_.hf(a),d=[],e=new DOMParser,f=null;try{f=e.parseFromString(c,_.Ld)}catch(D){throw new _.J(_.K,2,2005);}if(f){if(c=f.getElementsByTagName(_.fd)[0])throw new _.J(_.K,2,2005,c.textContent);if(e=f.getElementsByTagName("tt")[0]){var g=_.M.getAttributeNS(e,Gc,_.Bc);var h=_.M.getAttributeNS(e,Gc,"subFrameRate");var l=_.M.getAttributeNS(e,Gc,"frameRateMultiplier");var m=_.M.getAttributeNS(e,Gc,"tickRate");f=e.getAttribute("xml:space")||"default";c=e.getAttribute("tts:extent")}else throw new _.J(_.K,
2,2005);if("default"!=f&&"preserve"!=f)throw new _.J(_.K,2,2005);f="default"==f;g=new Wg(g,h,l,m);h=Ag(e.getElementsByTagName(Uc)[0]);l=Ag(e.getElementsByTagName("styling")[0]);m=Ag(e.getElementsByTagName("layout")[0]);for(var n=[],p=0;p<m.length;p++){var q=m[p],t=c;var v=new Wf;var z=q.getAttribute(ne);if(z){v.id=z;z=null;t&&(z=po.exec(t)||qo.exec(t));t=z?Number(z[1]):null;z=z?Number(z[2]):null;var F,E;if(F=Mg(q,l,"extent"))F=(E=po.exec(F))||qo.exec(F),null!=F&&(v.width=null!=t?100*Number(F[1])/
t:Number(F[1]),v.height=null!=z?100*Number(F[2])/z:Number(F[2]),v.widthUnits=E||null!=t?fg:0,v.heightUnits=E||null!=z?fg:0);if(q=Mg(q,l,"origin"))F=(E=po.exec(q))||qo.exec(q),null!=F&&(v.viewportAnchorX=null!=z?100*Number(F[1])/z:Number(F[1]),v.viewportAnchorY=null!=t?100*Number(F[2])/t:Number(F[2]),v.viewportAnchorUnits=E||null!=t?fg:0)}else _.G("TtmlTextParser parser encountered a region with no id. Region will be ignored."),v=null;v&&n.push(v)}c=Ag(e.getElementsByTagName("body")[0]);for(e=0;e<
c.length;e++)(p=Fg(c[e],b.periodStart,g,h,l,m,n,f))&&d.push(p)}return d};
var po=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Kg=/^(\d+px|\d+em)$/,qo=/^(\d+)px (\d+)px$/,Pg=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Qg=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Sg=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Tg=/^(\d*(?:\.\d*)?)f$/,Ug=/^(\d*(?:\.\d*)?)t$/,Vg=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Ig={left:ag,center:_.bc,right:_.yc,start:ag,end:_.yc},Hg={left:Mc,center:_.bc,right:Nc};_.kg[_.Hb]=zg;_.Xg.prototype.getPosition=function(){return this.a};_.Xg.prototype.ia=function(){return this.b.byteLength};_.Xg.prototype.seek=function(a){(0>a||a>this.b.byteLength)&&_.Yg();this.a=a};_.Xg.prototype.seek=_.Xg.prototype.seek;_.$g.prototype.getPosition=function(){return this.a};_.$g.prototype.ia=function(){return this.b.byteLength};_.$g.prototype.skip=function(a){this.a+a>this.b.byteLength&&bh();this.a+=a};_.$g.prototype.seek=function(a){if(0>a||a>this.b.byteLength)throw bh();this.a=a};_.B("clpp.utils.Mp4Parser",_.jh);_.jh.prototype.J=function(a,b){var c=nh(a);this.c[c]=0;this.b[c]=b;return this};_.jh.prototype.box=_.jh.prototype.J;_.jh.prototype.X=function(a,b){var c=nh(a);this.c[c]=1;this.b[c]=b;return this};_.jh.prototype.fullBox=_.jh.prototype.X;_.jh.prototype.stop=function(){this.a=!0};_.jh.prototype.stop=_.jh.prototype.stop;
_.jh.prototype.parse=function(a,b){var c=_.ef(a);c=new _.$g(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);for(this.a=!1;_.ah(c)&&!this.a;)this.ld(0,c,b)};_.jh.prototype.parse=_.jh.prototype.parse;
_.jh.prototype.ld=function(a,b,c){var d=b.getPosition(),e=_.eh(b),f=_.eh(b);this.f.debug("Parsing MP4 box",oh(f));switch(e){case 0:e=b.ia()-d;break;case 1:e=_.gh(b)}var g=this.b[f];if(g){var h=null,l=null;1==this.c[f]&&(l=_.eh(b),h=l>>>24,l&=16777215);f=b.getPosition()-d;var m=d+e;c&&m>b.ia()&&(m=b.ia());m-=b.getPosition();b=0<m?_.hh(b,m):new Uint8Array(0);b=new _.$g(new DataView(b.buffer,b.byteOffset,b.byteLength),!1);g({hb:this,Mf:c||!1,version:h,flags:l,v:b,size:e,start:d+a,Td:f})}else a=Math.min(d+
e-b.getPosition(),b.ia()-b.getPosition()),b.skip(a)};_.jh.prototype.parseNext=_.jh.prototype.ld;_.jh.children=_.kh;_.jh.sampleDescription=_.lh;_.jh.allData=mh;_.jh.typeToString=oh;ph.prototype.parseInit=function(a){var b=!1;(new _.jh).J("moov",_.kh).J("trak",_.kh).J("mdia",_.kh).J("minf",_.kh).J("stbl",_.kh).X("stsd",_.lh).J("stpp",function(c){b=!0;c.hb.stop()}).parse(a);if(!b)throw new _.J(_.K,2,2007);};ph.prototype.parseMedia=function(a,b){var c=this,d=!1,e=[];(new _.jh).J(_.Sc,mh(function(f){d=!0;e=e.concat(c.a.parseMedia(f,b))})).parse(a);if(!d)throw new _.J(_.K,2,2007);return e};_.kg['application/mp4; codecs\x3d"stpp"']=ph;
_.kg['application/mp4; codecs\x3d"stpp.TTML.im1t"']=ph;th.prototype.create=function(){return new qh};th.prototype.probe=function(a,b){return("text/srt"===a||a===Lb)&&b===_.Kd};wg.push(new th);_.w(uh,qg);uh.prototype.parseMedia=function(a,b){return qg.prototype.parseMedia.call(this,_.sh(a),b)};_.kg["text/srt"]=uh;_.kg[Lb]=uh;_.Lk={Gh:function(a,b){return a.reduce(function(c,d,e){return d["catch"](c.bind(null,e))}.bind(null,b),Promise.reject())},Hd:function(a,b){return a.concat(b)},Ec:function(){},bb:function(a){return null!=a}};vh.prototype.parseInit=function(a){var b=this,c=!1;(new _.jh).J("moov",_.kh).J("trak",_.kh).J("mdia",_.kh).X("mdhd",function(d){0==d.version?(d.v.skip(4),d.v.skip(4),b.a=_.eh(d.v),d.v.skip(4)):(d.v.skip(8),d.v.skip(8),b.a=_.eh(d.v),d.v.skip(8));d.v.skip(4)}).J("minf",_.kh).J("stbl",_.kh).X("stsd",_.lh).J("wvtt",function(){c=!0}).parse(a);if(!this.a)throw new _.J(_.K,2,2008);if(!c)throw new _.J(_.K,2,2008);};
vh.prototype.parseMedia=function(a,b){var c=this;if(!this.a)throw this.b.error("No init segment for MP4+VTT!"),new _.J(_.K,2,2008);var d=0,e=[],f,g=[],h=!1,l=!1,m=!1,n=null;(new _.jh).J("moof",_.kh).J("traf",_.kh).X("tfdt",function(v){h=!0;d=0==v.version?_.eh(v.v):_.gh(v.v)}).X("tfhd",function(v){var z=v.flags;v=v.v;v.skip(4);z&1&&v.skip(8);z&2&&v.skip(4);n=z&8?_.eh(v):null}).X("trun",function(v){l=!0;var z=v.version,F=v.flags;v=v.v;var E=_.eh(v);F&1&&v.skip(4);F&4&&v.skip(4);for(var D=[],L=0;L<E;L++){var R=
{duration:null,sampleSize:null,re:null};F&256&&(R.duration=_.eh(v));F&512&&(R.sampleSize=_.eh(v));F&1024&&v.skip(4);F&2048&&(R.re=0==z?_.eh(v):_.fh(v));D.push(R)}e=D}).J(_.Sc,mh(function(v){m=!0;f=v})).parse(a);if(!m&&!h&&!l)throw new _.J(_.K,2,2008);var p=d,q=new DataView(f.buffer,f.byteOffset,f.byteLength),t=new _.$g(q,!1);e.forEach(function(v){var z=v.duration||n,F=v.re?d+v.re:p;p=F+(z||0);var E=0;do{var D=_.eh(t);E+=D;var L=_.eh(t);L=oh(L);var R=null;"vttc"==L?8<D&&(R=_.hh(t,D-8)):("vtte"!=L&&
c.b.error("Unknown box "+L+"! Skipping!"),t.skip(D-8));z?R&&g.push(xh(R,b.periodStart+F/c.a,b.periodStart+p/c.a)):c.b.error("WVTT sample duration unknown, and no default found!")}while(v.sampleSize&&E<v.sampleSize)});return g.filter(_.Lk.bb)};_.kg['application/mp4; codecs\x3d"wvtt"']=vh;yh.prototype.parseInit=function(a){try{var b=new ph;b.parseInit(a)}catch(c){b=null}if(b)this.a=b;else{try{b=new vh,b.parseInit(a)}catch(c){b=null}if(b)this.a=b;else throw new _.J(_.K,2,2011);}};yh.prototype.parseMedia=function(a,b){if(!this.a)throw new _.J(_.K,2,2011);return this.a.parseMedia(a,b)};_.kg[_.Fb]=yh;_.B(gc,zh);zh.getInfo=_.Zh;
var Jh=null,Ih=null,Kh=new _.H(gc),Rh="android",Qh="ios",Vh="linux",Sh="osx",Th="windows",Uh="tizen",Ph=Qd,Yh=Qd,Xh={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,
chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,
chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}};$h.prototype.O=function(a){return!!a.enableEnhancedSubtitleManager&&!Hh()};$h.prototype.create=function(a){return new If(a)};$h.prototype.create=$h.prototype.create;$h.prototype.isSupported=$h.prototype.O;_.Rf("html",new $h);_.di=new _.H("clpp.players");_.ci={};_.r=_.fi.prototype;_.r.push=function(a,b){this.a.hasOwnProperty(a)?this.a[a].push(b):this.a[a]=[b]};_.r.get=function(a){return(a=this.a[a])?a.slice():[]};_.r.remove=function(a,b){var c=this.a[a];if(!c)return!1;for(var d=!1,e=0;e<c.length;++e)c[e]==b&&(c.splice(e,1),--e,d=!0);return d};_.r.clear=function(){this.a={}};_.r.forEach=function(a){for(var b in this.a)a(b,this.a[b])};gi.prototype.Kc=function(a){try{this.cc.handleEvent?this.cc.handleEvent(a):this.cc.call(this.a,a)}catch(b){_.cf("clpp","Uncaught exception in event handler for event '"+this.b+"'",b,b?b.message:null,b?b.stack:null)}};_.O.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};_.O.prototype.stopImmediatePropagation=function(){this.a=!0};_.O.prototype.stopPropagation=function(){};_.B("clpp.EventBus",hi);
hi.prototype.trigger=function(a){var b=this.a.get(a.type);if(b)for(var c=0;c<b.length&&(a.target=this.b,a.currentTarget=this.b,b[c].Kc(a),b[c].qj&&this.a.remove(a.type,b[c]),!a||!a.a);c++);};hi.prototype.trigger=hi.prototype.trigger;hi.prototype.on=function(a,b,c){this.a.push(a,new gi(a,b,c||this.b));return b};hi.prototype.on=hi.prototype.on;hi.prototype.one=function(a,b,c){this.a.push(a,new gi(a,b,c||this.b,!0));return b};hi.prototype.one=hi.prototype.one;
hi.prototype.off=function(a,b){var c=this.a.get(a),d=!1;if(c)for(var e=0;e<c.length;e++)c[e].cc===b&&(d=this.a.remove(a,c[e])||d);return d};hi.prototype.off=hi.prototype.off;hi.prototype.clear=function(){this.a.clear()};hi.prototype.clear=hi.prototype.clear;_.ii.prototype.release=function(){_.li(this)};_.ii.prototype.on=function(a,b,c,d){a=new mi(a,b,c,void 0===d?!1:d);this.a.push(b,a)};_.ii.prototype.one=function(a,b,c){function d(f){e.off(a,b,d);c(f)}var e=this;this.on(a,b,d)};_.ii.prototype.off=function(a,b,c){for(var d=this.a.get(b)||[],e=0;e<d.length;++e){var f=d[e];f.target!=a||c!=f.listener&&c||(ki(f),this.a.remove(b,f))}};ni.prototype.release=function(){this.c.release();this.f=[];this.a=null};ni.prototype.destroy=function(){var a=this;return _.A(function(b){a.release();a.h=null;a.g=null;_.y(b)})};ni.prototype.getTimelineCues=function(){return this.f};var Ai;_.wi.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length};_.B("clpp.Track",_.wi);_.wi.prototype.toString=_.wi.prototype.toString;_.B("clpp.Rendition",_.xi);_.Ci=1;_.zi=_.Xd;_.Q=_.Nb;_.P=_.k;Ai=Uc;_.ro={VIDEO:_.zi,AUDIO:_.Q,TEXT:_.P,Mj:Ai};_.wi.Type=_.ro;_.B("clpp.TrackManager",_.S);_.S.prototype.getVideoTracks=_.S.prototype.getVideoTracks;_.S.prototype.getAudioTracks=_.S.prototype.getAudioTracks;_.S.prototype.getTextTracks=_.S.prototype.Y;_.S.prototype.getVideoRendition=_.S.prototype.Z;_.S.prototype.getAudioRendition=_.S.prototype.sa;_.S.prototype.getTextRendition=_.S.prototype.ja;_.S.prototype.getLoadingVideoRendition=_.S.prototype.za;_.S.prototype.getLoadingAudioRendition=_.S.prototype.Ha;_.S.prototype.getLoadingTextRendition=_.S.prototype.Ia;
_.S.prototype.getVideoTrack=_.S.prototype.ka;_.S.prototype.getAudioTrack=_.S.prototype.fa;_.S.prototype.getTextTrack=_.S.prototype.ca;_.S.prototype.setVideoTrack=_.S.prototype.Fa;_.S.prototype.setAudioTrack=_.S.prototype.na;_.S.prototype.setTextTrack=_.S.prototype.oa;_.S.prototype.setVideoRendition=_.S.prototype.Ea;_.S.prototype.setAudioRendition=_.S.prototype.La;_.S.prototype.setTextRendition=_.S.prototype.Ma;
_.S.prototype.Rh=function(a){return this.getVideoTracks().find(function(b){return _.C.ya(b,a,a&&Object.keys(a))})};_.S.prototype.findVideoTrack=_.S.prototype.Rh;_.S.prototype.Nh=function(a){return this.getAudioTracks().find(function(b){return _.C.ya(b,a,a&&Object.keys(a))})};_.S.prototype.findAudioTrack=_.S.prototype.Nh;_.S.prototype.Ph=function(a){return this.Y().find(function(b){return _.C.ya(b,a,a&&Object.keys(a))})};_.S.prototype.findTextTrack=_.S.prototype.Ph;
_.S.prototype.Qh=function(a){return this.getVideoTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.C.ya(b,a,a&&Object.keys(a))})};_.S.prototype.findVideoRendition=_.S.prototype.Qh;_.S.prototype.Mh=function(a){return this.getAudioTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.C.ya(b,a,a&&Object.keys(a))})};_.S.prototype.findAudioRendition=_.S.prototype.Mh;
_.S.prototype.Oh=function(a){return this.Y().flatMap(function(b){return b.renditions}).find(function(b){return _.C.ya(b,a,a&&Object.keys(a))})};_.S.prototype.findTextRendition=_.S.prototype.Oh;_.S.prototype.addTextTrack=_.S.prototype.addTextTrack;_.S.prototype.isAbrEnabled=_.S.prototype.la;_.w(Ei,_.S);_.r=Ei.prototype;
_.r.he=function(a,b){if(b){var c=b.track;if(c){var d=this.g.find(function(g){return Fi(g,c,a)});if(d)this.a.warn("Track from event already exists",c,d);else{var e=Di(a,c);if(a===_.P){if(c.kind===Uc)return;var f;void 0!==c.id?f=this.i[c.id]:f=Object.values(this.i).find(function(g){return Fi(e,g,a)});e.kind&&"captions"===e.kind&&(e.mimeType=_.Db);f&&(e.src=f.url,e.mimeType=f.mimeType)}else if(d=this.g.find(function(g){return g.type===a&&_.C.ya(g,e,["kind","label","language"])})){d.id=c.id;Ri(c)&&this.c.set(a,
d);this.a.debug("Track from event seems to already exists, flipped native track to",c);return}try{e.renditions.push(new _.xi(e.id,e)),this.g.push(e),this.a.debug(a+" Track added",e),this.b.trigger(new _.O(_.so)),Ri(c)&&this.c.set(a,e)}catch(g){this.a.error("Error while converting track data",g)}}}else this.a.warn(Ga)}else this.a.warn(Fa)};
_.r.ke=function(a,b){if(b){var c=b.track;if(!c)this.a.warn(Ga);else if(a===_.P&&c.kind!==Uc){var d=this.g.find(function(e){return Fi(e,c,a)});d&&(this.g.splice(this.g.indexOf(d),1),(this.c.get(a)||null)===d&&this.c.set(a,null),this.a.debug(a+" Track removed, id: ",d.id))}}else this.a.warn(Fa)};
_.r.je=function(a,b){this.a.debug(a+" Track changed",b);var c=Ki(this,a);if(c)for(var d={Zb:0};d.Zb<c.length;d={Zb:d.Zb},++d.Zb)if(Ri(c[d.Zb])){if(d=this.g.find(function(e){return function(f){return Fi(f,c[e.Zb],a)}}(d)))this.c.set(a,d),this.a.debug("Track change detected, id:",d.id),d===this.h.get(a)&&this.h.set(a,null),a===_.Q?this.b.trigger(new _.O(_.Oi)):a===_.P&&this.b.trigger(new _.O(_.Pi));break}};_.r.mb=function(a){this.b=a};
_.r.load=function(){this.j=!1;var a=Ji(this,_.P);a&&(this.f.on(a,wb,this.A),this.f.on(a,rd,this.D),this.f.on(a,cc,this.B));if(a=Ji(this,_.Q))this.f.on(a,wb,this.o),this.f.on(a,rd,this.w),this.f.on(a,cc,this.u);if(a=Ji(this,_.zi))this.f.on(a,wb,this.G),this.f.on(a,rd,this.L),this.f.on(a,cc,this.K);this.f.one(this.b,Yb,this.hh.bind(this))};_.r.release=function(){this.j=!0;this.g=[];this.i={};this.c.clear();this.h.clear();this.f.release()};_.r.destroy=function(){this.release();this.b=null};
_.r.getVideoTracks=function(){return Li(this,_.zi)};_.r.getAudioTracks=function(){return Li(this,_.Q)};_.r.Y=function(){return Li(this,_.P)};_.r.Z=function(){return Mi(this,_.zi)};_.r.sa=function(){return Mi(this,_.Q)};_.r.ja=function(){return Mi(this,_.P)};_.r.za=function(){return Ni(this,_.zi)};_.r.Ha=function(){return Ni(this,_.Q)};_.r.Ia=function(){return Ni(this,_.P)};_.r.ka=function(){return this.c.get(_.zi)||null};_.r.fa=function(){return this.c.get(_.Q)||null};
_.r.ca=function(){return this.c.get(_.P)||null};_.r.Fa=function(a){Qi(this,_.zi,a)};_.r.na=function(a){Qi(this,_.Q,a)};_.r.oa=function(a){Qi(this,_.P,a)};_.r.Ea=function(a){Qi(this,_.zi,a&&a.track)};_.r.La=function(a){Qi(this,_.Q,a&&a.track)};_.r.Ma=function(a){Qi(this,_.P,a&&a.track)};_.r.addTextTrack=function(a){var b=this,c;return _.A(function(d){return a.mimeType.match(/text\/vtt/)?(c="External_"+b.l++,b.i[c]=a,Hi(b,a,c),d.C(0)):_.x(d,Ii(b,a),0)})};
_.r.hh=function(){var a=this,b,c,d;return _.A(function(e){if(1==e.a){b=a.b.getConfiguration();Si(a,_.Q,b.preferredAudioLanguage);c=Ki(a,_.P);if(c.some(function(f){return Ri(f)}))return e.C(2);d=Ji(a,_.P);return _.x(e,new Promise(function(f){a.f.one(d,cc,f);(new _.Hf(f)).R(1)}),2)}if(a.j)return e["return"]();Si(a,_.P,b.preferredTextLanguage);_.y(e)})};_.r.la=function(){return 1>=this.getVideoTracks().flatMap(function(a){return a.renditions}).length};Ei.prototype.isAbrEnabled=Ei.prototype.la;
Ei.prototype.addTextTrack=Ei.prototype.addTextTrack;Ei.prototype.setTextRendition=Ei.prototype.Ma;Ei.prototype.setAudioRendition=Ei.prototype.La;Ei.prototype.setVideoRendition=Ei.prototype.Ea;Ei.prototype.setTextTrack=Ei.prototype.oa;Ei.prototype.setAudioTrack=Ei.prototype.na;Ei.prototype.setVideoTrack=Ei.prototype.Fa;Ei.prototype.getTextTrack=Ei.prototype.ca;Ei.prototype.getAudioTrack=Ei.prototype.fa;Ei.prototype.getVideoTrack=Ei.prototype.ka;Ei.prototype.getLoadingTextRendition=Ei.prototype.Ia;
Ei.prototype.getLoadingAudioRendition=Ei.prototype.Ha;Ei.prototype.getLoadingVideoRendition=Ei.prototype.za;Ei.prototype.getTextRendition=Ei.prototype.ja;Ei.prototype.getAudioRendition=Ei.prototype.sa;Ei.prototype.getVideoRendition=Ei.prototype.Z;Ei.prototype.getTextTracks=Ei.prototype.Y;Ei.prototype.getAudioTracks=Ei.prototype.getAudioTracks;Ei.prototype.getVideoTracks=Ei.prototype.getVideoTracks;Ti.prototype.release=function(){this.a.release();this.c=!1};Ti.prototype.destroy=function(){this.c&&this.release();this.a=this.f=this.b=null;return Promise.resolve()};Ti.prototype.start=function(a){var b=this;this.c&&this.g.warn("Already started. Ignoring request...");this.c=!0;this.f=a;this.b=this.f.textTracks;this.a.on(this.b,wb,function(c){return Ui(b,c)});this.a.on(this.b,cc,function(){for(var c=b.b,d=0;d<c.length;d++){var e=c[d];e.mode===_.zd&&(e.mode=_.Fc)}})};_.r=_.Vi.prototype;_.r.start=function(a){if(this.b)return this.b.start(a);if(a<this.a.length)return this.a[a].start;throw Error(Xa);};_.r.end=function(a){if(this.b)return this.b.end(a);if(a<this.a.length)return this.a[a].end;throw Error(Xa);};_.r.Sa=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)};_.r.ea=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:this.end(this.length-1)};
_.r.Kb=function(a,b,c){b=void 0===b?!0:b;c=void 0===c?0:c;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)||a>this.end(this.length-1))return!1;if(b)return c+a>=this.start(0)&&a<=this.end(this.length-1);for(b=0;b<this.length;b++)if(c+a>=this.start(b)&&a<=this.end(b))return!0;return!1};
_.r.ra=function(a,b){b=void 0===b?!1:b;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0))return 0;var c=0;if(b){var d=this.ea();null!=d&&(c=Math.max(0,d-a))}else for(d=this.length-1;0<=d&&this.end(d)>a;--d)c+=this.end(d)-Math.max(this.start(d),a);return c};_.B("clpp.BufferInfo",_.Vi);_.Vi.prototype.bufferedAheadOf=_.Vi.prototype.ra;_.Vi.prototype.isBuffered=_.Vi.prototype.Kb;_.Vi.prototype.bufferEnd=_.Vi.prototype.ea;_.Vi.prototype.bufferStart=_.Vi.prototype.Sa;_.Vi.prototype.end=_.Vi.prototype.end;
_.Vi.prototype.start=_.Vi.prototype.start;_.Wi.prototype.trigger=function(a){this.yc.trigger(a);0<this.ec.length&&this.ec.forEach(function(b){null!==a&&b.dispatchEvent(a)})};_.Wi.prototype.addEventListener=function(a,b){this.on(a,b)};_.Wi.prototype.addEventListener=_.Wi.prototype.addEventListener;_.Wi.prototype.removeEventListener=function(a,b){this.off(a,b)};_.Wi.prototype.removeEventListener=_.Wi.prototype.removeEventListener;_.Wi.prototype.dispatchEvent=function(a){this.trigger(a);return a.defaultPrevented};
_.Wi.prototype.on=function(a,b,c){return this.yc.on(a,b,c)};_.Wi.prototype.on=_.Wi.prototype.on;_.Wi.prototype.one=function(a,b,c){return this.yc.one(a,b,c)};_.Wi.prototype.one=_.Wi.prototype.one;_.Wi.prototype.off=function(a,b){return this.yc.off(a,b)};_.Wi.prototype.off=_.Wi.prototype.off;_.Wi.prototype.addDelegate=function(a){a&&(0<=this.ec.indexOf(a)||this.ec.push(a))};_.Wi.prototype.addDelegate=_.Wi.prototype.addDelegate;
_.Wi.prototype.removeDelegate=function(a){a&&(a=this.ec.indexOf(a),0<=a&&this.ec.splice(a,1))};_.Wi.prototype.removeDelegate=_.Wi.prototype.removeDelegate;_.B("clpp.events.ERROR",_.Ac);_.B("clpp.events.LOADEDMETADATA",_.Qc);_.B("clpp.events.BUFFERING_ENDED",_.Vb);_.B("clpp.events.BUFFERING_STARTED",_.Wb);_.B("clpp.events.STATE_CHANGED",_.Dd);_.Oi="audiotrackchanged";_.B("clpp.events.AUDIO_TRACK_CHANGED",_.Oi);_.Pi="texttrackchanged";_.B("clpp.events.TEXT_TRACK_CHANGED",_.Pi);_.B("clpp.events.VIDEO_TRACK_CHANGED",_.ae);_.B("clpp.events.BITRATE_CHANGED",_.Tb);_.so="tracksadded";_.B("clpp.events.TRACKS_ADDED",_.so);_.B("clpp.events.LOAD_START",Rc);
_.B("clpp.events.RELEASING",_.qd);_.B("clpp.events.RELEASED",pd);_.B("clpp.events.DESTROYING","destroying");_.B("clpp.events.DESTROYED","destroyed");_.B("clpp.events.VIDEO_BUFFER_CHANGED",_.$d);_.B("clpp.events.AUDIO_BUFFER_CHANGED",_.Rb);_.B("clpp.events.DOWNLOAD_TRACE","downloadtrace");_.B("clpp.events.DRM_SESSION_UPDATE",_.uc);_.B("clpp.events.DRM_SESSION_PERSISTED",_.tc);_.B("clpp.events.DRM_RENEWAL_STARTED",sc);_.B("clpp.events.DRM_EXPIRATION_UPDATE",_.rc);
_.B("clpp.events.AUTOPLAY_NOT_ALLOWED",_.Sb);_.B("clpp.events.PLAY",_.jd);_.B("clpp.events.SEEKING",_.wd);_.B("clpp.events.SEEKED",_.vd);_.B("clpp.events.USER_SEEKING",_.Td);_.B("clpp.events.USER_SEEKED",_.Sd);_.Fn={SEEKING:1,NO_DATA:2};_.B("clpp.events.BufferingReasons",_.Fn);_.B("clpp.events.ADS_TIMELINE_CHANGED",_.yb);_.B("clpp.events.AD_LOADED",_.mb);_.B("clpp.events.AD_BREAK_STARTED",_.db);_.B("clpp.events.AD_STARTED",_.tb);_.B("clpp.events.AD_BUFFERING",_.fb);_.B("clpp.events.AD_PROGRESS",_.pb);
_.B("clpp.events.AD_FIRST_QUARTILE",_.jb);_.B("clpp.events.AD_MIDPOINT",_.nb);_.B("clpp.events.AD_THIRD_QUARTILE",_.vb);_.B("clpp.events.AD_PAUSED",_.ob);_.B("clpp.events.AD_RESUMED",_.qb);_.B("clpp.events.AD_SKIPPED",_.sb);_.B("clpp.events.AD_CLICKED",_.gb);_.B("clpp.events.AD_IMPRESSION",_.lb);_.B("clpp.events.AD_COMPLETED",_.ib);_.B("clpp.events.AD_STOPPED",_.ub);_.B("clpp.events.AD_BREAK_STOPPED",_.eb);_.B("clpp.events.CASTING_STARTED",_.Zb);_.B("clpp.events.CASTING_ENDED","castingended");
_.B("clpp.events.CAST_STATUS_CHANGED",_.$b);_.B("clpp.events.AIRPLAY_STATUS_CHANGED",_.Bb);_.B("clpp.events.AIRPLAY_CASTING_STARTED",_.Ab);_.B("clpp.events.AIRPLAY_CASTING_ENDED",_.zb);_.ti="timeline-cue-added";_.B("clpp.events.TIMELINE_CUE_ADDED",_.ti);_.ui="timeline-cue-enter";_.B("clpp.events.TIMELINE_CUE_ENTER",_.ui);_.vi="timeline-cue-exit";_.B("clpp.events.TIMELINE_CUE_EXIT",_.vi);_.B("clpp.events.MPD_TYPE_CHANGED",_.Xc);_.B("clpp.events.VIMOND_RESPONSE",_.be);
_.B("clpp.events.PLAYLIST_ITEM_CHANGED",_.ld);_.B("clpp.events.PLAYLIST_MODIFIED",_.md);_.Xi.parse=function(a){var b=a.split(":");if(2>b.length||"data"!==b[0])throw _.cf("Bad data URI, failed to parse scheme"),new _.J(_.K,1,1004,{uri:a});b=b.slice(1).join(":").split(",");if(2>b.length)throw _.cf("Bad data URI, failed to extract encoding and MIME type"),new _.J(_.K,1,1004,{uri:a});var c=b[0];b=window.decodeURIComponent(b.slice(1).join(","));c=c.split(";");var d="";1<c.length&&(d=c[1]);if("base64"===d)a=nf(b).buffer;else{if(d)throw _.cf("Bad data URI, unknown encoding "+d),new _.J(_.K,
1,1005,{uri:a});a=_.qf(b).buffer}return{data:a,contentType:c[0]}};mj.g=function(a,b,c,d){var e,f,g,h,l,m,n,p,q,t,v,z,F,E,D;return _.A(function(L){switch(L.a){case 1:return e=mj.f,h=new Zi,l=$i(h),_.Ce(L,2),_.x(L,e(a,c),4);case 4:f=L.b;m=f.headers.get(la);pj(b,m);n=m?parseInt(m,10):0;if(b.onFragment&&b.type===_.to)return t=f.body.getReader(),v=new gj(n),z=function(R,oa){if(d.vc)return null;oa&&oa.data&&(cj(b,oa.data.byteLength,Yi()-h.a),h.a=Yi());return b.onFragment&&oa?b.onFragment(oa):null},_.x(L,jj(v,t,z,b.onProgress),8);p=f.body.getReader();q=new aj(n);return _.x(L,
dj(q,p,b),7);case 7:g=L.b;L.C(6);break;case 8:g=L.b;case 6:_.De(L,3);break;case 2:F=_.Ee(L);if(d.vc)throw new _.J(1,1,7001,{url:a,request:b});if(d.Sf)throw new _.J(1,1,1003,{url:a,request:b});_.cf("Error while fetching data:",F);throw new _.J(1,1,1002,{url:a,error:F,request:b,status:-1},F);case 3:E={};D=f.headers;D.forEach(function(R,oa){E[oa.trim()]=R});if(d.vc)throw new _.J(1,1,7001,{url:a,request:b});return L["return"](_.qj(E,g,f.status,a,f.url,b,Yi()-l.a))}})};
mj.O=function(){return!(!window.fetch||!window.AbortController)};mj.f=window.fetch;mj.a=window.AbortController;mj.h=window.ReadableStream;mj.b=window.Headers;_.nj.prototype.resolve=function(){};_.nj.prototype.reject=function(){};oj.c=window.XMLHttpRequest;var wj=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;_.r=_.rj.prototype;_.r.Da="";_.r.Wb="";_.r.xa="";_.r.mc=null;_.r.ga="";_.r.Eb="";_.r.toString=function(){var a=[],b=this.Da;b&&a.push(zj(b,uo,!0),":");if(b=this.xa){a.push("//");var c=this.Wb;c&&a.push(zj(c,uo,!0),"@");a.push(encodeURIComponent(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.mc;null!=b&&a.push(":",String(b))}if(b=this.ga)this.xa&&"/"!=b.charAt(0)&&a.push("/"),a.push(zj(b,"/"==b.charAt(0)?vo:wo,!0));(b=this.a.toString())&&a.push("?",b);(b=this.Eb)&&a.push("#",zj(b,xo));return a.join("")};
_.r.resolve=function(a){var b=new _.rj(this);"data"===b.Da&&(b=new _.rj);var c=!!a.Da;c?sj(b,a.Da):c=!!a.Wb;c?b.Wb=a.Wb:c=!!a.xa;c?b.xa=a.xa:c=null!=a.mc;var d=a.ga;if(c)tj(b,a.mc);else if(c=!!a.ga){if("/"!=d.charAt(0))if(this.xa&&!this.ga)d="/"+d;else{var e=b.ga.lastIndexOf("/");-1!=e&&(d=b.ga.substr(0,e+1)+d)}if(".."==d||"."==d)d="";else if(-1!=d.indexOf("./")||-1!=d.indexOf("/.")){e=0==d.lastIndexOf("/",0);d=d.split("/");for(var f=[],g=0;g<d.length;){var h=d[g++];"."==h?e&&g==d.length&&f.push(""):
".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),e&&g==d.length&&f.push("")):(f.push(h),e=!0)}d=f.join("/")}}c?b.ga=d:c=""!==a.a.toString();c?uj(b,vj(a.a)):c=!!a.Eb;c&&(b.Eb=a.Eb);return b};var uo=/[#\/\?@]/g,wo=/[#\?:]/g,vo=/[#\?]/g,Aj=/[#\?@]/g,xo=/#/g;yj.prototype.a=null;yj.prototype.c=null;
yj.prototype.add=function(a,b){if(!this.a&&(this.a={},this.c=0,this.b))for(var c=this.b.split("\x26"),d=0;d<c.length;d++){var e=c[d].indexOf("\x3d"),f=null;if(0<=e){var g=c[d].substring(0,e);f=c[d].substring(e+1)}else g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));f=f||"";this.add(g,decodeURIComponent(f.replace(/\+/g," ")))}this.b=null;(c=this.a.hasOwnProperty(a)&&this.a[a])||(this.a[a]=c=[]);c.push(b);null!==this.c&&this.c++;return this};
yj.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var a=[],b;for(b in this.a)for(var c=encodeURIComponent(b),d=this.a[b],e=0;e<d.length;e++){var f=c;""!==d[e]&&(f+="\x3d"+encodeURIComponent(d[e]));a.push(f)}return this.b=a.join("\x26")};_.r=_.Fj.prototype;_.r.release=function(){return this.f.destroy()};_.r.destroy=function(){this.g=!0;this.b=[];this.c=[];return this.f.destroy()};_.r.eg=function(a){this.b.push(a)};_.r.zd=function(a){this.c.push(a)};_.r.rj=function(a){this.b=this.b.filter(function(b){return b!==a})};_.r.oe=function(a){this.c=this.c.filter(function(b){return b!==a})};
_.r.fetch=function(a){var b=this;if(this.g)return new am(Promise.reject(new _.J(1,1,7001,{url:a.uris[a.uriIndex],request:a})));try{var c=[];this.b.forEach(function(h){c.push(h)});a.requestModifiers&&0<a.requestModifiers.length&&a.requestModifiers.forEach(function(h){c.push(h)});a.requestModifiers=c;var d=[];this.c.forEach(function(h){d.push(h)});a.responseModifiers&&0<a.responseModifiers.length&&a.responseModifiers.forEach(function(h){d.push(h)});a.responseModifiers=d;var e=new _.nj,f=e;a.requestModifiers&&
0<a.requestModifiers.length&&a.requestModifiers.forEach(function(h){f=f.then(function(l){if(g.a)throw new _.J(_.K,1,7001,l?{url:l.uris[l.uriIndex],request:l}:null);return h(l)||l})["catch"](function(l){if(l instanceof _.J)throw l;throw new _.J(_.K,1,1006,null,l);})});f=f.then(function(h){var l=new _.rj(h.uris[h.uriIndex]),m=l.Da;m||(m=location.protocol,m=m.slice(0,-1),sj(l,m),h.uris[h.uriIndex]=l.toString());m=b.a[m];if(!m)throw new _.J(_.K,1,1E3,{url:l.toString()});return{request:h,plugin:m}});var g=
new am(f);a.responseModifiers&&0<a.responseModifiers.length&&a.responseModifiers.forEach(function(h){g.then(function(l){if(g.a)throw new _.J(_.K,1,7001,l?{url:l.request.uris[l.request.uriIndex],request:l.request}:null);return h(l)||l})["catch"](function(l){if(l instanceof _.J)throw l;throw new _.J(_.K,1,1007,null,l);})});_.bn(this.f,g);e.resolve(a);return g}catch(h){return new am(Promise.reject(h))}};_.Fj.prototype.fetch=_.Fj.prototype.fetch;_.Fj.prototype.removeResponseModifier=_.Fj.prototype.oe;
_.Fj.prototype.removeRequestModifier=_.Fj.prototype.rj;_.Fj.prototype.addResponseModifier=_.Fj.prototype.zd;_.Fj.prototype.addRequestModifier=_.Fj.prototype.eg;_.B("clpp.net.makeRequest",_.Gi);_.to=2;_.Gj=6;_.B("clpp.net.RequestType",{MANIFEST:1,SEGMENT:_.to,LICENSE:3,APP:4,TIMING:5,OTHER:_.Gj});_.B("clpp.utils.PlayerConfiguration",Hj);Hj.create=_.Lj;var yo=["abort",Xb,Yb,wc,"emptied",_.xc,_.zc,_.Ac,"interruptbegin","interruptend",_.Pc,_.Qc,Rc,"mozaudioavailable",_.gd,_.jd,_.kd,_.nd,_.od,_.vd,_.wd,Bd,"suspend",_.Nd,"volumechange",_.ce,_.de,_.td,he,ge,ee,fe];_.w(_.Nj,_.Wi);_.r=_.Nj.prototype;_.r.init=function(a,b){var c=this;this.configuration=this.Pc=b;this.l=a;this.log.info("Initializing Player surface");var d=this.l.H(!0);this.log.info("Attaching media element listeners");yo.forEach(function(e){c.A.on(d,e,c.pi,e!==_.Ac)});this.Qc||(this.Qc=this.Ve());this.Qc.mb(this);_.sl(this.l)};_.r.release=function(){this.K&&(this.K.destroy(),this.K=null);return Promise.resolve()};_.r.destroy=function(){this.A.release();return Promise.resolve()};_.r.canPlay=function(a){return _.ci[this.namespace()].canPlay(a)};
_.r.play=function(){var a=this;if(!this.j)return Promise.reject("No sources specified yet. You need to load content before calling play.");var b=this.l.H().play();return Promise.resolve(b)["catch"](function(c){var d=c.message||"",e=c.stack||"";"NotAllowedError"===(c.name||"")&&(0===e.indexOf(_.jd)||0<=d.indexOf(_.jd))&&(a.trigger(new _.O(_.Sb)),a.log.warn(_.ha));throw c;})};
_.r.pause=function(){var a=this;return this.j?new Promise(function(b,c){var d=a.getState();if(d!==_.Cn&&d!==_.En&&d!==_.ln&&d!==_.Kn)c();else if(a.l.H().pause(),a.getState()===_.ln)a.A.one(a,_.Dd,function(){b()});else b()}):Promise.reject("No sources specified yet. You need to load content before calling pause.")};_.r.isPaused=function(){return this.l.H().paused};_.r.isEnded=function(){return this.l.H().ended};_.r.getConfiguration=function(){return this.configuration};_.r.getSurface=function(){return this.l};
_.r.getBufferInfo=function(a){var b=this.getSurface().H();return new _.Vi(b?b.buffered:void 0,a)};_.r.getPosition=function(){var a=this.l.H();if(a)return a.currentTime;this.log.warn("No media element available, can not report current time!");return 0};
_.r.seek=function(a){var b=this,c=this.getPosition();if(void 0===a||null===a||typeof a!==_.Zc||a===c)return Promise.resolve();var d=this.l.H();if(!d)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var e=a-c;return.1>=Math.abs(e)?(this.log.info("Skip seek. Delta "+Math.abs(e)+" \x3c 0.1"),Promise.resolve()):new Promise(function(f,g){function h(){if(d.readyState>HTMLMediaElement.HAVE_NOTHING)m();else b.A.one(d,_.Qc,m)}function l(n){var p=b.getPosition(),
q=.1>=Math.abs(a-p),t=.25<p-a,v=d.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,z=n.type===_.vd,F=n.type===_.nd,E=n.type===_.Nd,D=F&&v;t=z||q&&D||E&&t;b.log.debug("Checking seeking state after "+n.type+" event. Seek completed:",t,"Current Time:",p,"Target Time:",a,"Native Event:",z,"Time reached",q,"Timeupdate:",E,"Progress:",F,"ReadyState:",v,"Progress Ready:",D);t?(b.Cd=!1,b.Sc=!1,b.A.off(d,_.vd,l),b.A.off(d,_.Nd,l),b.A.off(d,_.nd,l),b.Hf(),b.trigger(new _.O(_.Sd)),f()):F&&c===p&&(b.log.debug("Seek seemed to have been ignored. Trying again"),
d.currentTime=a)}function m(){b.A.on(d,_.vd,l);b.A.on(d,_.Nd,l);b.A.on(d,_.nd,l);b.log.info("Seeking to "+a+". Delta "+e);b.Cd=!0;b.Sc=!0;d.currentTime=a;b.trigger(new _.O(_.Td))}b.getState()===_.yn?(b.log.debug("Player is in IDLE state. Postpone seek."),b.A.one(b,_.Dd,function(){switch(b.getState()){case _.Cn:case _.ln:case _.Kn:b.log.debug("Valid seek state reached.");h();break;default:b.log.warn("Invalid seek target state. Aborting seek"),g()}})):h()})};
_.r.getVolume=function(){var a=this.l.H();if(a)return a.volume;this.log.warn("No media element available, can not report volume!");return null};_.r.setVolume=function(a){var b=this.l.H();b?_.C.sb(a)?0>a||1<a?this.log.warn(ia+a+".\n          Value must be between 0 and 1."):b.volume=a:this.log.warn(ia+a+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")};_.r.isMuted=function(){return this.l.H().muted};
_.r.setMuted=function(a){var b=this.l.H();typeof a===_.Ub&&(b.muted=a)};_.r.getDuration=function(){return this.j?this.l.H().duration:-1};_.r.getTrackManager=function(){return this.Qc};_.r.getPlaybackRate=function(){var a=this.l.H();return a&&a.playbackRate||1};_.r.setPlaybackRate=function(a){var b=this.l.H();void 0!==a&&b&&(b.playbackRate=a)};_.r.setSourceIndex=function(a){this.ff=a};_.r.getSourceIndex=function(){return this.ff};_.r.getLoadedSource=function(){return this.j&&this.j[this.getSourceIndex()]};
_.r.getThumbnailStreams=function(){return[]};_.r.getNetworkEngine=function(){return this.$e};_.r.setNetworkEngine=function(a){this.$e=a};_.r.getTextDisplayer=function(){return this.K};_.r.getTimelineCues=function(){return[]};_.r.resetAbr=function(){};
_.r.pj=function(a){var b=this.getSurface().H(),c=this.getPosition(),d="Received Video Element Event: '"+a.type+"' with playhead at: "+c;if(a.type===_.Nd||a.type===_.nd)this.sf.debug(d);else{var e="";switch(a.type){case _.od:e="Rate: "+this.getPlaybackRate();break;case wc:e="Duration: "+this.getDuration();break;case "volumechange":e="Volume: "+this.getVolume()+" Muted: "+this.isMuted();break;case _.jd:case _.kd:case "suspend":case _.ce:case Bd:case _.wd:case _.vd:case _.Nd:case _.nd:case Xb:case Yb:b=
this.getBufferInfo().ra(c);e="State "+this.getSurface().H().readyState+" Buffer: "+b;break;case _.td:null!=b&&(e="Size: "+b.videoWidth+"x"+b.videoHeight)}e&&(d+=". "+e);this.sf.info(d)}this.trigger(new _.O(a.type,{detail:a}))};_.r.Hf=function(){};_.Nj.prototype.getTextDisplayer=_.Nj.prototype.getTextDisplayer;_.Nj.prototype.setNetworkEngine=_.Nj.prototype.setNetworkEngine;_.Nj.prototype.getNetworkEngine=_.Nj.prototype.getNetworkEngine;Oj.prototype.release=function(){this.a=this.b=null};_.B("clpp.utils.url.queryString",Tj);var bk=new _.H("clpp.utils.FairplayUtils");_.fk.prototype.f=function(a){if(1<a.version)_.G("Unrecognized PSSH version found!");else{var b=_.Yj(_.hh(a.v,16)),c=[];if(0<a.version)for(var d=_.eh(a.v),e=0;e<d;++e){var f=_.Yj(_.hh(a.v,16));c.push(f)}d=_.eh(a.v);a.v.skip(d);this.c.push.apply(this.c,c);this.b.push(b);this.a.push({start:a.start,end:a.start+a.size-1});a.v.getPosition()!=a.v.ia()&&_.G("Mismatch between box size and data size!")}};_.r=_.jk.prototype;_.r.destroy=function(){var a=this;return _.A(function(b){if(1==b.a){if(a.g)return _.x(b,a.va,0);a.g=!0;return _.x(b,lk(a),4)}a.va.resolve();return b.C(0)})};_.r.keySystem=function(){return this.a?this.a.keySystem:""};_.r.getDrmInfo=function(){return this.a};_.r.Gf=function(a){this.w&&this.B===mk||(!this.f.delayLicenseRequestUntilPlayed||this.i&&!this.i.paused||this.Qa?uk(this,a):this.L.push(a))};
_.r.Af=function(a){var b=this,c=a.target;this.b.debug("Key status changed for session",c.sessionId);var d=this.c.get(c),e=!1;c.keyStatuses.forEach(function(f,g){if(typeof g==_.Fd){var h=g;g=f;f=h}if(!(b.a.keySystem!=_.lc||16!=g.byteLength||_.Eh()||_.Dh("VITIS")||_.Dh("Web0S")||_.Dh("TiVo"))){h=ff(g);var l=h.getUint32(0,!0),m=h.getUint16(4,!0),n=h.getUint16(6,!0);h.setUint32(0,l,!1);h.setUint16(4,m,!1);h.setUint16(6,n,!1)}b.a.keySystem==_.lc&&f==_.Ed&&(f=_.Rd);f!=_.Ed&&(d.loaded=!0);"expired"==f&&
(e=!0);var p=_.Yj(_.ef(g));b.b.debug("Key status for",p,f);b.Ra.set(p,f);d&&!d.keyId&&b.c.forEach(function(q,t){t===c||q.keyId!==p||q.loaded||(q.loaded=!0)})});a=c.expiration-Date.now();(0>a||e&&1E3>a)&&d&&!d.Oa&&(this.b.debug("Session has expired",c.sessionId),this.c["delete"](c),c.close()["catch"](function(){}));Gk(this)&&(this.A.resolve(),1!==this.c.size||e?this.V.R(.5):hk(this))};var mk=0,gk=3;_.al={VIDEO:_.Xd,AUDIO:_.Nb,TEXT:_.k,Gj:_.Cb,Lj:"image"};_.Bo=1/15;_.Uk.prototype.getStats=function(){return{width:this.c,height:this.b,streamBandwidth:this.l,decodedFrames:this.f,droppedFrames:this.g,corruptedFrames:this.m,estimatedBandwidth:this.h,loadLatency:this.i,playTime:Qk(this.a,_.ln),pauseTime:Qk(this.a,_.Kn),bufferingTime:Qk(this.a,_.Cn),stateHistory:Rk(this.a),switchHistory:Tk(this.j)}};_.w(Wk,_.Nj);_.r=Wk.prototype;_.r.init=function(a,b){_.Nj.prototype.init.call(this,a,b);this.f=new An(this);Hn(this.f,_.yn)};_.r.namespace=function(){return fc};_.r.unload=function(){var a=this;return this.j?new Promise(function(b){a.log.debug(_.Na,a.j);var c=a.getTrackManager();c&&c.release();a.i&&a.i.release();a.g&&a.g.release();a.h&&(a.h.destroy(),a.h=null);a.b.off(a,_.Dd);a.c&&(a.c=new _.Uk);a.j=null;a.o=!1;a.a&&(a.a.removeAttribute("src"),a.a.load());$k(a).then(b)}):new Promise(function(b){b()})};
_.r.release=function(){var a=this;return _.Nj.prototype.release.call(this).then(function(){return a.unload()}).then(function(){a.f&&Hn(a.f,_.yn)})};
_.r.destroy=function(){var a=this;if(this.m)return this.log.warn("Player is already destroyed!"),Promise.resolve();this.m=!0;return _.Nj.prototype.destroy.call(this).then(function(){return a.release()}).then(function(){a.log.debug(ra);var b=a.getTrackManager();b&&b.destroy();a.i&&(a.i.destroy()["catch"](function(c){a.log.warn("Error while disposing cue handler",c)}),a.i=null);a.g&&(a.g.destroy()["catch"](function(c){a.log.warn("Error while disposing metadata handler",c)}),a.g=null);a.f&&(a.f.destroy(),
a.f=null);a.c=null})};_.r.getDrmInfo=function(){return this.h?this.h.getDrmInfo():null};
_.r.load=function(a){var b=this,c,d,e,f,g;return _.A(function(h){switch(h.a){case 1:if(b.m)return h["return"](Xk());if(!b.getSurface()||!b.getSurface().H(!0))return h["return"](Promise.reject("No surface or no media element in surface"));c=_.C;d=b.l.H();b.u=Date.now()/1E3;b.c=new _.Uk;b.b.on(b,_.Dd,function(){b.c&&_.Pk(b.c.a,b.getState())});Hn(b.f,_.Jn);b.j=_.yl(a);_.Mj(a)&&(b.configuration=_.Lj(b.Pc,a));b.log.debug(_.ya,b.configuration);b.log.debug(_.Ia,b.j);e=_.Sf(b.configuration,["html",_.Yc]);
b.K=e.create(b);b.K.setTextVisibility(!0);!0!==b.configuration.enableEnhancedSubtitleManager||Hh()||(b.i?b.i.release():b.i=new Ti(b),b.i.start(d));b.g?b.g.release():b.g=new ni(b);pi(b.g,d);f=b.getTrackManager();f.load();d.loop=!!b.configuration.loop;c.I(b.configuration.volume)||b.setVolume(b.configuration.volume);c.I(b.configuration.muted)||b.setMuted(b.configuration.muted);b.b.one(d,Xb,function(){b.trigger(new _.O(_.so))});_.Ce(h,2);return _.x(h,Zk(b,d),4);case 4:return _.x(h,cl(b),5);case 5:return _.x(h,
gl(b).promise,6);case 6:_.De(h,0);break;case 2:g=_.Ee(h),b.o=!1,b.onError(g),_.y(h)}})};_.r.onError=function(a){this.o||(a.a===_.K&&null!==this.f&&Hn(this.f,_.dl),this.trigger(new _.O(_.Ac,{detail:a})))};_.r.Ve=function(){return new Ei};_.r.getState=function(){return null!==this.f?this.f.getState().currentState:_.zn};
_.r.getPresentationStartTime=function(){if(this.a&&this.a.getStartDate&&this.isLive()){var a=this.a.getStartDate();return isNaN(a.getTime())?(this.log.warn("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),0):a.getTime()/1E3}return 0};_.r.getSeekRange=function(){var a=this.getSurface().H(!1);return a&&a.src&&(a=a.seekable,a.length)?{start:a.start(0),end:a.end(a.length-1)}:{start:0,end:this.getDuration()}};
_.r.isLive=function(){return this.a&&this.a.src?Infinity===this.a.duration:!1};_.r.getStats=function(){if(!this.c||!this.a)return _.Vk();this.c&&_.Pk(this.c.a,this.getState());var a=this.a,b=this.c,c=a.videoHeight;b.c=a.videoWidth;b.b=c;a.getVideoPlaybackQuality&&(a=a.getVideoPlaybackQuality(),b=this.c,c=Number(a.totalVideoFrames),b.g=Number(a.droppedVideoFrames),b.f=c,this.c.m=Number(a.corruptedVideoFrames));return this.c.getStats()};
_.r.getTimelineCues=function(){return this.g?this.g.getTimelineCues():[]};hl.prototype.canPlay=function(a){a=a.type||"";var b=a===_.vl;return a===_.tl||b||a===_.ul&&!_.Fh()?!1:!_.Eh()&&!_.Dh("CrKey")&&Ch(a)};hl.prototype.create=function(){return new Wk};hl.prototype.create=hl.prototype.create;hl.prototype.canPlay=hl.prototype.canPlay;_.ei(new hl);var kl;kl=new _.H("clpp.Components");_.il=new Map;_.nl.prototype.wc=function(){};_.nl.prototype.release=function(){};ql.prototype.H=function(a){this.b||!a||this.h||(this.g.info("Creating new media element upon request"),a=document.createElement(this.a.mediaTag),_.yf(a,this.a.css.fill),a.controls=this.a.controls,a.setAttribute(nc,this.a.crossorigin),this.b=a,this.c.appendChild(this.b));return this.b};ql.prototype.getMedia=ql.prototype.H;ql.prototype.Yh=function(){return this.c};ql.prototype.getContainer=ql.prototype.Yh;ql.prototype.Xh=function(){return this.h};ql.prototype.getCastElement=ql.prototype.Xh;
ql.prototype.uc=function(a,b,c){var d=this.c;if(!d)throw Error("No container is available. Unable to add element");var e=this.a.css;b&&_.yf(a,e.fill);c?d.insertBefore(a,d.firstElementChild):d.appendChild(a)};ql.prototype.addContainerElement=ql.prototype.uc;ql.prototype.me=function(a){var b=this.c;if(!b)throw Error("No container is available. Unable to remove element");b.removeChild(a)};ql.prototype.removeContainerElement=ql.prototype.me;
ql.prototype.release=function(){var a=document.querySelector(ea);a&&a.parentElement.removeChild(a)};var ol={disableContainer:!1,moveCssToContainer:!0,containerTag:_.qc,mediaTag:_.Xd,crossorigin:"anonymous",controls:!1,css:{container:"clpp-container",fill:"clpp-fill",hidden:"clpp-hidden"},containerEl:null};var si,qi;_.B("clpp.version",_.da);_.B("clpp.name",_.ka);_.tl=Eb;_.ul=Kb;_.vl=Jb;_.B("clpp.Type",{DASH:_.tl,HLS:_.ul,SMOOTH_STREAMING:_.vl,MP4:_.Zd});si="scte35";qi=Qd;_.Co={SCTE35:si,UNKNOWN:qi};_.B("clpp.TimelineCueType",_.Co);_.B("clpp.utils.media.detectType",wl);var zl=new _.H("clpp.sources");_.Do={tb:{},Rb:{},pd:function(a,b){_.Do.Rb[a]=b}};_.B("clpp.ManifestParser.registerParserByExtension",_.Do.pd);_.Do.Hc=function(a,b){_.Do.tb[a]=b};_.B("clpp.ManifestParser.registerParserByMime",_.Do.Hc);_.Do.ne=function(a){_.Do.Rb[a]&&delete _.Do.Rb[a]};_.Do.qd=function(a){_.Do.tb[a]&&delete _.Do.tb[a]};
_.Do.ck=function(){var a={};if(_.Ah()){for(var b in _.Do.tb)a[b]=!0;for(var c in _.Do.Rb)a[c]=!0}b={mpd:Eb,m3u8:Kb,ism:Jb};c=_.u([Eb,Kb,_.Ib,Jb]);for(var d=c.next();!d.done;d=c.next())d=d.value,a[d]=_.Ah()?!!_.Do.tb[d]:Ch(d);for(var e in b)a[e]=_.Ah()?!!_.Do.Rb[e]:Ch(b[e]);return a};_.Do.create=function(a,b,c,d){var e,f;return _.A(function(g){if(1==g.a)return _.Ce(g,2),_.x(g,_.Do.ai(a,b,c,d),4);if(2!=g.a)return e=g.b,g["return"](new e);f=_.Ee(g);f.b(_.K);throw f;})};
_.Do.ai=function(a,b,c,d){var e,f,g,h,l;return _.A(function(m){if(1==m.a){e=_.Do;if(d){if(f=e.tb[d.toLowerCase()])return m["return"](f);_.G("Could not determine manifest type using MIME type ",d)}if(g=e.getExtension(a)){if(h=e.Rb[g])return m["return"](h);_.G("Could not determine manifest type for extension ",g)}else _.G("Could not find extension for ",a);return d?m.C(2):_.x(m,e.ci(a,b,c),3)}if(2!=m.a&&(d=m.b)){if(l=_.Do.tb[d])return m["return"](l);_.G("Could not determine manifest type using MIME type",
d)}throw new _.J(_.K,4,4E3,{url:a});})};_.Do.ci=function(a,b,c){var d,e,f;return _.A(function(g){if(1==g.a)return d=_.Gi(a),Dj(d,c),d.type=1,d.method="HEAD",_.x(g,b.fetch(d).promise,2);e=g.b;f=e.headers["content-type"];return g["return"](f?f.toLowerCase():"")})};_.Do.getExtension=function(a){a=(new _.rj(a)).ga.split("/").pop().split(".");return 1==a.length?"":a.pop().toLowerCase()};_.Do.O=function(a,b){return _.Ah()?b in _.Do.tb||_.Do.getExtension(a)in _.Do.Rb?!0:!1:!1};_.B("clpp.polyfill.installAll",Bl);var Al=[];_.B("clpp.polyfill.register",_.Cl);_.Cl(function(){if(window.Document){var a=Element.prototype;a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;a=Document.prototype;a.exitFullscreen=a.exitFullscreen||a.mozCancelFullScreen||a.msExitFullscreen||a.webkitExitFullscreen;Cc in document||(Object.defineProperty(document,Cc,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",
{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}}));document.addEventListener("webkitfullscreenchange",Dl);document.addEventListener("webkitfullscreenerror",Dl);document.addEventListener("mozfullscreenchange",Dl);document.addEventListener("mozfullscreenerror",Dl);document.addEventListener("MSFullscreenChange",Dl);document.addEventListener("MSFullscreenError",Dl)}});_.Cl(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;!a.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in a&&(a.getVideoPlaybackQuality=El)}});Hl.prototype.createSession=function(){};Hl.prototype.setServerCertificate=function(){};Il.prototype.getConfiguration=function(){};Il.prototype.createMediaKeys=function(){};
_.Cl(function(){!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(_.bf("EME not available."),navigator.requestMediaKeySystemAccess=Fl,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Gl,window.MediaKeys=Hl,window.MediaKeySystemAccess=Il)},-10);_.Cl(function(){_.I("VideoPlayPromise.install");if(window.HTMLMediaElement){var a=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var b=a.apply(this);b&&b["catch"](function(){});return b}}});_.Cl(function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})});_.Cl(function(){if(window.VTTCue)_.bf("Using native VTTCue.");else if(window.TextTrackCue){var a=TextTrackCue.length;if(3===a)_.bf(bb),window.VTTCue=Jl;else if(6===a)_.bf("Using VTTCue polyfill from 6 argument TextTrackCue."),window.VTTCue=Kl;else{try{var b=!!Jl(1,2,"")}catch(c){b=!1}b&&(_.bf(bb),window.VTTCue=Jl)}}else _.cf("VTTCue not available.")});_.Cl(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;a.requestPictureInPicture&&document.exitPictureInPicture||!a.webkitSupportsPresentationMode||(_.I("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,a.requestPictureInPicture=Ml,document.exitPictureInPicture=Nl,document.addEventListener("webkitpresentationmodechanged",Ll,!0))}});Ol.prototype.createMediaKeys=function(){_.I("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var a=new Sl(this.keySystem);return Promise.resolve(a)};Ol.prototype.getConfiguration=function(){_.I("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration");return this.a};Sl.prototype.createSession=function(a){_.I("PatchedMediaKeysApple.MediaKeys.createSession");a=a||_.Jd;if(a!=_.Jd)throw new TypeError(_.Ra+a+_.ba);return new Vl(this.b,a)};
Sl.prototype.setServerCertificate=function(a){_.I("PatchedMediaKeysApple.MediaKeys.setServerCertificate");a&&_.ef(a);return Promise.resolve(!0)};_.Ne(Vl,_.Wi);_.r=Vl.prototype;_.r.generateRequest=function(a,b){_.I("PatchedMediaKeysApple.MediaKeySession.generateRequest");this.a=new _.nj;try{this.c=this.g.createSession(_.Zd,_.ef(b)),this.f.on(this.c,ge,this.lh.bind(this)),this.f.on(this.c,ee,this.jh.bind(this)),this.f.on(this.c,fe,this.kh.bind(this)),Wl(this,_.Ed)}catch(c){this.a.reject(c)}return this.a};
_.r.load=function(){_.I("PatchedMediaKeysApple.MediaKeySession.load");return Promise.reject(Error(_.Ba))};_.r.update=function(a){_.I("PatchedMediaKeysApple.MediaKeySession.update");this.b=new _.nj;try{this.c.update(_.ef(a))}catch(b){this.b.reject(b)}return this.b};_.r.close=function(){_.I("PatchedMediaKeysApple.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),_.li(this.f)}catch(a){this.closed.reject(a)}return this.closed};
_.r.remove=function(){_.I("PatchedMediaKeysApple.MediaKeySession.remove");return Promise.reject(Error(_.Ca))};_.r.lh=function(a){_.I("PatchedMediaKeysApple.onWebkitKeyMessage_",a);this.a&&(this.a.resolve(),this.a=null);this.dispatchEvent(new _.O(_.Tc,{messageType:void 0==this.keyStatuses.a?_.Lc:_.Kc,message:a.message.buffer}))};_.r.jh=function(a){_.I("PatchedMediaKeysApple.onWebkitKeyAdded_",a);this.b&&(Wl(this,_.Rd),this.b.resolve(),this.b=null)};
_.r.kh=function(a){_.I("PatchedMediaKeysApple.onWebkitKeyError_",a);a=Error("EME PatchedMediaKeysApple key error");a.errorCode=this.c.error;if(null!=this.a)this.a.reject(a),this.a=null;else if(null!=this.b)this.b.reject(a),this.b=null;else switch(this.c.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Wl(this,_.dd);break;default:Wl(this,_.Ic)}};var Eo;_.r=Ul.prototype;_.r.forEach=function(a){this.a&&a(this.a,Eo)};_.r.get=function(a){if(this.has(a))return this.a};
_.r.has=function(a){var b=Eo;return this.a&&_.Zj(_.ef(a),_.ef(b))?!0:!1};_.r.entries=function(){};_.r.keys=function(){};_.r.values=function(){};_.Cl(function(){window.HTMLVideoElement&&window.WebKitMediaKeys&&(_.bf("Using Apple-prefixed EME"),Eo=(new Uint8Array([0])).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Rl,window.MediaKeys=Sl,window.MediaKeySystemAccess=Ol,navigator.requestMediaKeySystemAccess=Pl)});_.Cl(function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,b){b=void 0!==b?b:this.byteLength;a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);var c=new ArrayBuffer(b-a),d=_.ef(c),e=new Uint8Array(this,a,b-a);d.set(e);return c})});_.Cl(function(){_.I("mathRound.install")});var Xl;_.Cl(function(){_.I("InputEvent.install");_.Dh("Trident/")&&HTMLInputElement.prototype.addEventListener!==Yl&&(_.bf("Patching input event support on IE."),Xl=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Yl)});_.fl.prototype.abort=function(){this.a=!0;return this.j()};_.fl.prototype["finally"]=function(a){this.promise.then(function(){return a(!0)},function(){return a(!1)});return this};_.fl.prototype.Uc=function(a,b){function c(){e.reject(new _.J(_.K,7,7001));return d.abort()}var d=this,e=new _.nj;this.promise.then(function(f){d.a?e.reject(new _.J(_.K,7,7001)):a?c=Zl(a,f,e):e.resolve(f)},function(f){b?c=Zl(b,f,e):e.reject(f)});return new _.fl(e,function(){return c()})};
_.fl.aborted=function(){var a=Promise.reject(new _.J(_.K,7,7001));a["catch"](function(){});return new _.fl(a,function(){return Promise.resolve()})};_.fl.prototype.chain=_.fl.prototype.Uc;_.w(am,_.fl);am.prototype.then=function(a,b){this.promise=this.promise.then(a,b);return this};am.prototype["catch"]=function(a){this.promise=this.promise["catch"](a);return this};am.prototype.abort=function(){var a=this;if(this.a)return Promise.resolve();this.a=!0;return this.c.then(function(b){a.h&&clearTimeout(a.h);a.g&&a.g();return b.abort()})["catch"](function(){})};_.dm.prototype.Ub=function(a,b){this.a[a]=b};_.B("clpp.drm.DrmEnvironment",_.dm);_.dm.prototype.setDrmSystem=_.dm.prototype.Ub;_.B("clpp.drm.RobustnessLevel",{SW_SECURE_CRYPTO:Pa,SW_SECURE_DECODE:Qa,HW_SECURE_CRYPTO:ta,HW_SECURE_DECODE:ua,HW_SECURE_ALL:"HW_SECURE_ALL"});_.em=_.mc;_.Ek=_.lc;_.fm="com.apple.fps.1_0";_.B("clpp.drm.KeySystem",{WIDEVINE:_.em,PLAYREADY:_.Ek,FAIRPLAY:_.fm});_.hm={};_.B("clpp.drm.registerDrmEnvironment",_.im);var nm,km;_.rm=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149];nm=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237];km=[112,115,115,104,0,0,0,0];_.w(mm,jm);_.w(_.pm,jm);var Bm={STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,96,
39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,134,
188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,185,
188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,48,
60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,153,
20],PRODUCTION:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,224,
79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,211,
8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,28,
189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,73,
152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,
244]};var Em=new _.H("clpp.drm.DrmToday"),tm="PRODUCTION",um="STAGING",vm="TEST",Fo={PRODUCTION:tm,STAGING:um,TEST:vm};_.B("clpp.drm.DrmToday.Environment",Fo);var xm="/license-proxy-widevine/cenc/",ym="/license-proxy-headerauth/drmtoday/RightsManager.asmx",zm="/license-server-fairplay/";
(function(){var a=_.Dm();Object.keys(Fo).forEach(function(b){var c=pa;b!==tm&&(c+="_"+b);c=new _.dm(c);c.Ub(_.em,{licenseUrl:Am(_.em,b),videoRobustness:a.video,audioRobustness:a.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:Cm(b),modifiers:{licenseRequest:_.Gm,licenseResponse:_.Km}});c.Ub(_.fm,{licenseUrl:Am(_.fm,b),certificateUrl:wm(b)+"/license-server-fairplay/cert/",modifiers:{licenseRequest:_.Hm,licenseResponse:_.Im,extractContentId:_.Fm,certificateRequest:_.Jm}});
c.Ub(_.Ek,{licenseUrl:Am(_.Ek,b),modifiers:{licenseRequest:_.Gm}});_.im(c)})})();Nm.prototype.verify=function(a,b){var c={kty:"RSA",n:a.n,e:a.e},d=this.c+"."+this.b,e=this.f;return new Promise(function(f,g){try{var h=window&&window.crypto&&window.crypto.subtle}catch(m){}if(h){var l={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};h.importKey("jwk",c,l,!1,["verify"]).then(function(m){var n=_.qf(d),p=nf(e);return h.verify(l,m,p.buffer,n.buffer)}).then(function(m){m?f():g(Sa)})["catch"](g)}else b?g("Web Crypto API is not supported"):f()})};var Go={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"};Om.prototype.verify=function(){var a=this;return(new Promise(function(b,c){try{var d=Pm(a);b(d)}catch(e){c()}})).then(function(b){return b.verify(Go)})["catch"](function(b){if(b&&b!==Sa){var c=window.location.href;var d=new _.rj(c);c=d.Da||d.xa?d:new _.rj("//"+c);if(/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(c.xa))return Promise.resolve()}throw b;})};var Zm="vod",Ym="live";_.an.prototype.start=function(){this.a=(new _.Hf(this.i.bind(this))).Ga(.25)};_.an.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)};_.an.prototype.i=function(){var a=parseInt(getComputedStyle(this.f).height,10),b=parseInt(getComputedStyle(this.f).width,10);if(this.b!==a||this.c!==b)this.b=a,this.c=b,this.h(this.c,this.b,!!document.fullscreenElement)};_.Ej.prototype.destroy=function(){var a=[];this.a.forEach(function(b){b.promise["catch"](function(){});a.push(b.abort())});this.a=[];return Promise.all(a)};var cn=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze",
"cs"],["dan","da"],["deu","de"],[_.qc,"dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice",
"is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao",
"mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san",
"sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie",
"vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);_.gn.prototype.canPlay=function(a){function b(f){e.stop();d.resolve(f)}var c=document.createElement(_.Xd);c.setAttribute("playsinline","playsinline");a&&(c.muted=!0,c.setAttribute("muted","muted"));c.src=URL.createObjectURL(this.a);var d=new _.nj;a=c.play();var e=(new _.Hf(function(){b(!1)})).R(.25);void 0!==a?a.then(function(){return b(!0)})["catch"](function(){return b(!1)}):b(!0);return d};
var fn=new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,
0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,
0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,
115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49]);_.w(T,_.Wi);_.r=T.prototype;_.r.init=function(){};_.r.onError=function(a){if(null!==this.a)this.a.onError(a);else this.trigger(new _.O(_.Ac,{detail:a}))};_.r.Hb=function(a){a=this.A[a];void 0===a&&(a=null);return a};_.r.getSurface=function(){return this.f};_.r.getConfiguration=function(){return _.C.lb(this.b)};_.r.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null};_.r.unload=function(){return this.a?this.a.unload():Promise.resolve()};
_.r.release=function(){var a=this;if(null!=this.j)return this.c.info("Player release already in progress"),this.j;this.c.debug("Releasing player");this.j=rn(this);return this.j["finally"](function(){a.c.debug("Player released");a.j=null})};
_.r.destroy=function(){var a=this;if(this.l)return this.c.debug("The player is already destroyed. No-op"),new Promise(function(b){return b()});this.l=!0;return this.release().then(function(){a.c.debug(ra);a.trigger(new _.O("destroying"));return a.Gc("onPlayerWillDestroy")}).then(function(){a.a&&a.a.removeDelegate(a);a.yc.clear();if(a.a)return a.a.destroy()}).then(function(){ml(function(b){b.ib()});_.il.clear();a.a=null;a.trigger(new _.O("destroyed"))})};
_.r.load=function(a){var b=this;return _.A(function(c){return 1==c.a?_.x(c,_.un(b,a),2):3!=c.a?_.x(c,_.vn(b),3):_.x(c,_.wn(b),0)})};_.r.Gc=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=this;d=this.w.map(function(f){var g=f[a];return g.call.apply(g,[f,e].concat(_.pe(c)))}).filter(function(f){return f instanceof Promise});return Promise.all(d)};_.r.use=function(a){a=new a;a.rb(this);_.ll(a)};
_.r.remove=function(a){if(this.getState()<=_.yn||this.o){var b="";ml(function(c){c instanceof a&&(b=c.id(),c.ib())});if(b)return _.il["delete"](b),this.u=!0}return!1};_.r.play=function(){return this.a?this.g&&this.a.namespace()!==_.dc?this.g.start(this.a):this.a.play():Promise.reject("No player initialized. You need to load content before calling play.")};_.r.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")};
_.r.getTrackManager=function(){return this.a&&this.a.getTrackManager()};_.r.getBufferInfo=function(a){return this.a?this.a.getBufferInfo(a):new _.Vi};_.r.getState=function(){return this.a?this.a.getState():_.yn};_.r.getThumbnailStreams=function(){return this.a?this.a.getThumbnailStreams():[]};_.r.isEnded=function(){return this.a&&this.a.isEnded()||!1};_.r.isPaused=function(){return this.a&&this.a.isPaused()||!1};_.r.getPosition=function(){return this.a?this.a.getPosition():0};
_.r.seek=function(a){return this.getState()===_.dl?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(a):Promise.reject("delegate does not exist")};_.r.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():0};_.r.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}};_.r.getVolume=function(){return this.a?this.a.getVolume():null};_.r.setVolume=function(a){this.a&&this.a.setVolume(a)};
_.r.getDuration=function(){return this.a?this.a.getDuration():-1};_.r.getAdsManager=function(){return this.g};_.r.namespace=function(){return this.a&&this.a.namespace()||"Undefined"};_.r.canPlay=function(a){return!!this.a&&this.a.canPlay(a)};_.r.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1};_.r.setPlaybackRate=function(a){this.a&&this.a.setPlaybackRate(a)};_.r.isMuted=function(){return this.a&&this.a.isMuted()||!1};_.r.setMuted=function(a){this.a&&this.a.setMuted(a)};
_.r.getNetworkEngine=function(){return this.m};_.r.setNetworkEngine=function(a){this.m=a};_.r.getTextDisplayer=function(){return this.a&&this.a.getTextDisplayer()};_.r.isLive=function(){return!!this.a&&this.a.isLive()};_.r.getStats=function(){return this.a?this.a.getStats():null};_.r.ed=function(){return Object.freeze(this.h)};_.r.setSourceIndex=function(a){this.a&&this.a.setSourceIndex(a)};_.r.getSourceIndex=function(){return this.a?this.a.getSourceIndex():0};
_.r.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()};_.r.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]};_.r.resetAbr=function(){this.a&&this.a.resetAbr()};_.B("clpp.Player",T);T.prototype.resetAbr=T.prototype.resetAbr;T.prototype.getTimelineCues=T.prototype.getTimelineCues;T.prototype.getLoadedSource=T.prototype.getLoadedSource;T.prototype.getSources=T.prototype.ed;T.prototype.getStats=T.prototype.getStats;T.prototype.isLive=T.prototype.isLive;
T.prototype.getTextDisplayer=T.prototype.getTextDisplayer;T.prototype.setNetworkEngine=T.prototype.setNetworkEngine;T.prototype.getNetworkEngine=T.prototype.getNetworkEngine;T.prototype.setMuted=T.prototype.setMuted;T.prototype.isMuted=T.prototype.isMuted;T.prototype.setPlaybackRate=T.prototype.setPlaybackRate;T.prototype.getPlaybackRate=T.prototype.getPlaybackRate;T.prototype.namespace=T.prototype.namespace;T.prototype.getAdsManager=T.prototype.getAdsManager;T.prototype.getDuration=T.prototype.getDuration;
T.prototype.setVolume=T.prototype.setVolume;T.prototype.getVolume=T.prototype.getVolume;T.prototype.getSeekRange=T.prototype.getSeekRange;T.prototype.getPresentationStartTime=T.prototype.getPresentationStartTime;T.prototype.seek=T.prototype.seek;T.prototype.getPosition=T.prototype.getPosition;T.prototype.isPaused=T.prototype.isPaused;T.prototype.isEnded=T.prototype.isEnded;T.prototype.getState=T.prototype.getState;T.prototype.getBufferInfo=T.prototype.getBufferInfo;T.prototype.getTrackManager=T.prototype.getTrackManager;
T.prototype.pause=T.prototype.pause;T.prototype.play=T.prototype.play;T.prototype.remove=T.prototype.remove;T.prototype.use=T.prototype.use;T.prototype.load=T.prototype.load;T.prototype.destroy=T.prototype.destroy;T.prototype.release=T.prototype.release;T.prototype.getDrmInfo=T.prototype.getDrmInfo;T.prototype.getConfiguration=T.prototype.getConfiguration;T.prototype.getSurface=T.prototype.getSurface;T.prototype.getPlugin=T.prototype.Hb;_.yn=0;_.Jn=1;_.Cn=2;_.ln=3;_.Kn=4;_.En=5;_.dl=6;_.zn=7;
_.Gn={IDLE:_.yn,PREPARING:_.Jn,BUFFERING:_.Cn,PLAYING:_.ln,PAUSED:_.Kn,ENDED:_.En,ERROR:_.dl,UNSET:_.zn};T.State=_.Gn;var on=[];T.registerPlugin=_.xn;_.r=An.prototype;_.r.Kc=function(a,b){this.a&&this.a.trigger(new _.O(a,{detail:b}))};_.r.getState=function(){return Dn(this,"")};_.r.zf=function(){this.h=!1;Hn(this,_.En)};_.r.Ee=function(){Ln(this,Xb)};_.r.wf=function(){this.o=!0;Ln(this,Yb)};_.r.Ge=function(){this.h=this.u=!1;Ln(this,_.gd)};_.r.He=function(){this.u=!0;this.h=!1;Ln(this,_.kd)};_.r.Bf=function(){Ln(this,_.Qc)};_.r.Ie=function(){In(this)&&Ln(this,_.nd)};_.r.Je=function(){Ln(this,_.od)};_.r.Wc=function(a){this.h=this.l=!1;Ln(this,a.type)};
_.r.Xc=function(a){this.l=!0;Ln(this,a.type)};_.r.Ke=function(){Ln(this,Bd)};_.r.If=function(){this.h=!0;Ln(this,_.ce)};_.r.Fe=function(a){(a=a&&a.detail)&&a.a&&a.a===_.K&&Hn(this,_.dl)};
_.r.destroy=function(){this.c.debug("Stop watching for video events for "+this.a.namespace());this.a.off(_.zc,this.zf);this.a.off(Xb,this.Ee);this.a.off(_.kd,this.He);this.a.off(_.gd,this.Ge);this.a.off(_.nd,this.Ie);this.a.off(_.od,this.Je);this.a.off(_.vd,this.Wc);this.a.off(_.wd,this.Xc);this.a.off(Bd,this.Ke);this.a.off(_.ce,this.If);this.a.off(_.Ac,this.Fe);this.a.off(_.Qc,this.Bf);this.a.off(Yb,this.wf);this.a.off(_.Td,this.Xc);this.a.off(_.Sd,this.Wc)};_.Mn.prototype.a=function(){return this.keyInfo};_.Nn.prototype.getPosition=function(){return this.position};_.Nn.prototype.a=function(){return this.keyInfo};_.r=_.On.prototype;_.r.getDuration=function(){return this.f};_.r.Ab=function(a){this.f=a};_.r.getPresentationStartTime=function(){return this.h};_.r.Nb=function(){return this.m};_.r.offset=function(a){null!=this.g&&(this.g+=a);null!=this.c&&(this.c+=a)};_.r.isLive=function(){return Infinity==this.f&&!this.b};_.r=_.Un.prototype;_.r.destroy=function(){this.a=null;return Promise.resolve()};_.r.find=function(a){for(var b=this.a.length-1;0<=b;--b){var c=this.a[b];if(a>=c.startTime&&a<c.endTime)return c.position}return this.a.length&&a<this.a[0].startTime?this.a[0].position:null};_.r.get=function(a){if(0==this.a.length)return null;a-=this.a[0].position;return 0>a||a>=this.a.length?null:this.a[a]};_.r.offset=function(a){for(var b=0;b<this.a.length;++b)this.a[b].startTime+=a,this.a[b].endTime+=a};
_.r.bc=function(a,b){var c=a-this.a[0].position;if(0<=c&&c<this.a.length)for(this.a[c].endTime+=b,c+=1;c<this.a.length;++c)this.a[c].startTime+=b,this.a[c].endTime+=b};_.Un.prototype.adjust=_.Un.prototype.bc;_.Un.prototype.getDuration=function(){return this.a[this.a.length-1].endTime-this.a[0].startTime};_.Un.prototype.getDuration=_.Un.prototype.getDuration;
_.Un.prototype.eb=function(a){for(var b=[],c=[],d=0,e=0;d<this.a.length&&e<a.length;){var f=this.a[d],g=a[e];f.startTime<g.startTime?(b.push(f),d++):(f.startTime>g.startTime?0===d?c.push(g):_.G("Refusing to rewrite original references on update!"):(.1<Math.abs(f.endTime-g.endTime)?b.push(new _.Nn(f.position,g.startTime,g.endTime,g.Ba,g.ua,g.ha,g.keyInfo,g.fc,g.timescale)):b.push(f),d++),e++)}for(;d<this.a.length;)b.push(this.a[d++]);if(b.length)for(d=b[b.length-1].position+1;e<a.length;)f=a[e++],
f=new _.Nn(d++,f.startTime,f.endTime,f.Ba,f.ua,f.ha,f.keyInfo,f.fc,f.timescale),b.push(f);else b=a;var h=b;if(c.length&&b.length){h=[];var l=b[0].position,m=c.length;c.forEach(function(n){h.push(new _.Nn(l-m--,n.startTime,n.endTime,n.Ba,n.ua,n.ha,n.keyInfo,n.fc))});b.forEach(function(n){h.push(n)})}this.a=h};_.Un.prototype.replace=function(a){this.a=a};_.r=Xn.prototype;_.r.load=function(){return Promise.resolve()};_.r.start=function(a){return a.play()};_.r.resume=function(){};_.r.pause=function(){};_.r.skip=function(){};_.r.getVolume=function(){return 1};_.r.setVolume=function(){};_.r.getPosition=function(){return-1};_.r.dispose=function(){};Xn.prototype.dispose=Xn.prototype.dispose;Xn.prototype.getPosition=Xn.prototype.getPosition;Xn.prototype.setVolume=Xn.prototype.setVolume;Xn.prototype.getVolume=Xn.prototype.getVolume;Xn.prototype.skip=Xn.prototype.skip;
Xn.prototype.pause=Xn.prototype.pause;Xn.prototype.resume=Xn.prototype.resume;Xn.prototype.start=Xn.prototype.start;Xn.prototype.load=Xn.prototype.load;Yn.prototype.name=function(){return"clpp.ads.NopAdsManagerFactory"};Yn.prototype.O=function(){return!0};Yn.prototype.create=function(){return new Xn};Yn.prototype.create=Yn.prototype.create;Yn.prototype.isSupported=Yn.prototype.O;Yn.prototype.name=Yn.prototype.name;_.B("clpp.ads.IAdsManagerFactory",Zn);Zn.prototype.name=function(){};Zn.prototype.name=Zn.prototype.name;Zn.prototype.O=function(){};Zn.prototype.isSupported=Zn.prototype.O;Zn.prototype.create=function(){};Zn.prototype.create=Zn.prototype.create;_.B("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2});_.B("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1});_.B("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var ao=new _.H("clpp.ads"),$n=[];_.B("clpp.ads.IAdsManager",co);co.prototype.load=function(){};co.prototype.start=function(){};co.prototype.resume=function(){};co.prototype.resume=co.prototype.resume;co.prototype.pause=function(){};co.prototype.pause=co.prototype.pause;co.prototype.skip=function(){};co.prototype.skip=co.prototype.skip;co.prototype.getVolume=function(){};co.prototype.getVolume=co.prototype.getVolume;co.prototype.setVolume=function(){};co.prototype.setVolume=co.prototype.setVolume;co.prototype.getPosition=function(){};
co.prototype.getPosition=co.prototype.getPosition;co.prototype.dispose=function(){};_.B("clpp.ads.IAd",U);U.prototype.Ta=function(){};U.prototype.getAdManagerName=U.prototype.Ta;U.prototype.Ua=function(){};U.prototype.getAdManagerVersion=U.prototype.Ua;U.prototype.$a=function(){};U.prototype.getTechnology=U.prototype.$a;U.prototype.Va=function(){};U.prototype.getId=U.prototype.Va;U.prototype.getCreativeId=function(){};U.prototype.getCreativeId=U.prototype.getCreativeId;U.prototype.getApiFramework=function(){};U.prototype.getApiFramework=U.prototype.getApiFramework;
U.prototype.getAdSystem=function(){};U.prototype.getAdSystem=U.prototype.getAdSystem;U.prototype.getAdvertiserName=function(){};U.prototype.getAdvertiserName=U.prototype.getAdvertiserName;U.prototype.getTitle=function(){};U.prototype.getTitle=U.prototype.getTitle;U.prototype.getDuration=function(){};U.prototype.getDuration=U.prototype.getDuration;U.prototype.getSkipTimeOffset=function(){};U.prototype.getSkipTimeOffset=U.prototype.getSkipTimeOffset;U.prototype.Lb=function(){};
U.prototype.isBumper=U.prototype.Lb;U.prototype.nb=function(){};U.prototype.getClickThroughUrl=U.prototype.nb;U.prototype.getMediaUrl=function(){};U.prototype.getMediaUrl=U.prototype.getMediaUrl;U.prototype.Xa=function(){};U.prototype.getMediaWidth=U.prototype.Xa;U.prototype.Wa=function(){};U.prototype.getMediaHeight=U.prototype.Wa;U.prototype.Ja=function(){};U.prototype.getMediaBitrate=U.prototype.Ja;U.prototype.Aa=function(){};U.prototype.getPodType=U.prototype.Aa;U.prototype.getPodIndex=function(){};
U.prototype.getPodIndex=U.prototype.getPodIndex;U.prototype.ob=function(){};U.prototype.getPodTimeOffset=U.prototype.ob;U.prototype.pb=function(){};U.prototype.getPositionInSequence=U.prototype.pb;U.prototype.Za=function(){};U.prototype.getSequenceLength=U.prototype.Za;U.prototype.getWrapperAdIds=function(){};U.prototype.getWrapperAdIds=U.prototype.getWrapperAdIds;U.prototype.getWrapperAdSystems=function(){};U.prototype.getWrapperAdSystems=U.prototype.getWrapperAdSystems;
U.prototype.getWrapperCreativeIds=function(){};U.prototype.getWrapperCreativeIds=U.prototype.getWrapperCreativeIds;_.B("clpp.ads.IAdsTimeline",eo);eo.prototype.getCuePoints=function(){};eo.prototype.getCuePoints=eo.prototype.getCuePoints;eo.prototype.qb=function(){};eo.prototype.hasPreroll=eo.prototype.qb;eo.prototype.ab=function(){};eo.prototype.hasPostroll=eo.prototype.ab;_.fo.prototype.onContentWillLoad=function(){return Promise.resolve()};_.fo.prototype.onContentLoaded=function(a,b){for(var c=1;c<arguments.length;++c);return Promise.resolve()};_.fo.prototype.onPlayerWillDestroy=function(){};_.fo.prototype.onPlayerWillRelease=function(){};};f.call(g,window);g.clpp._ = _;delete window.clpp; export let clpp = g.clpp; export default clpp;