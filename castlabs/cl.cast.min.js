(function(){var g={}; var _ = _ || {};
var f=function(window){var CC="Cannot seek during ads playout.",DC="Cannot switch track",EC="Media session does not exist.",FC="No receivers available",GC="Reset ABR functionality not available on cast.",HC="SDK not yet ready",IC="Sender is destroyed.",JC="clpp.cast.CastProxy",KC="clpp.cast.Player",LC="clpp.cast.Receiver",MC="urn:x-cast:castlabs",NC="urn:x-cast:com.google.cast.media",OC=function(a,b){this.log=new _.H(b);this.a=a;this.g=null;this.c=_.yn;this.h=_.zn;this.f=2;this.m=Date.now();this.l=-1},PC=function(a){return JSON.stringify(a,
function(b,c){if("license"!==b&&typeof c!==_.Dc){if(c instanceof Event){var d={},e;for(e in c){var f=c[e];typeof f===_.$c?"detail"===e&&(d[e]=f):e in Event||(d[e]=f)}return d}return typeof c===_.Zc?isNaN(c)?"NaN":isFinite(c)?c:0>c?"-Infinity":"Infinity":c}})},QC=function(a){if(typeof a!==_.Fd)return a;try{return JSON.parse(a,function(b,c){return"NaN"===c?NaN:"-Infinity"===c?-Infinity:"Infinity"===c?Infinity:c})}catch(b){return a}},RC=function(a,b,c){var d,e,f,g,h,l,m,n;return _.A(function(p){if(1==
p.a){if(b.includes(a.mimeType))return p["return"](a);f=e=d=null;for(g=0;g<b.length&&!e;)f=b[g++],e=_.xg(a.mimeType,f);if(!e||!f)return p.C(2);h=_.Gi(a.url);return _.x(p,c.fetch(h).promise,3)}2!=p.a&&(l=p.b)&&l.data&&(m=_.sh(_.ef(l.data)),n=URL.createObjectURL(new Blob([m])),d={url:n,kind:a.kind,language:a.language,label:a.label,mimeType:f});return p["return"](d)})},SC=function(a){OC.call(this,a,"clpp.cast.SenderStateManager");this.i=this.b=null;this.j=this.o.bind(this)},TC=function(){this.f=new _.H("clpp.cast.SenderTrackManager");
this.a=null;this.c=[];this.b={}},UC=function(a){return(a=a.a?a.a.a:null)?a.activeTrackIds.map(function(b){return b.toString()}):[]},WC=function(a,b){var c=UC(a);return VC(a,b).find(function(d){return c.includes(d.id)})||null},VC=function(a,b){return a.c.filter(function(c){return c.type===b})},YC=function(a,b,c){var d=a.a.a;if(d)if(c){a.b[b]=c.renditions[0];c=[+c.id];if(b!==_.P){var e=a.ca();e&&c.push(+e.id)}c=new chrome.cast.media.EditTracksInfoRequest(c);d.editTracksInfo(c,function(){a.b[b]=null;
XC(a,b)},function(f){a.b[b]=null;a.f.debug(DC,f)})}else b===_.P&&(c=new chrome.cast.media.EditTracksInfoRequest([]),d.editTracksInfo(c,function(){XC(a,b)},function(f){a.f.debug(DC,f)}))},XC=function(a,b){b===_.Q?a.a.trigger(new _.O(_.Oi)):b===_.P&&a.a.trigger(new _.O(_.Pi))},bD=function(a,b,c,d){_.Wi.call(this);this.g=new _.H(_.dc);this.S=a;this.i=new _.Hf(b);this.L=c;this.V=d;this.f=this.B=_.Ij();this.l=[];this.j=0;this.D=new _.Fj;this.w=this.h=this.a=null;this.o=this.m=!1;this.$="";this.va=1E6;
this.c=new TC;this.c.mb(this);this.b=new SC(this);this.A=new _.ii;this.u=new Set;this.G=this.Hi.bind(this);this.qa=this.bj.bind(this);this.T=this.Ri.bind(this);this.K=this.Li.bind(this);window.cast||Object.defineProperty(window,"cast",{get:function(){return window.cast_},set:function(e){window.cast_=e;window.setTimeout(function(){ZC(!0)},0)}});$C(this);aD.add(this)},cD=function(a){var b,c;return _.A(function(d){if(1==d.a)return aD["delete"](a),b=cast.framework.CastContext.getInstance(),b.removeEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,
a.G),b.removeEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,a.qa),c=[],a.c&&(c.push(a.c.destroy()),a.c=null),a.b&&(c.push(a.b.destroy()),a.b=null),_.x(d,Promise.all(c),2);a.m=!1;a.o=!1;a.i&&(a.i.stop(),a.i=null);a.L=null;a.V=null;_.y(d)})},$C=function(a){if(!a.m&&window.chrome&&chrome.cast&&chrome.cast.isAvailable&&window.cast&&cast.framework&&cast.framework.CastContext&&a.S.length){a.m=!0;a.i.qe();var b=cast.framework.CastContext.getInstance(),c=new cast.framework.CastOptions;
c.receiverApplicationId=a.S;c.autoJoinPolicy=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;b.setOptions(c);b.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,a.G);b.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,a.qa);dD&&a.i.R(.02)}},fD=function(a,b){eD(a,b.getMediaSession());b.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,a.T);b.addMessageListener(MC,a.K)},eD=function(a,b){b!==a.a&&(a.a=b,a.a&&(a.A.release(),a.w=null,a.h=null,a.h=new cast.framework.RemotePlayer,
a.w=new cast.framework.RemotePlayerController(a.h),a.A.on(a.w,cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,a.tg.bind(a)),a.c&&a.c.load(),a.b&&a.b.init(),a.trigger(new _.O(_.Qc))))},gD=function(a){return _.A(function(b){return a.Ka()?b.C(0):_.x(b,cast.framework.CastContext.getInstance().requestSession(),0)})},hD=function(a,b){var c,d,e,f,g,h,l;return _.A(function(m){switch(m.a){case 1:return c=chrome.cast.media.StreamType,_.x(m,gD(a),2);case 2:if(!b)return m["return"]();d=cast.framework.CastContext.getInstance();
e=d.getCurrentSession();f=new chrome.cast.media.MediaInfo(b.source.url,b.source.type);f.streamType=b.isLive?c.LIVE:c.BUFFERED;b.Fj===_.Zd&&(f.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.FMP4);if(!b.vb){m.C(3);break}a.f=b.vb;a.l=_.yl(a.f);a.j=a.l.findIndex(function(n){return n.url===b.source.url});if(!b.vb.remoteTextTracks){m.C(4);break}return _.x(m,Promise.all(b.vb.remoteTextTracks.map(a.Eh.bind(a))),5);case 5:g=m.b,f.tracks=g.filter(function(n){return n}),b.vb.remoteTextTracks=
void 0;case 4:f.customData={playerConfiguration:PC(b.vb)};case 3:return b.source.name&&(h=new chrome.cast.media.MovieMediaMetadata,h.title=b.source.name,f.metadata=h),l=new chrome.cast.media.LoadRequest(f),typeof b.autoplay===_.Ub&&(l.autoplay=b.autoplay),typeof b.currentTime===_.Zc&&(l.currentTime=b.currentTime),_.x(m,e.loadMedia(l),0)}})},iD=function(a,b,c){c=void 0===c?0:c;return _.A(function(d){return _.x(d,hD(a,{source:a.getLoadedSource(),currentTime:c,isLive:a.isLive(),autoplay:b,vb:a.f}),0)})},
jD=function(a,b){return new _.J(1,8,a,b)},ZC=function(a){if(a){a=_.u(aD);for(var b=a.next();!b.done;b=a.next())$C(b.value)}},lD=function(a,b,c){_.Wi.call(this);var d=this;this.b=a;this.f=b;this.g=typeof c===_.Dc?c:function(e,f){d.b&&e!==_.En&&e!==_.yn&&d.b.load(f)};this.a=kD(this);this.c=new _.H(JC);this.addDelegate(this.b)},kD=function(a){return new bD(a.f,function(){a.trigger(new _.O(_.$b))},function(b,c){var d=a.b.getConfiguration();d.source=c.source;d.autoplay=!1;d.startTime=c.currentTime?Math.max(c.currentTime-
1,0):null;d.ima&&d.startTime&&(d.ima.playAdsAfterTime=d.startTime);c.ye&&(d.preferredAudioLanguage=c.ye);c.Rf&&(d.preferredTextLanguage=c.Rf);_.qn(a.b,null);a.trigger(new _.O("castingended"));a.g(b,d)},function(){return mD(a)})},mD=function(a){var b;return _.A(function(c){if(1==c.a)return a.trigger(new _.O(_.Zb)),b=a.b.a,b!==a.a&&a.b&&a.a?_.x(c,a.b.release(),2):c["return"]();_.qn(a.b,a.a);_.y(c)})},nD=function(a){OC.call(this,a,"clpp.cast.StateManager");this.w=this.xg.bind(this);this.u=this.wg.bind(this);
this.i=this.Ni.bind(this);this.b=this.Fi.bind(this);this.B=this.zg.bind(this);this.A=this.yg.bind(this);this.D=this.Ag.bind(this);this.o=this.Qi.bind(this);this.j=this.vg.bind(this)},oD=function(){this.c=new _.H("clpp.cast.TrackManager");this.f=null;this.j=1E9;this.g=[];this.h=[];this.i=this.lj.bind(this);this.a=this.b=null},pD=function(){return cast.framework.CastReceiverContext.getInstance().getPlayerManager()},rD=function(a){a.a=pD().getTextTracksManager();var b=a.a.getTracks();a.h=qD(_.P,b)},
sD=function(a,b,c,d){var e=!1,f=[];b===_.Q?f=a.getAudioTracks():b===_.P&&(f=a.Y());if(_.vf(c)){var g=f.filter(function(h){return h.language===c});f=g.length?g:f;e=e||!!g.length}_.vf(d)&&(g=f.filter(function(h){return h.roles.includes(d)}),f=g.length?g:f,e=e||!!g.length);e&&f[0]&&(e=f[0],a.c.info("Will select track",e),b===_.Q?a.na(e):b===_.P&&a.oa(e))},qD=function(a,b){for(var c=[],d=_.u(b),e=d.next();!e.done;e=d.next()){e=e.value;var f=new _.wi(e.trackId.toString(),a);f.roles=e.roles||[];f.kind=
e.subtype||null;f.language=e.language||null;f.label=e.name||null;f.src=e.trackContentId||null;f.mimeType=e.trackContentType||null;e.customData&&(f.mimeType=e.customData.mimeType||f.mimeType,f.src=e.customData.url||f.src);f.renditions.push(new _.xi(f.id,f));c.push(f)}return c},tD=function(){_.Wi.call(this);this.m=new _.H(KC);this.c=this.g=_.Ij();this.i=[];this.h=0;this.o=new _.Fj;this.b=this.f=this.a=this.j=null;this.l=!1},uD=function(){return cast.framework.CastReceiverContext.getInstance().getPlayerManager()},
xD=function(a,b){function c(){b.protectionSystem=cast.framework.ContentProtection.NONE;b.licenseUrl=void 0;b.licenseRequestHandler=void 0;b.licenseHandler=void 0}if(a&&a.drm){var d=a.drm,e=_.bl(d);if(e){var f=[_.em,_.Ek];d.preferredDrmSystem===_.Ek&&f.reverse();for(var g,h;f.length&&!h;)g=f.shift(),h=e.Na[g];h?(d=g===_.em?cast.framework.ContentProtection.WIDEVINE:g===_.Ek?cast.framework.ContentProtection.PLAYREADY:void 0,b.protectionSystem=d,b.licenseUrl=h.licenseUrl,vD(b,h,a),wD(b,h,a)):c()}else c()}else c()},
vD=function(a,b,c){b.modifiers.licenseRequest?a.licenseRequestHandler=function(d){var e=_.Gi(d.url);d.headers&&(e.headers=d.headers);e.body=d.content;e.allowCrossSiteCredentials=d.withCredentials;b.modifiers.licenseRequest(c,e);d.url=e.uris[0];d.headers=e.headers;d.content=e.body;d.withCredentials=e.allowCrossSiteCredentials}:a.licenseRequestHandler=void 0},wD=function(a,b,c){b.modifiers.licenseResponse?a.licenseHandler=function(d){d=_.qj({},d.buffer,200,"");b.modifiers.licenseResponse(c,d);return _.ef(d.data)}:
a.licenseHandler=void 0},Z=function(a,b,c,d,e){this.a=a;this.b=b;this.f=typeof c===_.Zc?c:1;this.g=typeof d===_.Zc?d:1;this.c=typeof e===_.Zc?e:0},yD=function(a){this.a=a},AD=function(a){this.b=a;this.a=null;this.f=this.Bg.bind(this);this.c=[cast.framework.events.EventType.PLAYER_LOADING,cast.framework.events.EventType.BREAK_STARTED,cast.framework.events.EventType.BREAK_ENDED,cast.framework.events.EventType.BREAK_CLIP_STARTED,cast.framework.events.EventType.BREAK_CLIP_ENDED,cast.framework.events.EventType.PLAYING,
cast.framework.events.EventType.PAUSE,cast.framework.events.EventType.BUFFERING];zD().addEventListener(this.c,this.f)},CD=function(a,b,c){var d,e,f,g,h,l;return _.A(function(m){if(1==m.a){d=b.adTagUrl;if(!d)return m["return"]();e=_.Gi(d);return _.x(m,c.fetch(e).promise,2)}if((f=m.b)&&f.data)if(g=_.hf(f.data),h=new DOMParser,l=h.parseFromString(g,_.Ld),l.getElementsByTagName("vmap:VMAP").length)_.G("VMAP detected."),a.vmapAdsRequest=BD(g);else if(l.getElementsByTagName("VAST").length){_.G("VAST detected.");
var n=new cast.framework.messages.BreakClip("bc1");n.vastAdsRequest=BD(g);var p=new cast.framework.messages.Break("b1",[n.id],0);a.breakClips=[n];a.breaks=[p]}else _.G("Unsupported schema.");_.y(m)})},BD=function(a){var b=new cast.framework.messages.VastAdsRequest;b.adsResponse=a;return b},zD=function(){return cast.framework.CastReceiverContext.getInstance().getPlayerManager()},ED=function(a,b,c){if(c instanceof cast.framework.events.BreaksEvent||-1!==a.getPosition()){var d=null;(c=DD(a,c))&&(d={ad:c});
a.b.trigger(new _.O(b,d))}},DD=function(a,b){var c=null;if(a.a&&b instanceof cast.framework.events.BreaksEvent){var d=c=null,e;typeof b.breakClipId===_.Fd&&(c=a.a.getBreakClipById(b.breakClipId));typeof b.breakId===_.Fd&&(d=a.a.getBreakById(b.breakId))&&(e=a.a.getBreaks().filter(function(f){return 0<=f.position}).sort(function(f,g){return f.position-g.position}).findIndex(function(f){return f===d}));c=new Z(c,d,b.index,b.total,e)}return c},FD=function(){this.b=!1;this.g=new _.H(LC);this.c=this.a=
null;this.f=new Set;this.i=this.Pi.bind(this);this.h=this.ug.bind(this)},HD=function(){return GD||(GD=new FD)},JD=function(a,b){a.g.debug("Detected HLS, parsing");var c=cast.framework.messages.HlsVideoSegmentFormat,d=cast.framework.CastReceiverContext.getInstance();c=d.getPlayerManager().getMediaInformation().hlsVideoSegmentFormat===c.FMP4?_.Zd:_.Yd;b=b.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n");for(var e=b.split(/\n+/m),f=[],g=0;g<e.length;){var h=e[g].trim();if(e[g].startsWith("#EXT-X-STREAM-INF")){var l=
ID(h,"CODECS"),m=ID(h,"RESOLUTION"),n=_.u([]),p=n.next().value;n=n.next().value;m&&(m=_.u(m.split("x").map(function(q){return+q})),p=m.next().value,n=m.next().value);if(!d.canDisplayType(c,l,p,n)){g+=2;continue}}f.push(h);++g}return f.join("\n")},ID=function(a,b){b+="\x3d";var c=a.indexOf(b);if(0<=c){var d=a.substring(c+b.length);d.startsWith('"')?(d=d.substring(1),d=d.substring(0,d.indexOf('"'))):(c=d.indexOf(","),0<=c&&(d=d.substring(0,c)))}return d},KD=function(a){this.b=a;this.a=null;this.c=new _.ii;
this.f=[cast.framework.RemotePlayerEventType.IS_PLAYING_BREAK_CHANGED,cast.framework.RemotePlayerEventType.CURRENT_BREAK_CLIP_NUMBER_CHANGED,cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED]},MD=function(a,b){var c=null,d=LD(a);d&&(c={ad:d});a.b.trigger(new _.O(b,c))},LD=function(a){var b=null;if(a.a&&a.a.mediaInfo){b=a.a.mediaInfo;var c=null,d=null,e=a.a.currentBreakClipNumber;if(b.breaks&&(c=b.breaks.find(function(h){return h.id===a.a.breakId})||
null)){var f=c.breakClipIds.length;var g=0>=c.position?c.position:b.breaks.filter(function(h){return 0<=h.position}).sort(function(h,l){return h.position-l.position}).findIndex(function(h){return h===c})}b.breakClips&&(d=b.breakClips.find(function(h){return h.id===a.a.breakClipId})||null);b=new Z(d,c,e,f,g)}return b},ND=function(){},OD=function(){};_.r=OC.prototype;_.r.release=function(){this.W(_.yn)};_.r.destroy=function(){this.g=this.a=null;return Promise.resolve()};_.r.getState=function(){return this.c};
_.r.onError=function(a){a.a===_.K&&this.W(_.dl)};
_.r.W=function(a){if(a!==this.c)if(this.c===_.dl&&a!==_.yn)this.log.debug("Player is in ERROR state and can not switch to",a);else{var b=Date.now();this.h=this.c;this.c=a;this.c===_.Cn?(this.l=b,this.a.trigger(new _.O(_.Wb,{detail:{bufferedTimeMS:-1,reason:this.f}}))):this.h===_.Cn&&this.a.trigger(new _.O(_.Vb,{detail:{bufferedTimeMS:b-this.l,reason:this.f}}));a={currentState:this.c,previousState:this.h,timeSinceLastStateChangeMS:b-this.m};this.m=b;this.g&&_.Pk(this.g,this.c);this.a.trigger(new _.O(_.Dd,
{detail:a}))}};_.w(SC,OC);SC.prototype.init=function(){var a=this.a,b=a.a;b&&(this.b&&this.b.removeUpdateListener(this.j),this.b=b,this.b.addUpdateListener(this.j),this.i=a.h)};SC.prototype.destroy=function(){var a=this;return _.A(function(b){a.b&&(a.b.removeUpdateListener(a.j),a.b=null);return _.x(b,OC.prototype.destroy.call(a),0)})};SC.prototype.W=function(a){var b=this.a.h;b&&b.isPlayingBreak||OC.prototype.W.call(this,a)};
SC.prototype.o=function(){if(this.b&&this.i&&!this.i.isPlayingBreak)switch(this.b.playerState){case chrome.cast.media.PlayerState.IDLE:switch(this.b.idleReason){case chrome.cast.media.IdleReason.FINISHED:this.W(_.En);break;case chrome.cast.media.IdleReason.ERROR:this.W(_.dl);break;default:this.W(_.yn)}break;case chrome.cast.media.PlayerState.PLAYING:this.W(_.ln);break;case chrome.cast.media.PlayerState.PAUSED:this.W(_.Kn);break;case chrome.cast.media.PlayerState.BUFFERING:this.W(_.Cn)}};_.w(TC,_.S);_.r=TC.prototype;_.r.mb=function(a){this.a=a};_.r.release=function(){this.c=[];this.b={}};
_.r.load=function(){this.release();var a=this.a.a;a&&(a=a.media)&&(this.c=(a=a.tracks)?a.map(function(b){switch(b.type){case chrome.cast.media.TrackType.VIDEO:var c=_.zi;break;case chrome.cast.media.TrackType.AUDIO:c=_.Q;break;case chrome.cast.media.TrackType.TEXT:c=_.P}c=new _.wi(b.trackId.toString(),c);c.kind=b.subtype;c.language=b.language;c.label=b.name;c.src=b.trackContentId;c.mimeType=b.trackContentType;b.customData&&(c.src=b.customData.url||c.src,c.mimeType=b.customData.mimeType||c.mimeType);
c.renditions.push(new _.xi(c.id,c));return c}):[],this.a.trigger(new _.O(_.so)))};_.r.destroy=function(){this.a=null};_.r.getVideoTracks=function(){return VC(this,_.zi)};_.r.getAudioTracks=function(){return VC(this,_.Q)};_.r.Y=function(){return VC(this,_.P)};_.r.Z=function(){var a=this.ka();return a?a.renditions[0]:null};_.r.sa=function(){var a=this.fa();return a?a.renditions[0]:null};_.r.ja=function(){var a=this.ca();return a?a.renditions[0]:null};_.r.za=function(){return this.b[_.zi]||null};
_.r.Ha=function(){return this.b[_.Q]||null};_.r.Ia=function(){return this.b[_.P]||null};_.r.ka=function(){return WC(this,_.zi)};_.r.fa=function(){return WC(this,_.Q)};_.r.ca=function(){return WC(this,_.P)};_.r.Fa=function(a){YC(this,_.zi,a)};_.r.na=function(a){YC(this,_.Q,a)};_.r.oa=function(a){YC(this,_.P,a)};_.r.Ea=function(a){this.Fa(a&&a.track)};_.r.La=function(a){this.na(a&&a.track)};_.r.Ma=function(a){this.oa(a&&a.track)};_.r.addTextTrack=function(){return _.A(function(a){_.y(a)})};_.r.la=function(){return!0};
TC.prototype.isAbrEnabled=TC.prototype.la;TC.prototype.addTextTrack=TC.prototype.addTextTrack;TC.prototype.setTextRendition=TC.prototype.Ma;TC.prototype.setAudioRendition=TC.prototype.La;TC.prototype.setVideoRendition=TC.prototype.Ea;TC.prototype.setTextTrack=TC.prototype.oa;TC.prototype.setAudioTrack=TC.prototype.na;TC.prototype.setVideoTrack=TC.prototype.Fa;TC.prototype.getTextTrack=TC.prototype.ca;TC.prototype.getAudioTrack=TC.prototype.fa;TC.prototype.getVideoTrack=TC.prototype.ka;
TC.prototype.getLoadingTextRendition=TC.prototype.Ia;TC.prototype.getLoadingAudioRendition=TC.prototype.Ha;TC.prototype.getLoadingVideoRendition=TC.prototype.za;TC.prototype.getTextRendition=TC.prototype.ja;TC.prototype.getAudioRendition=TC.prototype.sa;TC.prototype.getVideoRendition=TC.prototype.Z;TC.prototype.getTextTracks=TC.prototype.Y;TC.prototype.getAudioTracks=TC.prototype.getAudioTracks;TC.prototype.getVideoTracks=TC.prototype.getVideoTracks;_.w(bD,_.Wi);_.r=bD.prototype;_.r.init=function(a,b){this.f=this.B=b};_.r.unload=function(){var a=this;return new Promise(function(b,c){a.c&&a.c.release();a.a&&!a.a.idleReason||b();a.a.stop(null,b,c)})};_.r.release=function(){var a=this;return this.unload().then(function(){a.b&&a.b.release()})};_.r.destroy=function(){return _.A(function(a){_.y(a)})};_.r.Jb=function(){return this.m};_.r.Ka=function(){return this.o};_.r.Sd=function(){return this.$};
_.r.sendMessage=function(a,b){var c=this,d,e,f;return _.A(function(g){switch(g.a){case 1:e=cast.framework.CastContext.getInstance().getCurrentSession();if(!e){d=jD(8004);g.C(2);break}_.Ce(g,3);return _.x(g,e.sendMessage(a,PC(b)),5);case 5:_.De(g,2);break;case 3:f=_.Ee(g),d=jD(8E3,{detailedErrorCode:f});case 2:if(d)c.onError(d);_.y(g)}})};
_.r.cast=function(){var a=this,b;return _.A(function(c){if(1==c.a){if(!a.Jb())throw a.g.warn(HC),jD(8001);if(!dD)throw a.g.warn(FC),jD(8002);if(a.Ka())throw a.g.warn("Already casting"),jD(8003);_.Ce(c,2);return _.x(c,gD(a),4)}if(2!=c.a)return _.De(c,0);b=_.Ee(c);throw jD(8E3,{detailedErrorCode:b.code,details:b.details,reason:b.description});})};_.r.Nd=function(){this.Ka()&&cast.framework.CastContext.getInstance().endCurrentSession(!0)};_.r.addMessageListener=function(a){typeof a===_.Dc&&this.u.add(a)};
_.r.removeMessageListener=function(a){typeof a===_.Dc&&this.u["delete"](a)};_.r.play=function(){var a=this;return this.isEnded()?iD(this,!0):new Promise(function(b,c){if(!a.a)return c(EC);a.a.play(null,b,c)})};_.r.pause=function(){var a=this;return new Promise(function(b,c){a.isEnded()&&b();if(!a.a)return c(EC);a.a.pause(null,b,c)})};_.r.isPaused=function(){return!!this.a&&this.a.playerState===chrome.cast.media.PlayerState.PAUSED};_.r.isEnded=function(){return this.getState()===_.En};
_.r.seek=function(a){var b=this;return this.isEnded()?iD(this,!1,a):new Promise(function(c,d){b.a||d(EC);b.h.isPlayingBreak&&d(CC);var e=new chrome.cast.media.SeekRequest;e.currentTime=a;b.trigger(new _.O(_.Td));b.a.seek(e,function(){b.trigger(new _.O(_.Sd));c()},d)})};_.r.getPosition=function(){return this.a&&this.a.getEstimatedTime()||0};_.r.getDuration=function(){return this.a&&this.a.media&&typeof this.a.media.duration===_.Zc?this.a.media.duration:0};
_.r.getPlaybackRate=function(){return this.a&&this.a.playbackRate||0};_.r.setPlaybackRate=function(a){this.a&&0<a&&this.sendMessage(NC,{type:"SET_PLAYBACK_RATE",requestId:Math.round(1E3*Math.random()),mediaSessionId:this.a.mediaSessionId,playbackRate:a})};_.r.getVolume=function(){return this.a&&this.a.volume.level};_.r.setVolume=function(a){this.a&&0<=a&&1>=a&&(a=new chrome.cast.media.VolumeRequest(new chrome.cast.Volume(a)),this.a.setVolume(a))};_.r.isMuted=function(){return this.a&&this.a.volume.muted};
_.r.setMuted=function(a){this.a&&(a=new chrome.cast.media.VolumeRequest(new chrome.cast.Volume(void 0,a)),this.a.setVolume(a))};_.r.getPresentationStartTime=function(){return this.a&&this.a.media.startAbsoluteTime||0};_.r.getSeekRange=function(){var a={start:0,end:this.getDuration()};if(this.isLive()){var b=this.a.getEstimatedLiveSeekableRange();b&&typeof b.start===_.Zc&&typeof b.end===_.Zc&&(a={start:b.start,end:b.end})}return a};_.r.getState=function(){return this.b?this.b.getState():_.zn};
_.r.getStats=function(){return this.a&&this.a.customData&&this.a.customData.stats?QC(this.a.customData.stats):_.Vk()};_.r.isLive=function(){return this.a&&this.a.media.streamType===chrome.cast.media.StreamType.LIVE||!1};_.r.load=function(a){var b=this,c,d;return _.A(function(e){if(!b.Jb())return b.g.warn(HC),e["return"]();if(!dD)return b.g.warn(FC),e["return"]();b.l=_.yl(a);_.Mj(a)&&(b.f=_.Lj(b.B,a));c=b.l[b.j];d={source:c,isLive:c.isLive,autoplay:b.f.autoplay,vb:b.f};return _.x(e,hD(b,d),0)})};
_.r.getBufferInfo=function(){return new _.Vi};_.r.getTrackManager=function(){return this.c};_.r.getConfiguration=function(){return this.f};_.r.getSurface=function(){return null};_.r.setNetworkEngine=function(a){this.D=a};_.r.getNetworkEngine=function(){return this.D};_.r.getSourceIndex=function(){return this.j};_.r.setSourceIndex=function(a){this.j=a};_.r.getLoadedSource=function(){return this.l[this.j]};_.r.getThumbnailStreams=function(){return[]};_.r.getDrmInfo=function(){return null};
_.r.getTimelineCues=function(){return[]};_.r.resetAbr=function(){this.g.warn(GC)};_.r.onError=function(a){if(a&&(this.trigger(new _.O(_.Ac,{detail:a})),this.b))this.b.onError(a)};_.r.namespace=function(){return _.dc};_.r.canPlay=function(){return this.Jb()};
_.r.Hi=function(a){var b=cast.framework.CastContext.getInstance(),c=a.castState===cast.framework.CastState.CONNECTED;dD=a.castState!==cast.framework.CastState.NO_DEVICES_AVAILABLE;this.$=c?b.getCurrentSession().getCastDevice().friendlyName:"";this.i.qe()};
_.r.bj=function(a){this.g.debug("state: "+a.sessionState+", details:",a);switch(a.sessionState){case cast.framework.SessionState.SESSION_STARTED:this.o=!0;fD(this,a.session);break;case cast.framework.SessionState.SESSION_RESUMED:this.Ka()||(fD(this,a.session),this.V());break;case cast.framework.SessionState.SESSION_ENDED:if(this.Ka()){var b=this.a.media,c=this.c.fa(),d=this.c.ca();c=c&&c.language||void 0;d=d&&d.language||void 0;this.L(this.getState(),{source:{url:b.contentId,type:b.contentType,isLive:b.streamType===
chrome.cast.media.StreamType.LIVE},currentTime:this.getPosition(),Rf:d,ye:c})}a.session.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.T);a.session.removeMessageListener(MC,this.K);this.o=!1;this.a=null;this.A.release();this.h=this.w=null}};_.r.Ri=function(a){this.g.debug("New media session",a.mediaSession);eD(this,a.mediaSession)};_.r.Li=function(a,b){if(a===MC&&0<this.u.size){var c=QC(b);this.u.forEach(function(d){return d(c)})}};
_.r.tg=function(a){this.trigger(new _.O(_.Nd,{currentTime:a.value}))};_.r.Eh=function(a){var b=this,c,d;return _.A(function(e){if(1==e.a)return c=null,_.x(e,RC(a,[_.Kd,_.Hb],b.D),2);if(d=e.b)c=new chrome.cast.media.Track(b.va++,chrome.cast.media.TrackType.TEXT),c.language=d.language,c.name=d.label||null,c.trackContentId=d.url,c.trackContentType=d.mimeType,c.customData={mimeType:a.mimeType,url:a.url};return e["return"](c)})};_.r.getTextDisplayer=function(){return null};
bD.prototype.getTextDisplayer=bD.prototype.getTextDisplayer;bD.prototype.getNetworkEngine=bD.prototype.getNetworkEngine;bD.prototype.setNetworkEngine=bD.prototype.setNetworkEngine;var dD=!1,aD=new Set;window.__onGCastApiAvailable=ZC;_.w(lD,_.Wi);_.r=lD.prototype;_.r.destroy=function(){var a=this;return _.A(function(b){if(1==b.a)return a.a?_.x(b,cD(a.a),3):b.C(2);2!=b.a&&(a.a=null);a.removeDelegate(a.b);_.y(b)})};_.r.Dd=function(){return!!this.a&&this.a.Jb()&&dD};_.r.Ka=function(){return!!this.a&&this.a.Ka()};_.r.Sd=function(){return this.a?this.a.Sd():""};
_.r.cast=function(){var a=this,b,c;return _.A(function(d){switch(d.a){case 1:if(!a.a)return d["return"]();var e=null,f=a.b.getLoadedSource();if(f){var g=a.b.getTrackManager();e=g.getVideoTracks()[0];if(e&&e.mimeType)var h=e.mimeType;e=a.b.getConfiguration();var l=g.fa();l&&(l.language&&(e.preferredAudioLanguage=l.language),l.roles.length&&(e.preferredAudioRole=l.roles[0]));if(g=g.ca())g.language&&(e.preferredTextLanguage=g.language),g.roles.length&&(e.preferredTextRole=g.roles[0]);g=f&&typeof f.isLive===
_.Ub?f.isLive:a.b.isLive();e={source:f,isLive:g,autoplay:!a.b.isPaused(),currentTime:Math.max(a.b.getPosition()-1,0),Fj:h,vb:e}}b=e;_.Ce(d,2);return _.x(d,a.a.cast(),4);case 4:return a.b&&a.a?_.x(d,mD(a),5):d["return"]();case 5:if(!a.a)return d["return"]();b&&(b.autoplay=!a.b.isPaused());if(a.a.a){d.C(6);break}return _.x(d,hD(a.a,b),6);case 6:_.De(d,0);break;case 2:c=_.Ee(d);a.c.error("Error while trying to cast",c);if(a.b)a.b.onError(c);_.y(d)}})};_.r.Nd=function(){this.a&&this.a.Nd()};
_.r.pg=function(a){var b=this;return _.A(function(c){if(1==c.a){if(a===b.f)return c["return"]();b.f=a;return b.a?_.x(c,cD(b.a),2):c.C(2)}b.a=kD(b);_.y(c)})};_.r.sendMessage=function(a){var b=this;return _.A(function(c){return b.a?_.x(c,b.a.sendMessage(MC,a),0):(b.c.warn(IC),c["return"]())})};_.r.addMessageListener=function(a){this.a?this.a.addMessageListener(a):this.c.warn(IC)};_.r.removeMessageListener=function(a){this.a?this.a.removeMessageListener(a):this.c.warn(IC)};_.B(JC,lD);
lD.prototype.removeMessageListener=lD.prototype.removeMessageListener;lD.prototype.addMessageListener=lD.prototype.addMessageListener;lD.prototype.sendMessage=lD.prototype.sendMessage;lD.prototype.changeReceiverId=lD.prototype.pg;lD.prototype.forceDisconnect=lD.prototype.Nd;lD.prototype.cast=lD.prototype.cast;lD.prototype.getReceiverName=lD.prototype.Sd;lD.prototype.isCasting=lD.prototype.Ka;lD.prototype.canCast=lD.prototype.Dd;lD.prototype.destroy=lD.prototype.destroy;_.w(nD,OC);_.r=nD.prototype;_.r.init=function(){var a=cast.framework.events.EventType,b=cast.framework.CastReceiverContext.getInstance().getPlayerManager();b.addEventListener(a.PLAYING,this.w);b.addEventListener(a.PAUSE,this.u);b.addEventListener(a.ENDED,this.i);b.addEventListener(a.BUFFERING,this.b);b.addEventListener(a.SEEKING,this.B);b.addEventListener(a.SEEKED,this.A);b.addEventListener(a.STALLED,this.D);b.addEventListener(a.PLAYER_LOADING,this.o);b.addEventListener(a.ERROR,this.j)};
_.r.destroy=function(){var a=this,b,c;return _.A(function(d){b=cast.framework.events.EventType;c=cast.framework.CastReceiverContext.getInstance().getPlayerManager();c.removeEventListener(b.PLAYING,a.w);c.removeEventListener(b.PAUSE,a.u);c.removeEventListener(b.ENDED,a.i);c.removeEventListener(b.BUFFERING,a.b);c.removeEventListener(b.SEEKING,a.B);c.removeEventListener(b.SEEKED,a.A);c.removeEventListener(b.STALLED,a.D);c.removeEventListener(b.PLAYER_LOADING,a.o);c.removeEventListener(b.ERROR,a.j);return _.x(d,
OC.prototype.destroy.call(a),0)})};_.r.xg=function(){this.W(_.ln)};_.r.wg=function(){this.W(_.Kn)};_.r.Ni=function(){this.W(_.En)};_.r.Fi=function(a){a.isBuffering?this.W(_.Cn):(a=this.a.isPaused()?_.Kn:_.ln,this.W(a))};_.r.zg=function(){this.f=1;this.a.trigger(new _.O(_.Td))};_.r.yg=function(){this.a.trigger(new _.O(_.Sd))};_.r.Ag=function(){this.f=2};_.r.Qi=function(){this.W(_.Jn)};
_.r.vg=function(a){a=new _.J(_.K,7,7300,{detailedErrorCode:a.detailedErrorCode,error:a.error,reason:a.reason});this.a.trigger(new _.O(_.Ac,{detail:a}));this.W(_.dl)};_.w(oD,_.S);_.r=oD.prototype;_.r.mb=function(a){this.f=a;pD().addEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.i)};_.r.release=function(){this.g=[];this.h=[];this.a=this.b=null};_.r.load=function(){};_.r.destroy=function(){this.f=null;pD().removeEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.i)};_.r.getVideoTracks=function(){return[]};_.r.getAudioTracks=function(){return this.g};_.r.Y=function(){return this.h};_.r.Z=function(){return null};
_.r.sa=function(){var a=this.fa();return a&&a.renditions[0]};_.r.ja=function(){var a=this.ca();return a&&a.renditions[0]};_.r.za=function(){return null};_.r.Ha=function(){return null};_.r.Ia=function(){return null};_.r.ka=function(){return null};_.r.fa=function(){var a=null;if(this.b){var b=this.b.getActiveId();typeof b===_.Zc&&(b=b.toString(),a=this.getAudioTracks().find(function(c){return c.id===b})||null)}return a};
_.r.ca=function(){var a=null;if(this.a){var b=this.a.getActiveIds()[0];typeof b===_.Zc&&(b=b.toString(),a=this.Y().find(function(c){return c.id===b})||null)}return a};_.r.Fa=function(){this.c.warn("Video tracks unavailable on Cast")};_.r.na=function(a){a&&this.b&&this.b.setActiveById(+a.id)};_.r.oa=function(a){this.a&&(a?this.a.setActiveByIds([+a.id]):this.a.setActiveByIds([]))};_.r.Ea=function(){this.c.warn("Video renditions unavailable on Cast")};_.r.La=function(a){this.na(a&&a.track)};
_.r.Ma=function(a){this.oa(a&&a.track)};
_.r.addTextTrack=function(a){var b=this,c,d;return _.A(function(e){if(1==e.a)return _.x(e,RC(a,Object.values(cast.framework.messages.CaptionMimeType),b.f.getNetworkEngine()),2);if((c=e.b)&&b.a){d=new cast.framework.messages.Track(b.j++,cast.framework.messages.TrackType.TEXT);d.isInBand=!1;d.language=c.language;d.name=c.label;d.subtype=c.kind;d.trackContentId=c.url;d.trackContentType=c.mimeType;d.customData={mimeType:a.mimeType,url:a.url};try{b.a.addTracks([d]),rD(b)}catch(f){throw b.c.warn("failed on track",
a),f;}}_.y(e)})};_.r.la=function(){return!0};_.r.lj=function(){this.b=pD().getAudioTracksManager();var a=this.b.getTracks();this.g=qD(_.Q,a);rD(this);a=this.f.getConfiguration();sD(this,_.Q,a.preferredAudioLanguage,a.preferredAudioRole);sD(this,_.P,a.preferredTextLanguage,a.preferredTextRole)};oD.prototype.isAbrEnabled=oD.prototype.la;oD.prototype.addTextTrack=oD.prototype.addTextTrack;oD.prototype.setTextRendition=oD.prototype.Ma;oD.prototype.setAudioRendition=oD.prototype.La;
oD.prototype.setVideoRendition=oD.prototype.Ea;oD.prototype.setTextTrack=oD.prototype.oa;oD.prototype.setAudioTrack=oD.prototype.na;oD.prototype.setVideoTrack=oD.prototype.Fa;oD.prototype.getTextTrack=oD.prototype.ca;oD.prototype.getAudioTrack=oD.prototype.fa;oD.prototype.getVideoTrack=oD.prototype.ka;oD.prototype.getLoadingTextRendition=oD.prototype.Ia;oD.prototype.getLoadingAudioRendition=oD.prototype.Ha;oD.prototype.getLoadingVideoRendition=oD.prototype.za;oD.prototype.getTextRendition=oD.prototype.ja;
oD.prototype.getAudioRendition=oD.prototype.sa;oD.prototype.getVideoRendition=oD.prototype.Z;oD.prototype.getTextTracks=oD.prototype.Y;oD.prototype.getAudioTracks=oD.prototype.getAudioTracks;oD.prototype.getVideoTracks=oD.prototype.getVideoTracks;_.w(tD,_.Wi);_.r=tD.prototype;_.r.init=function(a,b){this.j=a;b&&(this.c=this.g=b);var c=uD();c.setMessageInterceptor(cast.framework.messages.MessageType.MEDIA_STATUS,this.Si.bind(this));c.setMediaPlaybackInfoHandler(this.fg.bind(this));this.a=new nD(this);this.a.init();this.f=new oD;this.f.mb(this)};_.r.unload=function(){var a=uD();a.getPlayerState()!==cast.framework.messages.PlayerState.IDLE&&a.stop();this.f&&this.f.release();this.b=null;return Promise.resolve()};
_.r.release=function(){var a=this;return this.unload().then(function(){a.a&&a.a.release()})};_.r.destroy=function(){var a=this;return _.A(function(b){if(1==b.a)return a.j=null,a.g=_.Ij(),a.c=a.g,a.h=0,a.i=[],a.a?_.x(b,a.a.destroy(),3):b.C(2);2!=b.a&&(a.a=null);a.f&&(a.f.destroy(),a.f=null);_.y(b)})};_.r.play=function(){var a=uD();if(null!==a.getBreakManager().getBreakClipCurrentTimeSec())return Promise.reject("Cannot play during ads playout.");a.play();return Promise.resolve()};
_.r.pause=function(){var a=uD();if(null!==a.getBreakManager().getBreakClipCurrentTimeSec())return Promise.reject("Cannot pause during ads playout.");a.pause();return Promise.resolve()};_.r.isPaused=function(){return uD().getPlayerState()===cast.framework.messages.PlayerState.PAUSED};_.r.isEnded=function(){return uD().getPlayerState()===cast.framework.messages.PlayerState.IDLE};
_.r.seek=function(a){var b=uD();if(null!==b.getBreakManager().getBreakClipCurrentTimeSec())return Promise.reject(CC);b.seek(a);return Promise.resolve()};_.r.getPosition=function(){return uD().getCurrentTimeSec()};_.r.getDuration=function(){return uD().getDurationSec()};_.r.getPlaybackRate=function(){return uD().getPlaybackRate()};_.r.setPlaybackRate=function(a){if(0<a){var b=new cast.framework.messages.SetPlaybackRateRequestData;b.playbackRate=a;uD().sendLocalMediaRequest(b)}};
_.r.getVolume=function(){return cast.framework.CastReceiverContext.getInstance().getSystemVolume().level||null};_.r.setVolume=function(a){0<=a&&1>=a&&cast.framework.CastReceiverContext.getInstance().setSystemVolumeLevel(a)};_.r.setMuted=function(a){cast.framework.CastReceiverContext.getInstance().setSystemVolumeMuted(a)};_.r.isMuted=function(){return cast.framework.CastReceiverContext.getInstance().getSystemVolume().muted||null};
_.r.getLoadedSource=function(){var a=uD().getMediaInformation();if(a){var b=uD().getPlaybackConfig();return{url:a.contentId,type:a.contentType,gc:!!b&&b.protectionSystem!==cast.framework.ContentProtection.NONE}}return null};_.r.getDrmInfo=function(){return null};_.r.getPresentationStartTime=function(){var a=uD().getMediaInformation();return a?a.startAbsoluteTime||0:0};
_.r.getSeekRange=function(){var a={start:0,end:this.getDuration()};if(this.isLive()){var b=uD().getLiveSeekableRange();b&&typeof b.start===_.Zc&&typeof b.end===_.Zc&&(a={start:b.start,end:b.end})}return a};_.r.getState=function(){return this.a?this.a.getState():_.zn};
_.r.getStats=function(){var a=_.Vk();if(this.b){a=uD().getStats();this.b.h=a.estimatedBandwidth||NaN;this.b.l=a.streamBandwidth||NaN;var b=this.b,c=a.height||NaN;b.c=a.width||NaN;b.b=c;b=this.b;c=typeof a.decodedFrames===_.Zc?a.decodedFrames:NaN;b.g=typeof a.droppedFrames===_.Zc?a.droppedFrames:NaN;b.f=c;a=this.b.getStats()}return a};_.r.isLive=function(){return-1===this.getDuration()};
_.r.load=function(a){var b=this,c,d;return _.A(function(e){b.b=new _.Uk;b.a.g=b.b.a;b.i=_.yl(a);_.Mj(a)&&(b.c=_.Lj(b.g,a));if(b.l)return b.l=!1,e["return"]();c=b.i[b.h];d=new cast.framework.messages.LoadRequestData;d.autoplay=b.c.autoplay;typeof b.c.startTime===_.Zc&&(d.currentTime=b.c.startTime);c.type&&(d.media.contentType=c.type);d.media.contentId=c.url;d.media.customData={playerConfiguration:PC(b.c),local:!0};return _.x(e,uD().load(d),0)})};_.r.getBufferInfo=function(){this.m.warn(_.ja);return new _.Vi};
_.r.getTrackManager=function(){return this.f};_.r.getConfiguration=function(){return this.c};_.r.getSurface=function(){return this.j};_.r.setNetworkEngine=function(a){this.o=a};_.r.getNetworkEngine=function(){return this.o};_.r.getSourceIndex=function(){return this.h};_.r.setSourceIndex=function(a){this.h=a};_.r.getThumbnailStreams=function(){return[]};_.r.namespace=function(){return KC};_.r.getTimelineCues=function(){return[]};_.r.resetAbr=function(){this.m.warn(GC)};_.r.onError=function(){};
_.r.canPlay=function(){return _.Dh("CrKey")};_.r.Si=function(a){a.customData||(a.customData={});a.customData.stats=PC(this.getStats());return a};_.r.fg=function(a,b){var c=null;a.media.customData&&(c=QC(a.media.customData.playerConfiguration));var d=c?c.abr:null;d&&typeof d.defaultBandwidthEstimate===_.Zc?b.initialBandwidth=d.defaultBandwidthEstimate:b.initialBandwidth=void 0;xD(c,b);return b};_.r.getTextDisplayer=function(){return null};tD.prototype.getTextDisplayer=tD.prototype.getTextDisplayer;
tD.prototype.getNetworkEngine=tD.prototype.getNetworkEngine;tD.prototype.setNetworkEngine=tD.prototype.setNetworkEngine;_.r=Z.prototype;_.r.Ta=function(){return"Google Cast Framework"};_.r.Ua=function(){return cast.framework.VERSION};_.r.$a=function(){return 0};_.r.Va=function(){return this.a.contentId||""};_.r.getCreativeId=function(){return""};_.r.getApiFramework=function(){return null};_.r.getAdSystem=function(){return""};_.r.getAdvertiserName=function(){return""};_.r.getTitle=function(){return this.a.title||""};_.r.getDuration=function(){return this.a.duration||0};
_.r.getSkipTimeOffset=function(){return this.a.whenSkippable||0};_.r.Lb=function(){return!1};_.r.nb=function(){return this.a.clickThroughUrl||null};_.r.getMediaUrl=function(){return this.a.contentUrl||null};_.r.Xa=function(){return 0};_.r.Wa=function(){return 0};_.r.Ja=function(){return 0};_.r.Aa=function(){switch(this.ob()){case 0:return 0;case -1:return 2;default:return 1}};_.r.getPodIndex=function(){return this.c};_.r.ob=function(){return this.b.position};_.r.pb=function(){return this.f};
_.r.Za=function(){return this.g};_.r.getWrapperAdIds=function(){return[]};_.r.getWrapperAdSystems=function(){return[]};_.r.getWrapperCreativeIds=function(){return[]};Z.prototype.getWrapperCreativeIds=Z.prototype.getWrapperCreativeIds;Z.prototype.getWrapperAdSystems=Z.prototype.getWrapperAdSystems;Z.prototype.getWrapperAdIds=Z.prototype.getWrapperAdIds;Z.prototype.getSequenceLength=Z.prototype.Za;Z.prototype.getPositionInSequence=Z.prototype.pb;Z.prototype.getPodTimeOffset=Z.prototype.ob;
Z.prototype.getPodIndex=Z.prototype.getPodIndex;Z.prototype.getPodType=Z.prototype.Aa;Z.prototype.getMediaBitrate=Z.prototype.Ja;Z.prototype.getMediaHeight=Z.prototype.Wa;Z.prototype.getMediaWidth=Z.prototype.Xa;Z.prototype.getMediaUrl=Z.prototype.getMediaUrl;Z.prototype.getClickThroughUrl=Z.prototype.nb;Z.prototype.isBumper=Z.prototype.Lb;Z.prototype.getSkipTimeOffset=Z.prototype.getSkipTimeOffset;Z.prototype.getDuration=Z.prototype.getDuration;Z.prototype.getTitle=Z.prototype.getTitle;
Z.prototype.getAdvertiserName=Z.prototype.getAdvertiserName;Z.prototype.getAdSystem=Z.prototype.getAdSystem;Z.prototype.getApiFramework=Z.prototype.getApiFramework;Z.prototype.getCreativeId=Z.prototype.getCreativeId;Z.prototype.getId=Z.prototype.Va;Z.prototype.getTechnology=Z.prototype.$a;Z.prototype.getAdManagerVersion=Z.prototype.Ua;Z.prototype.getAdManagerName=Z.prototype.Ta;yD.prototype.getCuePoints=function(){return this.a.map(function(a){return a.position})};yD.prototype.qb=function(){return!!this.a.find(function(a){return 0===a.position})};yD.prototype.ab=function(){return!!this.a.find(function(a){return-1===a.position})};yD.prototype.hasPostroll=yD.prototype.ab;yD.prototype.hasPreroll=yD.prototype.qb;yD.prototype.getCuePoints=yD.prototype.getCuePoints;_.r=AD.prototype;_.r.load=function(){return _.A(function(a){_.y(a)})};_.r.start=function(){return _.A(function(a){zD().play();_.y(a)})};_.r.resume=function(){-1!==this.getPosition()&&zD().play()};_.r.pause=function(){-1!==this.getPosition()&&zD().pause()};_.r.skip=function(){};_.r.getVolume=function(){return this.b.getVolume()||0};_.r.setVolume=function(a){this.b.setVolume(a)};_.r.getPosition=function(){var a=this.a&&this.a.getBreakClipCurrentTimeSec();return typeof a===_.Zc?a:-1};
_.r.dispose=function(){zD().removeEventListener(this.c,this.f)};
_.r.Bg=function(a){var b=cast.framework.events.EndedReason;switch(a.type){case cast.framework.events.EventType.PLAYER_LOADING:this.a=zD().getBreakManager();a=this.a.getBreaks();this.b.trigger(new _.O(_.yb,{adsTimeline:new yD(a)}));break;case cast.framework.events.EventType.BREAK_STARTED:ED(this,_.db,a);break;case cast.framework.events.EventType.BREAK_ENDED:ED(this,_.eb,a);break;case cast.framework.events.EventType.BREAK_CLIP_STARTED:ED(this,_.tb,a);break;case cast.framework.events.EventType.BREAK_CLIP_ENDED:a.endedReason===
b.SKIPPED?ED(this,_.sb,a):a.endedReason===b.STOPPED?ED(this,_.ub,a):a.endedReason===b.END_OF_STREAM&&ED(this,_.ib,a);break;case cast.framework.events.EventType.PLAYING:ED(this,_.qb,a);break;case cast.framework.events.EventType.PAUSE:ED(this,_.ob,a);break;case cast.framework.events.EventType.BUFFERING:a.isBuffering&&ED(this,_.fb,a)}};AD.prototype.getPosition=AD.prototype.getPosition;AD.prototype.setVolume=AD.prototype.setVolume;AD.prototype.getVolume=AD.prototype.getVolume;AD.prototype.skip=AD.prototype.skip;
AD.prototype.pause=AD.prototype.pause;AD.prototype.resume=AD.prototype.resume;_.r=FD.prototype;_.r.init=function(a){a&&(this.c=new tD,_.qn(a,this.c),this.a=a)};
_.r.start=function(){if(!this.b&&window.cast&&cast.framework&&cast.framework.CastReceiverContext){this.b=!0;var a=cast.framework.CastReceiverContext.getInstance(),b=a.getPlayerManager(),c=new cast.framework.CastReceiverOptions;c.customNamespaces={};c.customNamespaces[MC]=cast.framework.system.MessageType.JSON;var d=new cast.framework.PlaybackConfig;d.manifestHandler=this.mi.bind(this);c.playbackConfig=d;if(d=this.a&&this.a.getSurface().H())c.mediaElement=d;b.setMessageInterceptor(cast.framework.messages.MessageType.LOAD,
this.li.bind(this));b.addEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.i);a.start(c);a.addCustomMessageListener(MC,this.h)}};_.r.stop=function(){if(this.b){this.b=!1;var a=cast.framework.CastReceiverContext.getInstance();a.getPlayerManager().removeEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.i);a.removeCustomMessageListener(MC,this.h);a.stop();this.a=this.c=null}};
_.r.on=function(a,b){cast.framework.CastReceiverContext.getInstance().addEventListener(a,b)};_.r.off=function(a,b){cast.framework.CastReceiverContext.getInstance().removeEventListener(a,b)};_.r.addMessageListener=function(a){typeof a===_.Dc&&this.f.add(a)};_.r.removeMessageListener=function(a){typeof a===_.Dc&&this.f["delete"](a)};_.r.sendMessage=function(a,b){cast.framework.CastReceiverContext.getInstance().sendCustomMessage(MC,b,PC(a))};_.r.Jb=function(){return this.b};
_.r.mi=function(a){a=a.trim();if(a.startsWith("#EXTM3U"))return JD(this,a);try{var b=(new DOMParser).parseFromString(a,_.Ld)}catch(t){return a}var c=b.getElementsByTagName("MPD")[0];if(c){a=c;this.g.debug("Detected DASH, parsing");b=cast.framework.CastReceiverContext.getInstance();c=a.getElementsByTagName("Period");for(var d=c.length-1;0<=d;--d){for(var e=c[d].getElementsByTagName(_.fa),f=e.length-1;0<=f;--f){var g=e[f].getAttribute("contentType");if(g===_.Xd||g===_.Nb){g=e[f].getAttribute(_.Vc);
for(var h=e[f].getElementsByTagName(_.Oa),l=h.length-1;0<=l;--l){var m=h[l].getAttribute(_.Vc)||g,n=h[l].getAttribute(_.ic),p=h[l].getAttribute(_.je)||void 0,q=h[l].getAttribute(_.Ec)||void 0;void 0!==p&&(p=+p);void 0!==q&&(q=+q);b.canDisplayType(m,n,p,q)||e[f].removeChild(h[l])}e[f].getElementsByTagName(_.Oa).length||c[d].removeChild(e[f])}}c[d].getElementsByTagName(_.fa).length||a.removeChild(c[d])}return(new XMLSerializer).serializeToString(a)}if(c=b.getElementsByTagName(_.Ta)[0]){a=c;this.g.debug("Detected Smooth, parsing");
b=cast.framework.CastReceiverContext.getInstance();c=a.getElementsByTagName("StreamIndex");for(d=c.length-1;0<=d;--d)if(c[d].getAttribute("Type")===_.Xd){e=c[d].getElementsByTagName(_.Ma);for(f=e.length-1;0<=f;--f)g=e[f].getAttribute(_.Aa)||void 0,h=e[f].getAttribute(_.za)||void 0,void 0!==g&&(g=+g),void 0!==h&&(h=+h),b.canDisplayType(_.Zd,void 0,g,h)||c[d].removeChild(e[f]);c[d].getElementsByTagName(_.Ma).length||a.removeChild(c[d])}a=(new XMLSerializer).serializeToString(a)}return a};
_.r.li=function(a){var b=this,c,d;return _.A(function(e){switch(e.a){case 1:a.media.customData&&(c=QC(a.media.customData.playerConfiguration));if(!b.a||!c){e.C(2);break}if(!c.ima){e.C(3);break}return _.x(e,CD(a.media,c.ima,b.a.getNetworkEngine()),3);case 3:if(a.media.customData.local){e.C(2);break}b.c.l=!0;typeof a.autoplay===_.Ub&&(c.autoplay=a.autoplay,a.autoplay=!1);return _.x(e,_.un(b.a,c),6);case 6:return _.x(e,_.vn(b.a),7);case 7:d=b.a.getLoadedSource(),a.media.contentId=d.url,a.media.contentType=
d.type;case 2:return e["return"](a)}})};_.r.Pi=function(a){!this.a||a.media.customData&&a.media.customData.local||_.wn(this.a)};_.r.ug=function(a){if(0<this.f.size){var b=QC(a.data);this.f.forEach(function(c){return c(b)})}};_.B(LC,FD);FD.prototype.isApiReady=FD.prototype.Jb;FD.prototype.sendMessage=FD.prototype.sendMessage;FD.prototype.removeMessageListener=FD.prototype.removeMessageListener;FD.prototype.addMessageListener=FD.prototype.addMessageListener;FD.prototype.off=FD.prototype.off;
FD.prototype.on=FD.prototype.on;FD.prototype.stop=FD.prototype.stop;FD.prototype.start=FD.prototype.start;FD.prototype.init=FD.prototype.init;FD.getInstance=HD;var GD=null;_.r=KD.prototype;_.r.load=function(){var a=this,b,c,d,e,f;return _.A(function(g){a.a=a.b.h;if(a.a)for(b=a.a.controller,c=a.gj.bind(a),d=_.u(a.f),e=d.next();!e.done;e=d.next())f=e.value,a.c.on(b,f,c);_.y(g)})};_.r.start=function(){return _.A(function(a){_.y(a)})};_.r.resume=function(){this.a&&this.a.isPlayingBreak&&this.a.isPaused&&this.a.controller.playOrPause()};_.r.pause=function(){this.a&&this.a.isPlayingBreak&&!this.a.isPaused&&this.a.controller.playOrPause()};
_.r.skip=function(){var a=this.b.a;a&&this.b.sendMessage(NC,{type:"SKIP_AD",requestId:Math.round(1E3*Math.random()),mediaSessionId:a.mediaSessionId})};_.r.getVolume=function(){return this.b.getVolume()||0};_.r.setVolume=function(a){this.b.setVolume(a)};_.r.getPosition=function(){var a=-1,b=this.b.a;b&&(b=b.getEstimatedBreakClipTime(),typeof b===_.Zc&&(a=b));return a};_.r.dispose=function(){this.c.release()};
_.r.gj=function(a){switch(a.field){case "mediaInfo":a.value&&(a=a.value,a.breaks&&this.b.trigger(new _.O(_.yb,{adsTimeline:new yD(a.breaks)})));break;case "isPlayingBreak":a.value?MD(this,_.db):(MD(this,_.ib),MD(this,_.eb));break;case "currentBreakClipNumber":0<=a.value&&(0<a.value&&MD(this,_.ib),MD(this,_.tb));break;case "isPaused":this.a.isPlayingBreak&&(a.value?MD(this,_.ob):MD(this,_.qb))}};KD.prototype.getPosition=KD.prototype.getPosition;KD.prototype.setVolume=KD.prototype.setVolume;
KD.prototype.getVolume=KD.prototype.getVolume;KD.prototype.skip=KD.prototype.skip;KD.prototype.pause=KD.prototype.pause;KD.prototype.resume=KD.prototype.resume;ND.prototype.name=function(){return"clpp.cast.ads.SenderAdsManagerFactory"};ND.prototype.O=function(a,b){return a.namespace()!==_.dc?!1:!(!b||!b.ima)};ND.prototype.create=function(a){return new KD(a.a)};ND.prototype.create=ND.prototype.create;ND.prototype.isSupported=ND.prototype.O;ND.prototype.name=ND.prototype.name;_.bo(new ND);OD.prototype.name=function(){return"clpp.cast.ads.AdsManagerFactory"};OD.prototype.O=function(a,b){return HD().Jb()?!(!b||!b.ima):!1};OD.prototype.create=function(a){return new AD(a)};OD.prototype.create=OD.prototype.create;OD.prototype.isSupported=OD.prototype.O;OD.prototype.name=OD.prototype.name;_.bo(new OD);};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.min.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core.min"], function(c){_=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();
