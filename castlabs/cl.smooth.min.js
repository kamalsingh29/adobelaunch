(function(){var g={}; var _ = _ || {};
var f=function(window){var xp="Full MP4 box must have flags defined",yp="clpp.smooth.SmoothMP4Processor",zp="codecPrivateData",Ap=function(a,b){var c=Math.floor(b/Math.pow(2,32)),d=b-c*Math.pow(2,32);_.N(a,c);_.N(a,d)},Bp=function(a,b){try{a.b.setUint8(a.a,b),a.a+=1}catch(c){_.Yg()}},Cp=function(a,b){Bp(a,b>>16&255);Bp(a,b>>8&255);Bp(a,b&255)},Dp=function(a,b){try{a.b.setUint16(a.a,b,a.c),a.a+=2}catch(c){_.Yg()}},Ep=function(a,b){try{a.b.setInt32(a.a,b,a.c),a.a+=4}catch(c){_.Yg()}},Fp=function(a,b){try{a.b.setInt16(a.a,
b,a.c),a.a+=2}catch(c){_.Yg()}},Gp=function(a,b){if(void 0!=b){for(var c=new Uint8Array(b),d=Math.min(a.length,b),e=0;e<d;++e)c[e]=a.charCodeAt(e);for(;e<b;e++)c[e]=0;return c}c=new Uint8Array(a.length);for(d=0;d<a.length;++d)c[d]=a.charCodeAt(d);return c},Hp=function(a,b,c){return{keySystem:a,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[b],keyIds:c,periodId:null}},Ip=function(a,b){var c=a.exec(b);
return null==c||""==c[0]?null:(Number(c[4])||0)/1E3+(Number(c[3])||0)+60*(Number(c[2])||0)+3600*(Number(c[1])||0)},Pp=function(a,b,c){var d=null;if(Jp.test(a)){a=Jp.exec(a);d=Number(a[1]);var e=Number(a[2]),f=Number(a[3]),g=Number(a[4]);g+=(Number(a[5])||0)/c.b;f+=g/c.frameRate;d=f+60*e+3600*d}else Kp.test(a)?d=Ip(Kp,a):Lp.test(a)?d=Ip(Lp,a):Mp.test(a)?(a=Mp.exec(a),d=Number(a[1])/c.frameRate):Np.test(a)?(a=Np.exec(a),d=Number(a[1])/c.a):Op.test(a)&&(d=Ip(Op,a));d+=b;b=Math.floor(d/3600);c=Math.floor((d-
3600*b)/60);a=Math.floor(d-3600*b-60*c);d-=a;10>b&&(b="0"+b);10>c&&(c="0"+c);10>a&&(a="0"+a);0===d?d="000":d=Math.round(1E3*d);return b+":"+c+":"+a+"."+d},Qp=function(a,b,c,d){this.frameRate=Number(a)||30;this.b=Number(b)||1;this.a=Number(d);0==this.a&&(this.a=a?this.frameRate*this.b:1);c&&(a=/^(\d+) (\d+)$/g.exec(c))&&(this.frameRate*=parseInt(a[1],10)/parseInt(a[2],10))},V=function(a){this.type=a;this.size=this.start=0;this.parent=null;this.j=!1;this.entries=[];this.b=[]},W=function(a,b,c){V.call(this,
a);this.version=b;this.flags=c},Rp=function(a,b,c){V.call(this,a);this.c=b;this.offset=c},Sp=function(a,b,c,d,e){W.call(this,a,b,c);this.c=d;this.offset=e},Tp=function(a,b,c){V.call(this,"ftyp");this.f=a;this.uf=b;this.c=c},Up=function(){V.call(this,"moov")},Vp=function(){V.call(this,"trak")},Wp=function(a,b,c){W.call(this,"mvhd",1,0);this.timescale=a;this.duration=b;this.volume=256;this.f=c+1;this.c=[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]},Xp=function(){V.call(this,
"mvex")},Yp=function(a){W.call(this,"trex",0,0);this.c=a},Zp=function(a,b,c,d,e){W.call(this,"tkhd",1,7);this.f=a;this.duration=b;this.timescale=c;this.width=d;this.height=e;this.volume=1;this.c=[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]},$p=function(a,b){W.call(this,"mdhd",1,0);this.timescale=a;this.duration=b;this.language=21956},aq=function(a){W.call(this,"hdlr",0,0);this.c=a},bq=function(){W.call(this,"vmhd",0,1);this.c=new Uint8Array([0,0,0,0,0,0])},cq=function(a){V.call(this,
a);this.j=!0},dq=function(a){cq.call(this,a);this.height=this.width=0},eq=function(a,b,c,d){cq.call(this,a);this.channelCount=b;this.sampleSize=c;this.sampleRate=d},fq=function(a,b){dq.call(this,"avc1");this.width=a;this.height=b},gq=function(a,b){fq.call(this,a,b);this.type="encv"},hq=function(a,b,c){eq.call(this,"mp4a",a,b,c)},iq=function(a,b,c){hq.call(this,a,b,c);this.type="enca"},jq=function(a,b){V.call(this,"avcC");this.pa=a;this.wb=b;this.version=1;this.c=this.pa[0][1];this.f=this.pa[0][2];
this.level=this.pa[0][3]},kq=function(a){W.call(this,"esds",0,0);this.kb=a},lq=function(a){a=void 0===a?"":a;W.call(this,"url ",0,1);this.location=a},mq=function(){W.call(this,"dref",0,0)},nq=function(){V.call(this,"stbl")},oq=function(){W.call(this,"stsd",0,0)},pq=function(){W.call(this,"stts",0,0)},qq=function(){W.call(this,"stsc",0,0)},rq=function(){W.call(this,"stco",0,0)},sq=function(){W.call(this,"stsz",0,0)},tq=function(){W.call(this,"smhd",0,0)},uq=function(){V.call(this,"dinf")},vq=function(){V.call(this,
"minf")},wq=function(){V.call(this,"mdia")},xq=function(a,b){W.call(this,"tfdt",a,0);this.c=b},yq=function(){W.call(this,"mfhd",0,0);this.c=0},zq=function(a,b){W.call(this,"trun",a,b);this.h=this.g=this.c=0;this.i=[];this.sampleSize=[];this.l=[];this.f=[]},Aq=function(a,b){W.call(this,"tfhd",a,b);this.c=255;this.h=this.i=this.g=this.l=this.f=0},Bq=function(){V.call(this,"traf")},Cq=function(){V.call(this,"moof")},Dq=function(){V.call(this,_.Sc);this.c=new Uint8Array(0)},Eq=function(){W.call(this,
"tenc",0,0);this.c=1;this.f=8;this.h="";this.g=[]},Fq=function(a,b){W.call(this,"schm",0,0);this.c=a;this.f=b;this.xb=""},Gq=function(a){V.call(this,"frma");this.c=a},Hq=function(){W.call(this,"saio",0,0);this.offset=[0]},Iq=function(a,b,c){W.call(this,"saiz",0,0);this.c=a;this.g=b;this.f=c},Jq=function(a,b){W.call(this,"senc",a,b);this.f=0;this.g=8;this.c=[]},Lq=function(a){this.a=a;this.b=Kq(this)},Kq=function(a){for(var b=0,c=0;c<a.a.length;c++)b+=a.a[c].a();return new _.Xg(b)},Mq=function(a){var b=
_.Zh();a="ie"===b.browser||"edge"===b.browser?a.Qd(_.lc):a.Qd(_.mc);null===a&&(_.G(yp,"Could not get PSSH box!"),a={initData:new Uint8Array(0),initDataType:_.ac,keyId:"",periodId:null});return a},Nq=function(a,b,c){var d=Mq(c);c=new V("xxxx");a.type===_.Xd?c=new gq(a.width,a.height):c=new iq(a.channelCount,a.sampleSize,a.Ic);a=new Eq;a.c=1;a.f=8;a.h=d.keyId||"00000000000000000000000000000000";a=(new V("schi")).append([a]);b=(new V("sinf")).append([new Gq(b),new Fq(_.ac,65536),a]);c.append([b]);return c},
Oq=function(a,b){var c=b.gd(),d=new Wp(a.timescale,a.duration,a.id),e=(new Xp).append([new Yp(a.id)]),f=new Zp(a.id,a.duration,a.timescale,a.width,a.height),g=new $p(a.timescale,a.duration),h=new aq(a.type),l=null,m=new mq;m.entries=[new lq];var n=new oq;switch(a.type){case _.Xd:var p=new jq(a.pa,a.wb);c?(l=Nq(a,"avc1",b),l.append([p]),n.entries=[l]):(l=(new fq(a.width,a.height)).append([p]),n.entries=[l]);l=new bq;break;case _.Nb:p=new kq(a.kb),c?(l=Nq(a,"mp4a",b),l.append([p]),n.entries=[l]):(l=
(new hq(a.channelCount,a.sampleSize,a.Ic)).append([p]),n.entries=[l]),l=new tq}n=(new nq).append([n,new pq,new qq,new sq,new rq]);m=(new uq).append([m]);m=(new vq).append([l,m,n]);g=(new wq).append([g,h,m]);f=(new Vp).append([f,g]);d=(new Up).append([d,f,e]);e=new Tp("dash",0,["iso6","mp41","avc1"]);c&&(c=Mq(b).initData,d.append([new Rp("pssh",c,8)]));c=new Lq([e,d]);return _.ef(c.write())},Qq=function(a,b){var c,d,e,f,g,h;(new _.jh).J("moof",_.kh).X("mfhd",function(m){var n=new yq;n.c=_.eh(m.v);
c=n}).J("traf",_.kh).X("tfhd",function(m){var n=m.v.ia();if(null===m.flags)throw new _.J(_.K,3,3019,xp);var p=new Aq(m.version||0,m.flags||0);p.c=_.eh(m.v);0<n-m.v.getPosition()&&m.flags&1&&(p.f=_.gh(m.v));0<n-m.v.getPosition()&&m.flags&2&&(p.l=_.eh(m.v));0<n-m.v.getPosition()&&m.flags&8&&(p.g=_.eh(m.v));0<n-m.v.getPosition()&&m.flags&16&&(p.i=_.eh(m.v));0<n-m.v.getPosition()&&m.flags&32&&(p.h=_.eh(m.v));d=p}).X("trun",function(m){var n=m.v.ia();if(null===m.flags)throw new _.J(_.K,3,3019,xp);var p=
new zq(m.version||0,m.flags||0);p.c=_.eh(m.v);0<n-m.v.getPosition()&&m.flags&1&&(p.g=_.fh(m.v));0<n-m.v.getPosition()&&m.flags&4&&(p.h=_.eh(m.v));if(0<n-m.v.getPosition())for(n=0;n<p.c;n++)m.flags&256&&p.i.push(_.eh(m.v)),m.flags&512&&p.sampleSize.push(_.eh(m.v)),m.flags&1024&&p.l.push(_.eh(m.v)),m.flags&2048&&(0===m.version?p.f.push(_.eh(m.v)):p.f.push(_.fh(m.v)));e=p}).X("sdtp",function(m){var n=_.hh(m.v,m.v.ia());f=new Sp("sdtp",m.version||0,m.flags||0,n,0)}).J("uuid",function(m){if(_.hh(m.v,16).toString()===
Pq.toString()){var n=_.eh(m.v);m.version=n>>>24;m.flags=n&16777215;n=new Jq(m.version,m.flags);n.f=_.eh(m.v);m.flags&1&&(n.g=_.ch(m.v));for(var p=0;p<n.f;p++){var q={lf:_.hh(m.v,8),oc:0,pe:[]};if(m.flags&2){q.oc=_.dh(m.v);for(var t=0;t<q.oc;t++){var v={Be:0,Ce:0};v.Be=_.dh(m.v);v.Ce=_.eh(m.v);q.pe.push(v)}}n.c.push(q)}g=n}}).J(_.Sc,function(m){var n=new Dq;0<m.v.ia()?n.c=_.hh(m.v,m.v.ia()):(_.G(yp,"mdat box is empty!"),n.c=new Uint8Array(0));h=n}).parse(a,!1);if(!l&&!h)return null;var l=(new Bq).append([d,
e]);f&&l.append([f]);b.gd()&&g&&l.append([g]);l=(new Cq).append([c,l]);return new Lq([l,h])},Rq=function(a,b,c){var d=c.gd(),e=a.request.startTime,f=parseInt(e*b,10);b=a.data||new ArrayBuffer(0);var g=Qq(b,c);if(null===g)return a.request.contentType===_.k?a.data:g;c=g.get(_.Sc);if(a.request.contentType===_.k){d=c.c.buffer;if(e){c=_.lf(d);a=new DOMParser;d=null;try{d=a.parseFromString(c,_.Ld)}catch(E){throw E;}if(d&&"tt"===d.documentElement.tagName.toLowerCase())var h=d.documentElement;if(h)for(c=
new Qp(h.getAttribute("ttp:frameRate"),h.getAttribute("ttp:subFrameRate"),h.getAttribute("ttp:frameRateMultiplier"),h.getAttribute("ttp:tickRate")),h=h.getElementsByTagName("body")[0].getElementsByTagName("p"),a=0,b=h.length;a<b;a++){f=h[a];g=c;for(var l=["begin",_.yc],m=0,n=l.length;m<n;m++){b:{var p=f;var q=l[m];var t=new RegExp("\\w+:"+q),v=0;if(p.hasAttribute(q))p=p.getAttribute(q);else{var z=p.attributes;for(q=z.length;v<q;v++){var F=z[v].name;if(F=F.match(t)){p=p.getAttribute(F[0]);break b}}p=
null}}f.setAttribute(l[m],Pp(p||"",e,g))}}c=(new XMLSerializer).serializeToString(d);e=_.qf(c).buffer}else e=d;return e}h=new Cq;a=g.get("mfhd");b=new Bq;l=g.get("tfhd");m=new xq(1,f);f=g.get("trun");n=g.get("sdtp");e=g.get("senc");l.c=1;l.flags&=16777214;l.flags|=131072;b.append([l,m,f]);n&&b.append([n]);if(d){g=0;l=[];if(e.flags&2)for(l=[],m=0;m<e.f;m++)l.push(10+6*e.c[m].oc);else g=8;b.append([e,new Hq,new Iq(g,l,e.f)])}h.append([a,b]);f.flags|=1;f.g=h.a()+8;c=new Lq([h,c]);h=c.write();d&&(d=c.get("saio"),
c=c.b,d.offset[0]=e.start+16,c.seek(d.start),d.write(c),h=c.buffer);return h},Sq=function(a){var b=a.split("/");return b[b.length-1].toLowerCase().match("manifest(\\(.+\\))?")?a:a+"/Manifest"},Tq=function(a,b,c,d){c=b.ef[c];b=b.Ej;a=a.replace("Manifest","");b=b.replace("{bitrate}",String(d.bitrate)).replace("{Bitrate}",String(d.bitrate)).replace("{start time}",String(c.t)).replace("{start_time}",String(c.t));return _.Mk([a],[b])[0]},Uq=function(a,b,c){var d=c.Yc.split("00000001");a={id:1,type:c.type,
duration:a/b,timescale:b,pa:null,wb:null,width:NaN,height:NaN,kb:null,Ic:NaN,sampleSize:NaN,channelCount:NaN};switch(c.type){case _.Xd:a.pa=[_.Xj(d[1])];a.wb=[_.Xj(d[2])];a.width=c.maxWidth;a.height=c.maxHeight;break;case _.Nb:a.kb=_.Xj(c.Yc),a.sampleSize=c.kg||16,a.Ic=c.Ic,a.channelCount=c.De}return a},Vq=function(a,b){return a.filter(function(c){return c.type===b})},Xq=function(){this.g=this.h=this.f=this.a=null;this.D=1;this.K=0;this.j="";this.m=this.b=null;this.c=new _.H("clpp.smooth.SmoothParser");
this.w=!1;this.i=this.o=null;this.G=Wq;this.u=0;this.A=Infinity;this.l=[];this.B=this.tj.bind(this)},Yq=function(a){var b=_.Gi(a.j);b.timeout=a.f.attemptParameters.timeout;b.maxAttempts=a.f.attemptParameters.maxAttempts;b.baseDelay=a.f.attemptParameters.baseDelay;b.backoffFactor=a.f.attemptParameters.backoffFactor;b.fuzzFactor=a.f.attemptParameters.fuzzFactor;b.type=1;return a.a.networkingEngine.fetch(b).promise},fr=function(a,b){var c=null;try{var d=new DOMParser;try{var e=_.lf(b);var f=d.parseFromString(e.trim(),
_.Ld)}catch(t){throw t;}if(f&&f.documentElement.tagName==_.Ta)var g=f.documentElement;c=g&&0<g.getElementsByTagName(_.fd).length?null:g}catch(t){}if(!c)throw a.c.error("Unable to parse manifest"),new _.J(_.K,4,4033,a.j);d=+Zq(a,c,"MajorVersion");g=+Zq(a,c,"MinorVersion");f=+c.getAttribute("TimeScale")||1E7;e=+Zq(a,c,"Duration");var h="TRUE"===c.getAttribute("IsLive"),l=+c.getAttribute("LookAheadCount"),m=+c.getAttribute("DVRWindowLength")||Infinity,n=_.M.M(c,"Protection")[0];if(!1===/^[2].[0-2]$/.test(""+
d+"."+g))throw a.c.error("Smooth Streaming version must be 2.0, 2.1 or 2.2"),new _.J(_.K,4,4036,a.j);h?($q(a,ar),a.o=typeof a.f.liveRefreshPeriod===_.Zc?1E3*a.f.liveRefreshPeriod:Math.min(1E3*a.u,1E4),e=Infinity):$q(a,Wq);a.b={startTime:0,delay:0,duration:e/f,Kd:m/f,Dc:0};if(n){var p=[];n=_.M.M(n,"ProtectionHeader")[0];n=_.Wj(_.M.Fb(n)||"");var q=_.sm(n).a;p.push(Hp(_.mc,{initData:_.lm(_.om(q)),initDataType:_.ac,keyId:q,periodId:null},[q]));p.push(Hp(_.lc,{initData:_.lm(_.sm(n)),initDataType:_.ac,
keyId:q,periodId:null},[q]));a.l=p}p=[];c=_.M.M(c,"StreamIndex");if(!c.length)throw a.c.error("No streams found!"),new _.J(_.K,4,4034,a.j);for(n=0;n<c.length;n++)q=br(a,c[n]),p.push(q);c={Zj:d,uf:g,timescale:f,duration:e,isLive:h,Yj:l,Kd:m,Ud:!1,streams:p};if(a.h&&a.g){for(d=0;d<a.g.streams.length;d++)for(g=0;g<a.g.streams[d].tracks.length;g++)f=a.g.streams[d].tracks[g],e=c.streams[d].tracks[g],f.type!==e.type?f=!1:(h=[],f.type===_.Xd?h=["maxWidth","maxHeight","bitrate",zp,"fourCC"]:f.type===_.Nb&&
(h=["bitrate",zp,"channels","bitsPerSample","samplingRate","fourCC"]),f=_.C.ya(f,e,h,["id","segmentIndex"])),f||a.c.warn("The current stream is updated with a stream that seems to have different base properties!"),f=c.streams[d],e=cr(a,a.g.timescale,f,f.tracks[g]),f=a.g.streams[d].tracks[g].yb,f.eb(e),(e=a.b.Kd)&&_.Vn(f,(f.a.length?f.a[f.a.length-1].endTime:0)-e);return Promise.resolve()}e=c.timescale;h=c.duration;g=Vq(c.streams,_.Nb);f=Vq(c.streams,_.Xd);l=Vq(c.streams,_.k);d=[];g=dr(a,h,e,g);f=
dr(a,h,e,f);e=dr(a,h,e,l);g.length||(g=[null]);f.length||(f=[null]);for(h=0;h<f.length;h++)for(l=0;l<g.length;l++)d.push(er(a,f[h],g[l]));d={startTime:0,variants:d,textStreams:e,thumbStreams:[]};g=a.b.startTime;f=a.b.delay;e=Math.min(a.b.duration||Infinity,a.A);h=a.xc();l=a.b.Kd;m=a.b.Dc;p=a.u;h&&(e=Infinity,g=Date.now()/1E3-m,a.b.startTime=g,f=3*p);a.m=new _.On(g,f,!0);a.m.b=!h;a.m.Ab(e);_.Rn(a.m,p);a.m.Sb=l;a.a.filterAllPeriods([d]);a.h={presentationTimeline:a.m,periods:[d],offlineSessionIds:[],
minBufferTime:0};Promise.resolve();a.w||(a.a.networkingEngine.zd(a.B),a.w=!0);a.g=c;return Promise.resolve()},br=function(a,b){var c=Zq(a,b,"Type"),d=+b.getAttribute("Chunks"),e=b.getAttribute("Subtype"),f=_.dn(b.getAttribute("Language")||_.Od),g=b.getAttribute("Name")||"",h=+b.getAttribute(_.Aa),l=+b.getAttribute(_.za),m=Zq(a,b,"Url"),n=+b.getAttribute("TimeScale")||null,p=gr(a,b,c),q=hr(a,b,d);p.sort(function(t,v){return t.bitrate-v.bitrate});return{type:c,Rj:d,Aj:e,language:f,name:g,maxWidth:h,
maxHeight:l,Ej:m,tracks:p,ef:q,timescale:n}},gr=function(a,b,c){var d=[];b=_.M.M(b,_.Ma);for(var e=0;e<b.length;e++){var f=a;var g=b[e],h=c,l=+g.getAttribute("Index"),m=+Zq(f,g,"Bitrate"),n=NaN,p=NaN,q=NaN,t=NaN,v=NaN,z=NaN,F=NaN,E=g.getAttribute("FourCC");switch(h){case _.Xd:n=+Zq(f,g,_.za);p=+Zq(f,g,_.Aa);break;case _.Nb:t=+g.getAttribute("Channels")||2,q=+Zq(f,g,"SamplingRate"),z=+Zq(f,g,"AudioTag"),v=+Zq(f,g,"BitsPerSample"),F=+Zq(f,g,"PacketSize")}g=String(g.getAttribute("CodecPrivateData"));
if(h===_.Nb&&!g){var D=t;var L={96E3:0,88200:1,64E3:2,48E3:3,44100:4,32E3:5,24E3:6,22050:7,16E3:8,12E3:9,11025:10,8E3:11,7350:12},R=L[q];"AACH"===E?(g=new Uint8Array(4),L=L[2*q],g[0]=40|R>>1,g[1]=R<<7|D<<3|L>>1,g[2]=L<<7|8,g[3]=0,D=new Uint16Array(2),D[0]=(g[0]<<8)+g[1],D[1]=(g[2]<<8)+g[3],g=D[0].toString(16)+D[1].toString(16)):(g=new Uint8Array(2),g[0]=16|R>>1,g[1]=R<<7|D<<3,D=new Uint16Array(1),D[0]=(g[0]<<8)+g[1],g=D[0].toString(16));g=g.toUpperCase()}f={id:f.K++,type:h,index:l,bitrate:m,Yc:g,
maxHeight:n,maxWidth:p,Ic:q,De:t,Qj:z,kg:v,ak:F,Sh:E,yb:null};d.push(f)}return d},hr=function(a,b,c){var d=[];b=_.M.M(b,"c");for(var e=0;e<b.length;e++){var f=b[e],g=parseInt(f.getAttribute("t"),10),h=parseInt(f.getAttribute("d"),10);f=parseInt(f.getAttribute("r"),10);var l=0;if(isNaN(g)&&isNaN(h))throw a.c.error("Either one or both FragmentDuration and FragmentTime field MUST be present in StreamFragmentElement"),new _.J(_.K,4,4037,a.j);0===e&&isNaN(g)&&(l=g=0);if(0<e){var m=d[d.length-1];l=m.n+
1;m.d||(m.d=g-m.t);g||(g=m.t+m.d);h||(h=g-m.t)}d.push({n:l,d:h,t:g});if(f)for(f--,m=0;m<f;m++)h=d[d.length-1],l=h.n+1,g=h.t+h.d,h=h.d,d.push({n:l,d:h,t:g})}a.xc()||d.length===c||a.c.warn("Number of fragments ("+c+") differs from number of chunks ("+d.length+").");return d},dr=function(a,b,c,d){for(var e=[],f={$b:0};f.$b<d.length;f={$b:f.$b},f.$b++){var g=d[f.$b].tracks.map(function(h){return function(l){var m=d[h.$b],n=cr(a,c,m,l),p=new _.Un(n),q=null;m.type!==_.k&&(q=ir(a,b,c,m,l));l.yb=p;n=a.D++;
var t=Promise.resolve.bind(Promise),v=p.find.bind(p),z=p.get.bind(p),F=p.bc.bind(p);p=p.getDuration.bind(p);var E=jr[m.type],D="";switch(m.type){case _.Xd:D=l.Yc;var L=/00000001[0-9]7/.exec(D);D="avc1."+(L&&L[0]?D.substr(D.indexOf(L[0])+10,6):"42c00c");a.c.debug("VIDEO CODECS: ",D);break;case _.Nb:D=l.Yc,L=2,"AACH"===l.Sh?L=5:D&&(L=(parseInt(D.substr(0,2),16)&248)>>3),D="mp4a.40."+L,a.c.debug("AUDIO CODECS: ",D)}L=m.type===_.k?kr[m.Aj]:void 0;return{id:n,originalId:null,dk:null,createSegmentIndex:t,
findSegmentPosition:v,getSegmentReference:z,adjustSegmentDurations:F,getDuration:p,initSegmentReference:q,presentationTimeOffset:0,mimeType:E,codecs:D,frameRate:void 0,bandwidth:l.bitrate,width:l.maxWidth||void 0,height:l.maxHeight||void 0,kind:L,encrypted:a.Yd(),keyId:null,language:m.language,label:m.name,type:m.type,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:l.De||null,closedCaptions:null}}}(f));e=e.concat(g)}return e},cr=function(a,b,c,d){var e=0,f=[],g=c.timescale||
b;c.ef.forEach(function(h,l){var m=h.d/g,n;0===l?n=h.t/g:n=f[l-1].endTime;var p=n+m,q=Tq(a.j,c,l,d);a.u=Math.max(a.u,m);f.push(new _.Nn(l,n,p,function(){return[q]},0,null,null,!0,g));e+=m});if(c.type===_.Xd||c.type===_.Nb)b=f[f.length-1],a.A=Math.min(a.A,e),0===a.b.Dc?a.b.Dc=b.endTime:a.b.Dc=Math.min(a.b.Dc,b.endTime);return f},ir=function(a,b,c,d,e){b=Uq(b,d.timescale||c,e);c={isLive:a.xc.bind(a),gd:a.Yd.bind(a),Zh:function(){return 1},Qd:a.gf.bind(a)};d=new Uint8Array(0);try{d=Oq(b,c)}catch(g){throw a.c.error("Failed to generate initialization segment."),
new _.J(_.K,3,4035,g);}var f="data:text/plain;base64,"+_.Vj(d);return new _.Mn(function(){return[f]},0,null,null,!0)},er=function(a,b,c){var d=(c?c.bandwidth:0)+(b?b.bandwidth:0),e=c?c.language:_.Od;return c||b?{id:a.D++,language:e,primary:!1,audio:c,video:b,bandwidth:d,drmInfos:a.l,allowedByApplication:!0,allowedByKeySystem:!0}:null},Zq=function(a,b,c){if(b=b.getAttribute(c))return b;a.c.error("required attribute not provided: "+c);throw new _.J(_.K,4,4038,a.j,c);},lr=function(a,b){null!=a.o&&null!=
b&&(a.i=window.setTimeout(a.mh.bind(a),b))},$q=function(a,b){var c=b===Wq;a.h&&a.h.presentationTimeline&&(a.h.presentationTimeline.b=c);c&&null!=a.i&&(window.clearTimeout(a.i),a.i=null,a.o=null);a.G=b},mr=function(){};var Jp=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Kp=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Lp=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Mp=/^(\d*\.?\d*)f$/,Np=/^(\d*\.?\d*)t$/,Op=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/;V.prototype.append=function(a){a=void 0===a?[]:a;for(var b=0;b<a.length;b++)this.b.push(a[b]),a[b].parent=this;return this};V.prototype.get=function(a){if(this.type===a)return this;for(var b=0;b<this.b.length;b++){if(this.b[b].type===a)return this.b[b];var c=this.b[b].get(a);if(c)return c}return null};V.prototype.a=function(){var a=Math.pow(2,32)-1;var b=4+this.type.length;"uuid"===this.type&&(b+=16);if(0<this.b.length)for(var c=0;c<this.b.length;c++)b+=this.b[c].a();this.size>a&&(b+=8);return b};
V.prototype.write=function(a){var b=Math.pow(2,32)-1;this.start=a.getPosition();this.size=this.a();this.size>b?_.N(a,1):_.N(a,this.size);_.Zg(a,Gp(this.type));this.size>b&&Ap(a,this.size);"uuid"===this.type&&_.Zg(a,null);if(0<this.b.length&&!this.j)for(b=0;b<this.b.length;b++)this.b[b].write(a),this.b[b].a(),a.getPosition()};_.w(W,V);W.prototype.a=function(){return 4+V.prototype.a.call(this)};W.prototype.write=function(a){V.prototype.write.call(this,a);Bp(a,this.version);Cp(a,this.flags)};
_.w(Rp,V);Rp.prototype.a=function(){return this.c.byteLength+V.prototype.a.call(this)-this.offset};Rp.prototype.write=function(a){V.prototype.write.call(this,a);_.Zg(a,this.c,this.offset);a.getPosition()};_.w(Sp,W);Sp.prototype.a=function(){return this.c.byteLength+W.prototype.a.call(this)-this.offset};Sp.prototype.write=function(a){W.prototype.write.call(this,a);_.Zg(a,this.c,this.offset);a.getPosition()};_.w(Tp,V);
Tp.prototype.a=function(){var a=this.f.length;a=a+4+this.c.join("").length;return a+V.prototype.a.call(this)};Tp.prototype.write=function(a){V.prototype.write.call(this,a);_.Zg(a,Gp(this.f));_.N(a,this.uf);_.Zg(a,Gp(this.c.join("")));a.getPosition()};_.w(Up,V);_.w(Vp,V);_.w(Wp,W);Wp.prototype.a=function(){var a=0;a=1===this.version?a+28:a+16;a=a+44+this.c.length;return a+=W.prototype.a.call(this)};
Wp.prototype.write=function(a){W.prototype.write.call(this,a);1===this.version?(Ap(a,0),Ap(a,0),_.N(a,this.timescale),Ap(a,this.duration*this.timescale)):(_.N(a,0),_.N(a,0),_.N(a,this.timescale),_.N(a,this.duration*this.timescale));_.N(a,65536);Dp(a,this.volume);Dp(a,0);_.N(a,0);_.N(a,0);for(var b=0;b<this.c.length;b++)Bp(a,this.c[b]);_.N(a,0);_.N(a,0);_.N(a,0);_.N(a,0);_.N(a,0);_.N(a,0);_.N(a,this.f);a.getPosition()};_.w(Xp,V);_.w(Yp,W);Yp.prototype.a=function(){return 20+W.prototype.a.call(this)};
Yp.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.c);_.N(a,1);_.N(a,0);_.N(a,0);_.N(a,0);a.getPosition()};_.w(Zp,W);Zp.prototype.a=function(){var a=0;a=1===this.version?a+32:a+20;a=a+24+this.c.length;return a+W.prototype.a.call(this)};
Zp.prototype.write=function(a){W.prototype.write.call(this,a);1===this.version?(Ap(a,0),Ap(a,0),_.N(a,this.f),_.N(a,0),Ap(a,this.duration*this.timescale)):(_.N(a,0),_.N(a,0),_.N(a,this.f),_.N(a,0),_.N(a,this.duration*this.timescale));_.N(a,0);_.N(a,0);Dp(a,0);Dp(a,0);Dp(a,this.volume);Dp(a,0);for(var b=0;b<this.c.length;b++)Bp(a,this.c[b]);Dp(a,this.width);Dp(a,0);Dp(a,this.height);Dp(a,0);a.getPosition()};_.w($p,W);$p.prototype.a=function(){var a=0;a=1===this.version?a+28:a+16;return a+4+W.prototype.a.call(this)};
$p.prototype.write=function(a){W.prototype.write.call(this,a);1===this.version?(Ap(a,0),Ap(a,0),_.N(a,this.timescale),Ap(a,this.duration*this.timescale)):(_.N(a,0),_.N(a,0),_.N(a,this.timescale),_.N(a,this.duration*this.timescale));Dp(a,this.language);Dp(a,0);a.getPosition()};_.w(aq,W);aq.prototype.a=function(){return 33+W.prototype.a.call(this)};
aq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,0);this.c===_.Xd?_.Zg(a,Gp("vide")):_.Zg(a,Gp("soun"));_.N(a,0);_.N(a,0);_.N(a,0);this.c===_.Xd?_.Zg(a,Gp("VideoHandler\x00")):_.Zg(a,Gp("SoundHandler\x00"));a.getPosition()};_.w(bq,W);bq.prototype.a=function(){return 2+this.c.byteLength+W.prototype.a.call(this)};bq.prototype.write=function(a){W.prototype.write.call(this,a);Dp(a,0);_.Zg(a,this.c);a.getPosition()};_.w(cq,V);cq.prototype.a=function(){return 8+V.prototype.a.call(this)};
cq.prototype.write=function(a){V.prototype.write.call(this,a);_.N(a,0);Dp(a,0);Dp(a,1)};_.w(dq,cq);dq.prototype.a=function(){return 70+cq.prototype.a.call(this)};dq.prototype.write=function(a){cq.prototype.write.call(this,a);Dp(a,0);Dp(a,0);_.N(a,0);_.N(a,0);_.N(a,0);Dp(a,this.width);Dp(a,this.height);_.N(a,4718592);_.N(a,4718592);_.N(a,0);Dp(a,1);Bp(a,10);_.Zg(a,Gp("AVC Coding",31));Dp(a,24);Fp(a,-1)};_.w(eq,cq);eq.prototype.a=function(){return 20+cq.prototype.a.call(this)};
eq.prototype.write=function(a){cq.prototype.write.call(this,a);_.N(a,0);_.N(a,0);Dp(a,this.channelCount);Dp(a,this.sampleSize);Fp(a,0);Dp(a,0);Dp(a,this.sampleRate);Dp(a,0)};_.w(fq,dq);fq.prototype.write=function(a){dq.prototype.write.call(this,a);for(var b=0;b<this.b.length;b++)this.b[b].write(a);a.getPosition()};_.w(gq,fq);_.w(hq,eq);hq.prototype.write=function(a){eq.prototype.write.call(this,a);for(var b=0;b<this.b.length;b++)this.b[b].write(a);a.getPosition()};_.w(iq,hq);_.w(jq,V);
jq.prototype.a=function(){for(var a=7,b=0;b<this.pa.length;b++)a+=2,a+=this.pa[b].byteLength;for(b=0;b<this.pa.length;b++)a+=2,a+=this.wb[b].byteLength;return a+V.prototype.a.call(this)};
jq.prototype.write=function(a){V.prototype.write.call(this,a);Bp(a,this.version);Bp(a,this.c);Bp(a,this.f);Bp(a,this.level);Bp(a,255);Bp(a,224|this.pa.length);for(var b=0;b<this.pa.length;b++)Dp(a,this.pa[b].length),_.Zg(a,this.pa[b]);Bp(a,this.wb.length);for(b=0;b<this.wb.length;b++)Dp(a,this.wb[b].length),_.Zg(a,this.wb[b]);a.getPosition()};_.w(kq,W);kq.prototype.a=function(){return 22+(this.kb.byteLength+3)+W.prototype.a.call(this)};
kq.prototype.write=function(a){W.prototype.write.call(this,a);Bp(a,3);Bp(a,23+this.kb.byteLength);Dp(a,1);Bp(a,0);Bp(a,4);Bp(a,15+this.kb.byteLength);Bp(a,64);Bp(a,21);Cp(a,0);_.N(a,0);_.N(a,0);Bp(a,5);Bp(a,this.kb.byteLength);_.Zg(a,this.kb);_.Zg(a,new Uint8Array([6,1,2]));a.getPosition()};_.w(lq,W);lq.prototype.a=function(){return this.location.length+W.prototype.a.call(this)};lq.prototype.write=function(a){W.prototype.write.call(this,a);0<this.location.length&&_.Zg(a,Gp(this.location));a.getPosition()};
_.w(mq,W);mq.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+W.prototype.a.call(this)};mq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.w(nq,V);_.w(oq,W);oq.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+W.prototype.a.call(this)};
oq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.w(pq,W);pq.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+W.prototype.a.call(this)};pq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.w(qq,W);
qq.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+W.prototype.a.call(this)};qq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.w(rq,W);rq.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+W.prototype.a.call(this)};
rq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.w(sq,W);sq.prototype.a=function(){return 8+W.prototype.a.call(this)};sq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,0);_.N(a,0);a.getPosition()};_.w(tq,W);tq.prototype.a=function(){return 4+W.prototype.a.call(this)};tq.prototype.write=function(a){W.prototype.write.call(this,a);Fp(a,0);Dp(a,0);a.getPosition()};
_.w(uq,V);_.w(vq,V);_.w(wq,V);_.w(xq,W);xq.prototype.a=function(){var a=0;a=1===this.version?a+8:a+4;return a+W.prototype.a.call(this)};xq.prototype.write=function(a){W.prototype.write.call(this,a);1===this.version?Ap(a,this.c):_.N(a,this.c);a.getPosition()};_.w(yq,W);yq.prototype.a=function(){return 4+W.prototype.a.call(this)};yq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.c);a.getPosition()};_.w(zq,W);
zq.prototype.a=function(){var a=4;this.flags&nr&&(a+=4);this.flags&or&&(a+=4);for(var b=0;b<this.c;b++)this.flags&pr&&(a+=4),this.flags&qr&&(a+=4),this.flags&rr&&(a+=4),this.flags&sr&&(a+=4);return a+W.prototype.a.call(this)};
zq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.c);this.flags&nr&&(a.getPosition(),Ep(a,this.g));this.flags&or&&_.N(a,this.h);for(var b=0;b<this.c;b++)this.flags&pr&&_.N(a,this.i[b]),this.flags&qr&&_.N(a,this.sampleSize[b]),this.flags&rr&&_.N(a,this.l[b]),this.flags&sr&&(0===this.version?_.N(a,this.f[b]):Ep(a,this.f[b]));a.getPosition()};var nr=1,or=4,pr=256,qr=512,rr=1024,sr=2048;_.w(Aq,W);
Aq.prototype.a=function(){var a=4;this.flags&tr&&(a+=8);this.flags&ur&&(a+=4);this.flags&vr&&(a+=4);this.flags&wr&&(a+=4);this.flags&xr&&(a+=4);return a+W.prototype.a.call(this)};Aq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.c);this.flags&tr&&Ap(a,this.f);this.flags&ur&&_.N(a,this.l);this.flags&vr&&_.N(a,this.g);this.flags&wr&&_.N(a,this.i);this.flags&xr&&_.N(a,this.h);a.getPosition()};var tr=1,ur=2,vr=8,wr=16,xr=32;_.w(Bq,V);_.w(Cq,V);_.w(Dq,V);
Dq.prototype.a=function(){return this.c.byteLength+V.prototype.a.call(this)};Dq.prototype.write=function(a){V.prototype.write.call(this,a);0<this.c.byteLength&&_.Zg(a,this.c)};_.w(Eq,W);Eq.prototype.a=function(){var a=20;1===this.c&&0===this.f&&(a=a+1+this.g.length);return a+W.prototype.a.call(this)};
Eq.prototype.write=function(a){W.prototype.write.call(this,a);Bp(a,0);0===this.version?Bp(a,0):Bp(a,0);Bp(a,this.c);Bp(a,this.f);_.Zg(a,_.Xj(this.h));if(1===this.c&&0===this.f){Bp(a,0);for(var b=0;b<this.g.length;b++)Bp(a,this.g[b])}a.getPosition()};_.w(Fq,W);Fq.prototype.a=function(){var a=8;this.flags&1&&(a+=Gp(this.xb).byteLength);return a+W.prototype.a.call(this)};Fq.prototype.write=function(a){W.prototype.write.call(this,a);_.Zg(a,Gp(this.c));_.N(a,this.f);this.flags&1&&_.Zg(a,Gp(this.xb));a.getPosition()};
_.w(Gq,V);Gq.prototype.a=function(){return Gp(this.c).byteLength+V.prototype.a.call(this)};Gq.prototype.write=function(a){V.prototype.write.call(this,a);_.Zg(a,Gp(this.c));a.getPosition()};_.w(Hq,W);Hq.prototype.a=function(){var a=0;this.flags&1&&(a+=8);a+=4;for(var b=0;1>b;b++)a=0===this.version?a+4:a+8;return a+W.prototype.a.call(this)};
Hq.prototype.write=function(a){W.prototype.write.call(this,a);this.flags&1&&(_.N(a,0),_.N(a,0));_.N(a,1);for(var b=0;1>b;b++)0===this.version?_.N(a,this.offset[b]):Ap(a,this.offset[b]);a.getPosition()};_.w(Iq,W);Iq.prototype.a=function(){var a=0;this.flags&1&&(a+=8);a+=5;0===this.c&&(a+=this.g.length);return a+W.prototype.a.call(this)};
Iq.prototype.write=function(a){W.prototype.write.call(this,a);this.flags&1&&(_.N(a,0),_.N(a,0));Bp(a,this.c);_.N(a,this.f);if(0===this.c)for(var b=0;b<this.f;b++)Bp(a,this.g[b]);a.getPosition()};_.w(Jq,W);Jq.prototype.a=function(){var a=4;this.flags&1&&(a+=1);for(var b=0;b<this.f;b++)if(a+=this.c[b].lf.byteLength,this.flags&2){a+=2;for(var c=0;c<this.c[b].oc;c++)a+=2,a+=4}return a+W.prototype.a.call(this)};
Jq.prototype.write=function(a){W.prototype.write.call(this,a);_.N(a,this.f);this.flags&1&&Bp(a,this.g);for(var b=0;b<this.f;b++)if(_.Zg(a,this.c[b].lf),this.flags&2){Dp(a,this.c[b].oc);for(var c=0;c<this.c[b].oc;c++)Dp(a,this.c[b].pe[c].Be),_.N(a,this.c[b].pe[c].Ce)}a.getPosition()};Lq.prototype.get=function(a){for(var b=0;b<this.a.length;b++){var c=this.a[b].get(a);if(c)return c}return null};Lq.prototype.write=function(){this.b=Kq(this);for(var a=0;a<this.a.length;a++)this.a[a].write(this.b);return this.b.buffer};var Pq=[162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244];_.r=Xq.prototype;_.r.configure=function(a){this.f=a};_.r.start=function(a,b){var c=this;this.a=b;this.j=Sq(a);return Yq(this).then(function(d){return fr(c,d.data).then(function(){lr(c,c.o);return c.h})})};_.r.stop=function(){this.a&&this.a.networkingEngine.oe(this.B);this.o=this.g=this.h=this.f=this.a=null;this.i&&(clearTimeout(this.i),this.i=null);this.w=!1;return Promise.resolve()};_.r.update=function(){var a=this;if(this.xc())return Yq(this).then(function(b){return fr(a,b.data).then(function(){return a.h})})["catch"](function(b){if(a.a)a.a.onError(b)})};
_.r.onExpirationUpdated=function(){};_.r.mh=function(){var a=this;this.c.debug(_.ab);this.a&&(this.i=null,this.update().then(function(){lr(a,a.o)})["catch"](function(b){a.a&&(a.a.onError(b),1===b.a&&lr(a,100))}))};_.r.xc=function(){return this.G===ar};_.r.Yd=function(){return 0<this.l.length};_.r.gf=function(a){var b=null;if(this.l.length)for(var c=0;c<this.l.length;c++)if(this.l[c].keySystem===a){b=this.l[c].initData[0];break}return b};
_.r.tj=function(a){if(a.request.type!==_.to||a.uri.startsWith("data:"))return Promise.resolve(a);var b=a.request.timescale||this.g.timescale,c={isLive:this.xc.bind(this),gd:this.Yd.bind(this),Zh:function(){return 1},Qd:this.gf.bind(this)},d=!1,e=new _.J(_.K,3,4035,null),f=null;try{f=Rq(a,b,c)}catch(g){d=!0,e.data=g,3E3===g.code&&(e.code=4039)}if(d||!f)return Promise.reject(e);a.data=f;return Promise.resolve(a)};var jr={video:_.Zd,audio:_.Pb,text:_.Hb},Wq="VOD",ar="LIVE",kr={Ij:"caption",Oj:_.Hd};_.w(mr,_.nl);mr.prototype.rb=function(){_.Do.pd("ism",Xq);_.Do.Hc(_.vl,Xq)};mr.prototype.ib=function(){_.Do.ne("ism");_.Do.qd(_.vl)};mr.prototype.id=function(){return"clpp.component.smooth"};_.B("clpp.smooth.SmoothComponent",mr);};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.min.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core.min"], function(c){_=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();
