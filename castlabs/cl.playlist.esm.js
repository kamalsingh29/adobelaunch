import {clpp} from "./cl.core.esm.js";let g={};var _ = clpp._;var f=function(window){var yr=function(a,b){b=void 0===b?function(){return Promise.resolve()}:b;_.Wi.call(this);this.f=a;this.h=b;this.b=0;this.a=[];this.c=!1;this.g=this.yf.bind(this)},zr=function(a){a.trigger(new _.O(_.md))},Ar=function(a,b){return 0<=b&&b<a.a.length};_.w(yr,_.Wi);_.r=yr.prototype;_.r.getPosition=function(){return this.b};_.r.di=function(){return this.a};_.r.Pd=function(){return 0<this.a.length&&Ar(this,this.b)?this.a[this.b]:null};
_.r.ei=function(){var a=this.b+1;return 0<this.a.length&&Ar(this,a)?this.a[a]:null};_.r.ii=function(){return this.c};_.r.start=function(){this.c||(this.c=!0,this.f.on(_.zc,this.g),this.fd(this.b,!0))};_.r.stop=function(){this.c=!1;this.f.off(_.zc,this.g)};_.r.yf=function(){this.next()};_.r.next=function(){var a=this,b;return _.A(function(c){b=Math.min(a.a.length-1,a.b+1);return _.x(c,a.fd(b),0)})};_.r.nj=function(){var a=this,b;return _.A(function(c){b=Math.max(0,a.b-1);return _.x(c,a.fd(b),0)})};
_.r.fd=function(a,b){b=void 0===b?!1:b;var c=this,d;return _.A(function(e){if(1==e.a){if(!(0<c.a.length&&Ar(c,a))||!b&&c.b===a)return e["return"]();c.b=a;return(d=c.Pd())?_.x(e,c.h(d),3):e.C(0)}if(4!=e.a)return _.x(e,c.f.load(d.configuration),4);c.trigger(new _.O(_.ld,{item:d}));_.y(e)})};_.r.append=function(a){this.a.push(a);zr(this)};_.r.gi=function(a,b){if(0<=b&&b<=this.a.length){var c=this.Pd();this.a.splice(b,0,a);c&&(this.b=this.a.indexOf(c));zr(this)}};
_.r.remove=function(a){if(0<this.a.length&&Ar(this,a)){if(this.b===a)throw Error("Can't remove the current item");this.a.splice(a,1);zr(this)}};_.r.clear=function(){this.stop();this.b=0;this.a=[];this.c=!1;zr(this)};_.B("clpp.Playlist",yr);yr.prototype.clear=yr.prototype.clear;yr.prototype.remove=yr.prototype.remove;yr.prototype.insert=yr.prototype.gi;yr.prototype.append=yr.prototype.append;yr.prototype.goTo=yr.prototype.fd;yr.prototype.previous=yr.prototype.nj;yr.prototype.next=yr.prototype.next;
yr.prototype.onEnded=yr.prototype.yf;yr.prototype.stop=yr.prototype.stop;yr.prototype.start=yr.prototype.start;yr.prototype.isStarted=yr.prototype.ii;yr.prototype.getUpcoming=yr.prototype.ei;yr.prototype.getCurrent=yr.prototype.Pd;yr.prototype.getQueue=yr.prototype.di;yr.prototype.getPosition=yr.prototype.getPosition;};f.call(g, window);