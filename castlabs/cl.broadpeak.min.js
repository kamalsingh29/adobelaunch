(function(){var g={}; var _ = _ || {};
var f=function(window){var BC=function(a){this.b=a;this.a=new _.Xe;this.c=!1},CC=function(a){this.a=a;this.b=_.Ig()},DC=function(){this.f=!1;this.b=this.c=this.a=this.g=null},EC=function(a,b){a.a&&(a.a.stopStreamingSession(b),a.a.detachPlayer(),a.a.release(),a.a=null)},FC=function(){return!window.SmartLib},GC=function(){};_.r=BC.prototype;_.r.init=function(){var a=this.b,b=this.a;b.on(a,_.zd,this.$f.bind(this));b.on(a,_.Rb,this.Yf.bind(this));b.on(a,"seek",this.Zf.bind(this))};
_.r.Yf=function(a){a=a.detail;if(typeof a.bandwidth===_.Wc)PlayerEventListener.onLayerSwitch(a.bandwidth/1E3)};_.r.$f=function(a){var b=this.b;a=a.detail;var c=a.currentState;if(a.previousState===_.Cm)PlayerEventListener.onStallEnd(!b.isPaused());if(c===_.Cm)PlayerEventListener.onStallStart();else if(c===_.el)if(this.c)PlayerEventListener.onSessionResume();else PlayerEventListener.onSessionStart(),this.c=!0;else if(c===_.Jm)PlayerEventListener.onSessionPause()};
_.r.Zf=function(){var a=1E3*this.b.getPosition();PlayerEventListener.onSeek(a)};_.r.release=function(){this.a&&(_.$e(this.a),this.a=null)};_.r=CC.prototype;_.r.getPlayerName=function(){return _.la};_.r.getVersion=function(){return _.fa};_.r.getOSName=function(){return this.b.os};_.r.getDeviceVersion=function(){return this.b.osVersion.name};_.r.getDeviceType=function(){return"browser"};_.r.getTotalDuration=function(){return this.a.isLive()?0:1E3*this.a.getDuration()};_.r.getCurrentPosition=function(){return 1E3*this.a.getPosition()};_.r.getCurrentBitrate=function(){var a=this.a.getStats();return(a?a.streamBandwidth:0)/1E3};_.w(DC,_.tn);_.r=DC.prototype;_.r.onPlayerCreated=function(a){this.g=a};
_.r.onContentWillLoad=function(a,b){var c=a.getConfiguration().broadpeak;if(c){if(FC())return a.onError(new _.K(1,9,11E3));this.f=!0;this.c=new _.Of;var d=c.analyticsAddress||null,e=c.nanoCDNHost||null,f=c.broadpeakDomainNames||"",g=c.uuid||null;c=c.customParameters||{};this.a=SmartLib.getInstance();this.a.init(d,e,f);typeof g===_.Bd&&this.a.setUUID(g);for(var h in c)c.hasOwnProperty(h)&&this.a.setCustomParameter(h,c[h]);this.b=new BC(a);this.b.init();this.a.attachPlayer(new CC(a));this.a.getURL(b.url,
this.xi.bind(this,b),this.yi.bind(this));return this.c}};_.r.xi=function(a,b){a.url=b;this.c.resolve()};_.r.yi=function(a,b){this.g.onError(new _.K(1,9,11001,{message:b}));EC(this,SmartLib.BPUnspecifiedError);this.c.resolve()};_.r.onPlayerWillRelease=function(){this.f&&(this.b&&(this.b.release(),this.b=null),EC(this,SmartLib.BPSessionEndsNormally));this.f=!1};_.r.id=function(){return"broadpeak"};_.B("clpp.broadpeak.BroadpeakPlugin",DC);DC.Id="broadpeak";DC.isSdkMissing=FC;GC.prototype.create=function(){return new DC};
_.hl(new GC);};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.min.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core.min"], function(c){x=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();
