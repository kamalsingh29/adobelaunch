import {clpp} from "./cl.core.esm.js";let g={};var _ = clpp._;var f=function(window){var oB="Cannot pause during ads playout.",pB="Cannot play during ads playout.",qB="Cannot seek during ads playout.",rB="Cannot switch track",sB="Media session does not exist.",tB="No receivers available",uB="SDK not yet ready",vB="Sender is destroyed.",wB="clpp.cast.CastProxy",xB="clpp.cast.Player",yB="clpp.cast.Receiver",zB="urn:x-cast:castlabs",AB="urn:x-cast:com.google.cast.media",BB=function(a,b){this.log=new _.E(b);this.a=a;this.g=null;this.c=_.ym;this.h=_.zm;this.f=2;this.m=Date.now();this.l=
-1},CB=function(a){this.a=a},Z=function(a,b,c,d,e){this.a=a;this.b=b;this.f=typeof c===_.Wc?c:1;this.g=typeof d===_.Wc?d:1;this.c=typeof e===_.Wc?e:0},EB=function(a){this.b=a;this.a=null;this.f=this.ig.bind(this);this.c=[cast.framework.events.EventType.PLAYER_LOADING,cast.framework.events.EventType.BREAK_STARTED,cast.framework.events.EventType.BREAK_ENDED,cast.framework.events.EventType.BREAK_CLIP_STARTED,cast.framework.events.EventType.BREAK_CLIP_ENDED,cast.framework.events.EventType.PLAYING,cast.framework.events.EventType.PAUSE,
cast.framework.events.EventType.BUFFERING];DB().addEventListener(this.c,this.f)},GB=function(a,b,c){var d,e,f,g,h,l;return _.z(function(m){if(1==m.a){d=b.adTagUrl;if(!d)return m["return"]();e=_.hg(d);return _.x(m,c.fetch(e).promise,2)}if((f=m.b)&&f.data)if(g=_.mf(f.data),h=new DOMParser,l=h.parseFromString(g,_.Gd),l.getElementsByTagName("vmap:VMAP").length)_.C("VMAP detected."),a.vmapAdsRequest=FB(g);else if(l.getElementsByTagName("VAST").length){_.C("VAST detected.");var n=new cast.framework.messages.BreakClip("bc1");
n.vastAdsRequest=FB(g);var p=new cast.framework.messages.Break("b1",[n.id],0);a.breakClips=[n];a.breaks=[p]}else _.C("Unsupported schema.");_.y(m)})},FB=function(a){var b=new cast.framework.messages.VastAdsRequest;b.adsResponse=a;return b},DB=function(){return cast.framework.CastReceiverContext.getInstance().getPlayerManager()},IB=function(a,b,c){if(c instanceof cast.framework.events.BreaksEvent||-1!==a.getPosition()){var d=null;(c=HB(a,c))&&(d={ad:c});a.b.trigger(new _.I(b,d))}},HB=function(a,b){var c=
null;if(a.a&&b instanceof cast.framework.events.BreaksEvent){var d=c=null,e;typeof b.breakClipId===_.Bd&&(c=a.a.getBreakClipById(b.breakClipId));typeof b.breakId===_.Bd&&(d=a.a.getBreakById(b.breakId))&&(e=a.a.getBreaks().filter(function(f){return 0<=f.position}).sort(function(f,g){return f.position-g.position}).findIndex(function(f){return f===d}));c=new Z(c,d,b.index,b.total,e)}return c},JB=function(a){return JSON.stringify(a,function(b,c){if("license"!==b&&typeof c!==_.Cc){if(c instanceof Event){var d=
{},e;for(e in c){var f=c[e];typeof f===_.Xc?"detail"===e&&(d[e]=f):e in Event||(d[e]=f)}return d}return typeof c===_.Wc?isNaN(c)?"NaN":isFinite(c)?c:0>c?"-Infinity":"Infinity":c}})},KB=function(a){if(typeof a!==_.Bd)return a;try{return JSON.parse(a,function(b,c){return"NaN"===c?NaN:"-Infinity"===c?-Infinity:"Infinity"===c?Infinity:c})}catch(b){return a}},LB=function(a,b,c){var d,e,f,g,h,l,m,n;return _.z(function(p){if(1==p.a){if(b.includes(a.mimeType))return p["return"](a);f=e=d=null;for(g=0;g<b.length&&
!e;)f=b[g++],e=_.Jj(a.mimeType,f);if(!e||!f){p.a=2;return}h=_.hg(a.url);return _.x(p,c.fetch(h).promise,3)}2!=p.a&&(l=p.b)&&l.data&&(m=_.Mj(_.N(l.data)),n=URL.createObjectURL(new Blob([m])),d={url:n,kind:a.kind,language:a.language,label:a.label,mimeType:f});return p["return"](d)})},MB=function(a){BB.call(this,a,"clpp.cast.StateManager");this.v=this.eg.bind(this);this.u=this.dg.bind(this);this.i=this.mi.bind(this);this.b=this.fi.bind(this);this.A=this.gg.bind(this);this.w=this.fg.bind(this);this.C=
this.hg.bind(this);this.o=this.pi.bind(this);this.j=this.cg.bind(this)},NB=function(){this.c=new _.E("clpp.cast.TrackManager");this.f=null;this.j=1E9;this.g=[];this.h=[];this.i=this.Hi.bind(this);this.a=this.b=null},OB=function(){return cast.framework.CastReceiverContext.getInstance().getPlayerManager()},QB=function(a){a.a=OB().getTextTracksManager();var b=a.a.getTracks();a.h=PB(_.R,b)},RB=function(a,b,c,d){var e=!1,f=[];b===_.S?f=a.getAudioTracks():b===_.R&&(f=a.U());if(_.zf(c)){var g=f.filter(function(h){return h.language===
c});f=g.length?g:f;e=e||!!g.length}_.zf(d)&&(g=f.filter(function(h){return h.roles.includes(d)}),f=g.length?g:f,e=e||!!g.length);e&&f[0]&&(e=f[0],a.c.info(_.ab,e),b===_.S?a.ia(e):b===_.R&&a.ja(e))},PB=function(a,b){for(var c=[],d=_.v(b),e=d.next();!e.done;e=d.next()){e=e.value;var f=new _.nj(e.trackId.toString(),a);f.roles=e.roles||[];f.kind=e.subtype||null;f.language=e.language||null;f.label=e.name||null;f.src=e.trackContentId||null;f.mimeType=e.trackContentType||null;e.customData&&(f.mimeType=e.customData.mimeType||
f.mimeType,f.src=e.customData.url||f.src);f.renditions.push(new _.oj(f.id,f));c.push(f)}return c},SB=function(){_.bf.call(this);this.o=new _.E(xB);this.c=this.g=_.Kg();this.i=[];this.h=0;this.m=new _.fg;this.b=this.f=this.a=this.j=null;this.l=!1},TB=function(){return cast.framework.CastReceiverContext.getInstance().getPlayerManager()},UB=function(a,b,c){b.modifiers.licenseRequest?a.licenseRequestHandler=function(d){var e=_.hg(d.url);d.headers&&(e.headers=d.headers);e.body=d.content;e.allowCrossSiteCredentials=
d.withCredentials;b.modifiers.licenseRequest(c,e);d.url=e.uris[0];d.headers=e.headers;d.content=e.body;d.withCredentials=e.allowCrossSiteCredentials}:a.licenseRequestHandler=void 0},VB=function(a,b,c){b.modifiers.licenseResponse?a.licenseHandler=function(d){d=_.Rf({},d.buffer,200,"");b.modifiers.licenseResponse(c,d);return _.N(d.data)}:a.licenseHandler=void 0},WB=function(){this.b=!1;this.g=new _.E(yB);this.c=this.a=null;this.f=new Set;this.i=this.oi.bind(this);this.h=this.bg.bind(this)},YB=function(){return XB||
(XB=new WB)},$B=function(a,b){a.g.debug("Detected HLS, parsing");var c=cast.framework.messages.HlsVideoSegmentFormat,d=cast.framework.CastReceiverContext.getInstance();c=d.getPlayerManager().getMediaInformation().hlsVideoSegmentFormat===c.FMP4?_.Zd:_.Yd;b=b.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n");for(var e=b.split(/\n+/m),f=[],g=0;g<e.length;){var h=e[g].trim();if(e[g].startsWith("#EXT-X-STREAM-INF")){var l=ZB(h,"CODECS"),m=ZB(h,"RESOLUTION"),n=_.v([]),p=n.next().value;n=n.next().value;m&&(m=_.v(m.split("x").map(function(q){return+q})),
p=m.next().value,n=m.next().value);if(!d.canDisplayType(c,l,p,n)){g+=2;continue}}f.push(h);++g}return f.join("\n")},ZB=function(a,b){b+="\x3d";var c=a.indexOf(b);if(0<=c){var d=a.substring(c+b.length);d.startsWith('"')?(d=d.substring(1),d=d.substring(0,d.indexOf('"'))):(c=d.indexOf(","),0<=c&&(d=d.substring(0,c)))}return d},aC=function(){},bC=function(a){BB.call(this,a,"clpp.cast.SenderStateManager");this.i=this.b=null;this.j=this.o.bind(this)},cC=function(){this.f=new _.E("clpp.cast.SenderTrackManager");
this.a=null;this.c=[];this.b={}},dC=function(a){return(a=a.a?a.a.a:null)?a.activeTrackIds.map(function(b){return b.toString()}):[]},fC=function(a,b){var c=dC(a);return eC(a,b).find(function(d){return c.includes(d.id)})||null},eC=function(a,b){return a.c.filter(function(c){return c.type===b})},hC=function(a,b,c){var d=a.a.a;d&&(c?(a.b[b]=c.renditions[0],c=new chrome.cast.media.EditTracksInfoRequest([+c.id]),d.editTracksInfo(c,function(){a.b[b]=null;gC(a,b)},function(e){a.b[b]=null;a.f.debug(rB,e)})):
b===_.R&&(c=new chrome.cast.media.EditTracksInfoRequest([]),d.editTracksInfo(c,function(){gC(a,b)},function(e){a.f.debug(rB,e)})))},gC=function(a,b){b===_.S?a.a.trigger(new _.I(_.Ob)):b===_.R&&a.a.trigger(new _.I(_.Id))},lC=function(a,b,c,d){_.bf.call(this);this.g=new _.E(_.bc);this.N=a;this.h=new _.sg(b);this.M=c;this.S=d;this.i=this.w=_.Kg();this.C=[];this.m=0;this.A=new _.fg;this.u=this.f=this.a=null;this.l=this.j=!1;this.W="";this.qa=1E6;this.c=new cC;this.c.Sa(this);this.b=new bC(this);this.v=
new _.Xe;this.o=new Set;this.F=this.hi.bind(this);this.la=this.zi.bind(this);this.R=this.ri.bind(this);this.I=this.li.bind(this);window.cast||Object.defineProperty(window,"cast",{get:function(){return window.cast_},set:function(e){window.cast_=e;window.setTimeout(function(){iC(!0)},0)}});jC(this);kC.add(this)},mC=function(a){var b,c;return _.z(function(d){if(1==d.a)return kC["delete"](a),b=cast.framework.CastContext.getInstance(),b.removeEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,
a.F),b.removeEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,a.la),c=[],a.c&&(c.push(a.c.destroy()),a.c=null),a.b&&(c.push(a.b.destroy()),a.b=null),_.x(d,Promise.all(c),2);a.j=!1;a.l=!1;a.h&&(a.h.stop(),a.h=null);a.M=null;a.S=null;_.y(d)})},jC=function(a){if(!a.j&&window.chrome&&chrome.cast&&chrome.cast.isAvailable&&window.cast&&cast.framework&&cast.framework.CastContext&&a.N.length){a.j=!0;a.h.be();var b=cast.framework.CastContext.getInstance(),c=new cast.framework.CastOptions;
c.receiverApplicationId=a.N;c.autoJoinPolicy=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;b.setOptions(c);b.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,a.F);b.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,a.la);nC&&a.h.P(.02)}},pC=function(a,b){oC(a,b.getMediaSession());b.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,a.R);b.addMessageListener(zB,a.I)},oC=function(a,b){b!==a.a&&(a.a=b,a.a&&(a.v.release(),a.u=null,a.f=null,a.f=new cast.framework.RemotePlayer,
a.u=new cast.framework.RemotePlayerController(a.f),a.v.on(a.u,cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,a.ag.bind(a)),a.c&&a.c.load(),a.b&&a.b.init(),a.trigger(new _.I(_.Pc))))},qC=function(a){return _.z(function(b){a.Da()?(b.a=0,b=void 0):b=_.x(b,cast.framework.CastContext.getInstance().requestSession(),0);return b})},rC=function(a,b){var c,d,e,f,g,h,l;return _.z(function(m){switch(m.a){case 1:return c=chrome.cast.media.StreamType,_.x(m,qC(a),2);case 2:if(!b)return m["return"]();
d=cast.framework.CastContext.getInstance();e=d.getCurrentSession();f=new chrome.cast.media.MediaInfo(b.source.url,b.source.type);f.streamType=b.isLive?c.LIVE:c.BUFFERED;b.Xi===_.Zd&&(f.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.FMP4);if(!b.ac){m.a=3;break}if(!b.ac.remoteTextTracks){m.a=4;break}return _.x(m,Promise.all(b.ac.remoteTextTracks.map(a.jh.bind(a))),5);case 5:g=m.b,f.tracks=g.filter(function(n){return n}),b.ac.remoteTextTracks=void 0;case 4:f.customData={playerConfiguration:JB(b.ac)};
case 3:return b.source.name&&(h=new chrome.cast.media.MovieMediaMetadata,h.title=b.source.name,f.metadata=h),l=new chrome.cast.media.LoadRequest(f),typeof b.autoplay===_.Sb&&(l.autoplay=b.autoplay),typeof b.currentTime===_.Wc&&(l.currentTime=b.currentTime),_.x(m,e.loadMedia(l),0)}})},sC=function(a,b){return new _.K(1,8,a,b)},iC=function(a){if(a){a=_.v(kC);for(var b=a.next();!b.done;b=a.next())jC(b.value)}},tC=function(a){this.b=a;this.a=null;this.c=new _.Xe;this.f=[cast.framework.RemotePlayerEventType.IS_PLAYING_BREAK_CHANGED,
cast.framework.RemotePlayerEventType.CURRENT_BREAK_CLIP_NUMBER_CHANGED,cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED]},vC=function(a,b){var c=null,d=uC(a);d&&(c={ad:d});a.b.trigger(new _.I(b,c))},uC=function(a){var b=null;if(a.a&&a.a.mediaInfo){b=a.a.mediaInfo;var c=null,d=null,e=a.a.currentBreakClipNumber;if(b.breaks&&(c=b.breaks.find(function(h){return h.id===a.a.breakId})||null)){var f=c.breakClipIds.length;var g=0>=c.position?c.position:
b.breaks.filter(function(h){return 0<=h.position}).sort(function(h,l){return h.position-l.position}).findIndex(function(h){return h===c})}b.breakClips&&(d=b.breakClips.find(function(h){return h.id===a.a.breakClipId})||null);b=new Z(d,c,e,f,g)}return b},wC=function(){},yC=function(a,b){_.bf.call(this);this.b=a;this.f=b;this.a=xC(this);this.c=new _.E(wB);this.addDelegate(this.b)},xC=function(a){return new lC(a.f,function(){a.trigger(new _.I(_.Yb))},function(b){return zC(a,b)},function(){return AC(a)})},
zC=function(a,b){var c;return _.z(function(d){c=a.b.getConfiguration();c.source=b.source;c.autoplay=!0;c.startTime=b.currentTime||null;c.ima&&c.startTime&&(c.ima.playAdsAfterTime=c.startTime);b.je&&(c.preferredAudioLanguage=b.je);b.zf&&(c.preferredTextLanguage=b.zf);_.$k(a.b,null);a.trigger(new _.I("castingended"));return _.x(d,a.b.load(c),0)})},AC=function(a){var b;return _.z(function(c){if(1==c.a)return a.trigger(new _.I(_.Xb)),b=a.b.a,b===a.a?c=c["return"]():b?c=_.x(c,b.release(),2):(c.a=2,c=void 0),
c;if(!a.b||!a.a)return c["return"]();_.$k(a.b,a.a);_.y(c)})};_.r=BB.prototype;_.r.release=function(){this.Z(_.ym)};_.r.destroy=function(){this.g=this.a=null;return Promise.resolve()};_.r.getState=function(){return this.c};_.r.onError=function(a){a.a===_.M&&this.Z(_.qk)};
_.r.Z=function(a){if(a!==this.c)if(this.c===_.qk&&a!==_.ym)this.log.debug("Player is in ERROR state and can not switch to",a);else{var b=Date.now();this.h=this.c;this.c=a;this.c===_.Cm?(this.l=b,this.a.trigger(new _.I(_.Ub,{detail:{bufferedTimeMS:-1,reason:this.f}}))):this.h===_.Cm&&this.a.trigger(new _.I(_.Tb,{detail:{bufferedTimeMS:b-this.l,reason:this.f}}));a={currentState:this.c,previousState:this.h,timeSinceLastStateChangeMS:b-this.m};this.m=b;this.g&&_.ck(this.g,this.c);this.a.trigger(new _.I(_.zd,
{detail:a}))}};CB.prototype.getCuePoints=function(){return this.a.map(function(a){return a.position})};CB.prototype.Yb=function(){return!!this.a.find(function(a){return 0===a.position})};CB.prototype.tb=function(){return!!this.a.find(function(a){return-1===a.position})};CB.prototype.hasPostroll=CB.prototype.tb;CB.prototype.hasPreroll=CB.prototype.Yb;CB.prototype.getCuePoints=CB.prototype.getCuePoints;_.r=Z.prototype;_.r.jb=function(){return"Google Cast Framework"};_.r.kb=function(){return cast.framework.VERSION};_.r.sb=function(){return 0};_.r.nb=function(){return this.a.contentId||""};_.r.getCreativeId=function(){return""};_.r.getApiFramework=function(){return null};_.r.getAdSystem=function(){return""};_.r.getAdvertiserName=function(){return""};_.r.getTitle=function(){return this.a.title||""};_.r.getDuration=function(){return this.a.duration||0};
_.r.getSkipTimeOffset=function(){return this.a.whenSkippable||0};_.r.tc=function(){return!1};_.r.Vb=function(){return this.a.clickThroughUrl||null};_.r.getMediaUrl=function(){return this.a.contentUrl||null};_.r.pb=function(){return 0};_.r.ob=function(){return 0};_.r.Ta=function(){return 0};_.r.qb=function(){switch(this.Wb()){case 0:return 0;case -1:return 2;default:return 1}};_.r.getPodIndex=function(){return this.c};_.r.Wb=function(){return this.b.position};_.r.Xb=function(){return this.f};
_.r.rb=function(){return this.g};_.r.getWrapperAdIds=function(){return[]};_.r.getWrapperAdSystems=function(){return[]};_.r.getWrapperCreativeIds=function(){return[]};Z.prototype.getWrapperCreativeIds=Z.prototype.getWrapperCreativeIds;Z.prototype.getWrapperAdSystems=Z.prototype.getWrapperAdSystems;Z.prototype.getWrapperAdIds=Z.prototype.getWrapperAdIds;Z.prototype.getSequenceLength=Z.prototype.rb;Z.prototype.getPositionInSequence=Z.prototype.Xb;Z.prototype.getPodTimeOffset=Z.prototype.Wb;
Z.prototype.getPodIndex=Z.prototype.getPodIndex;Z.prototype.getPodType=Z.prototype.qb;Z.prototype.getMediaBitrate=Z.prototype.Ta;Z.prototype.getMediaHeight=Z.prototype.ob;Z.prototype.getMediaWidth=Z.prototype.pb;Z.prototype.getMediaUrl=Z.prototype.getMediaUrl;Z.prototype.getClickThroughUrl=Z.prototype.Vb;Z.prototype.isBumper=Z.prototype.tc;Z.prototype.getSkipTimeOffset=Z.prototype.getSkipTimeOffset;Z.prototype.getDuration=Z.prototype.getDuration;Z.prototype.getTitle=Z.prototype.getTitle;
Z.prototype.getAdvertiserName=Z.prototype.getAdvertiserName;Z.prototype.getAdSystem=Z.prototype.getAdSystem;Z.prototype.getApiFramework=Z.prototype.getApiFramework;Z.prototype.getCreativeId=Z.prototype.getCreativeId;Z.prototype.getId=Z.prototype.nb;Z.prototype.getTechnology=Z.prototype.sb;Z.prototype.getAdManagerVersion=Z.prototype.kb;Z.prototype.getAdManagerName=Z.prototype.jb;_.r=EB.prototype;_.r.load=function(){return _.z(function(a){_.y(a)})};_.r.start=function(){return _.z(function(a){DB().play();_.y(a)})};_.r.resume=function(){-1!==this.getPosition()&&DB().play()};_.r.pause=function(){-1!==this.getPosition()&&DB().pause()};_.r.skip=function(){};_.r.getVolume=function(){return this.b.getVolume()||0};_.r.setVolume=function(a){this.b.setVolume(a)};_.r.getPosition=function(){var a=this.a&&this.a.getBreakClipCurrentTimeSec();return typeof a===_.Wc?a:-1};
_.r.dispose=function(){DB().removeEventListener(this.c,this.f)};
_.r.ig=function(a){var b=cast.framework.events.EndedReason;switch(a.type){case cast.framework.events.EventType.PLAYER_LOADING:this.a=DB().getBreakManager();a=this.a.getBreaks();this.b.trigger(new _.I(_.vb,{adsTimeline:new CB(a)}));break;case cast.framework.events.EventType.BREAK_STARTED:IB(this,_.bb,a);break;case cast.framework.events.EventType.BREAK_ENDED:IB(this,_.cb,a);break;case cast.framework.events.EventType.BREAK_CLIP_STARTED:IB(this,_.qb,a);break;case cast.framework.events.EventType.BREAK_CLIP_ENDED:a.endedReason===
b.SKIPPED?IB(this,_.pb,a):a.endedReason===b.STOPPED?IB(this,_.rb,a):a.endedReason===b.END_OF_STREAM&&IB(this,_.fb,a);break;case cast.framework.events.EventType.PLAYING:IB(this,_.ob,a);break;case cast.framework.events.EventType.PAUSE:IB(this,_.mb,a);break;case cast.framework.events.EventType.BUFFERING:a.isBuffering&&IB(this,_.db,a)}};EB.prototype.getPosition=EB.prototype.getPosition;EB.prototype.setVolume=EB.prototype.setVolume;EB.prototype.getVolume=EB.prototype.getVolume;EB.prototype.skip=EB.prototype.skip;
EB.prototype.pause=EB.prototype.pause;EB.prototype.resume=EB.prototype.resume;_.w(MB,BB);_.r=MB.prototype;_.r.init=function(){var a=cast.framework.events.EventType,b=cast.framework.CastReceiverContext.getInstance().getPlayerManager();b.addEventListener(a.PLAYING,this.v);b.addEventListener(a.PAUSE,this.u);b.addEventListener(a.ENDED,this.i);b.addEventListener(a.BUFFERING,this.b);b.addEventListener(a.SEEKING,this.A);b.addEventListener(a.SEEKED,this.w);b.addEventListener(a.STALLED,this.C);b.addEventListener(a.PLAYER_LOADING,this.o);b.addEventListener(a.ERROR,this.j)};
_.r.destroy=function(){var a=this,b,c;return _.z(function(d){b=cast.framework.events.EventType;c=cast.framework.CastReceiverContext.getInstance().getPlayerManager();c.removeEventListener(b.PLAYING,a.v);c.removeEventListener(b.PAUSE,a.u);c.removeEventListener(b.ENDED,a.i);c.removeEventListener(b.BUFFERING,a.b);c.removeEventListener(b.SEEKING,a.A);c.removeEventListener(b.SEEKED,a.w);c.removeEventListener(b.STALLED,a.C);c.removeEventListener(b.PLAYER_LOADING,a.o);c.removeEventListener(b.ERROR,a.j);return _.x(d,
BB.prototype.destroy.call(a),0)})};_.r.eg=function(){this.Z(_.el)};_.r.dg=function(){this.Z(_.Jm)};_.r.mi=function(){this.Z(_.Em)};_.r.fi=function(a){a.isBuffering?this.Z(_.Cm):(a=this.a.isPaused()?_.Jm:_.el,this.Z(a))};_.r.gg=function(){this.f=1;this.a.trigger(new _.I(_.Td))};_.r.fg=function(){this.a.trigger(new _.I(_.Sd))};_.r.hg=function(){this.f=2};_.r.pi=function(){this.Z(_.Mn)};
_.r.cg=function(a){a=new _.K(_.M,7,7300,{detailedErrorCode:a.detailedErrorCode,error:a.error,reason:a.reason});this.a.trigger(new _.I(_.zc,{detail:a}));this.Z(_.qk)};_.w(NB,_.U);_.r=NB.prototype;_.r.Sa=function(a){this.f=a;OB().addEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.i)};_.r.release=function(){this.g=[];this.h=[];this.a=this.b=null};_.r.load=function(){};_.r.destroy=function(){this.f=null;OB().removeEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.i)};_.r.getVideoTracks=function(){return[]};_.r.getAudioTracks=function(){return this.g};_.r.U=function(){return this.h};_.r.V=function(){return null};
_.r.ma=function(){var a=this.ba();return a&&a.renditions[0]};_.r.fa=function(){var a=this.ca();return a&&a.renditions[0]};_.r.Ca=function(){return null};_.r.Aa=function(){return null};_.r.Ba=function(){return null};_.r.ga=function(){return null};_.r.ba=function(){var a=null;if(this.b){var b=this.b.getActiveId();typeof b===_.Wc&&(b=b.toString(),a=this.getAudioTracks().find(function(c){return c.id===b})||null)}return a};
_.r.ca=function(){var a=null;if(this.a){var b=this.a.getActiveIds()[0];typeof b===_.Wc&&(b=b.toString(),a=this.U().find(function(c){return c.id===b})||null)}return a};_.r.ya=function(){this.c.warn("Video tracks unavailable on Cast")};_.r.ia=function(a){a&&this.b&&this.b.setActiveById(+a.id)};_.r.ja=function(a){this.a&&(a?this.a.setActiveByIds([+a.id]):this.a.setActiveByIds([]))};_.r.xa=function(){this.c.warn("Video renditions unavailable on Cast")};_.r.Ea=function(a){this.ia(a&&a.track)};
_.r.Fa=function(a){this.ja(a&&a.track)};
_.r.addTextTrack=function(a){var b=this,c,d;return _.z(function(e){if(1==e.a)return _.x(e,LB(a,Object.values(cast.framework.messages.CaptionMimeType),b.f.getNetworkEngine()),2);if((c=e.b)&&b.a){d=new cast.framework.messages.Track(b.j++,cast.framework.messages.TrackType.TEXT);d.isInBand=!1;d.language=c.language;d.name=c.label;d.subtype=c.kind;d.trackContentId=c.url;d.trackContentType=c.mimeType;d.customData={mimeType:a.mimeType,url:a.url};try{b.a.addTracks([d]),QB(b)}catch(f){throw b.c.warn("failed on track",
a),f;}}_.y(e)})};_.r.na=function(){return!0};_.r.Hi=function(){this.b=OB().getAudioTracksManager();var a=this.b.getTracks();this.g=PB(_.S,a);QB(this);a=this.f.getConfiguration();RB(this,_.S,a.preferredAudioLanguage,a.preferredAudioRole);RB(this,_.R,a.preferredTextLanguage,a.preferredTextRole)};NB.prototype.isAbrEnabled=NB.prototype.na;NB.prototype.addTextTrack=NB.prototype.addTextTrack;NB.prototype.setTextRendition=NB.prototype.Fa;NB.prototype.setAudioRendition=NB.prototype.Ea;
NB.prototype.setVideoRendition=NB.prototype.xa;NB.prototype.setTextTrack=NB.prototype.ja;NB.prototype.setAudioTrack=NB.prototype.ia;NB.prototype.setVideoTrack=NB.prototype.ya;NB.prototype.getTextTrack=NB.prototype.ca;NB.prototype.getAudioTrack=NB.prototype.ba;NB.prototype.getVideoTrack=NB.prototype.ga;NB.prototype.getLoadingTextRendition=NB.prototype.Ba;NB.prototype.getLoadingAudioRendition=NB.prototype.Aa;NB.prototype.getLoadingVideoRendition=NB.prototype.Ca;NB.prototype.getTextRendition=NB.prototype.fa;
NB.prototype.getAudioRendition=NB.prototype.ma;NB.prototype.getVideoRendition=NB.prototype.V;NB.prototype.getTextTracks=NB.prototype.U;NB.prototype.getAudioTracks=NB.prototype.getAudioTracks;NB.prototype.getVideoTracks=NB.prototype.getVideoTracks;_.w(SB,_.bf);_.r=SB.prototype;_.r.init=function(a,b){this.j=a;b&&(this.c=this.g=b);TB().setMediaPlaybackInfoHandler(this.ih.bind(this));this.a=new MB(this);this.a.init();this.f=new NB;this.f.Sa(this)};_.r.unload=function(){var a=TB();a.getPlayerState()!==cast.framework.messages.PlayerState.IDLE&&a.stop();this.f&&this.f.release();this.b=null;return Promise.resolve()};_.r.release=function(){var a=this;return this.unload().then(function(){a.a&&a.a.release()})};
_.r.destroy=function(){var a=this;return _.z(function(b){if(1==b.a)return a.j=null,a.g=_.Kg(),a.c=a.g,a.h=0,a.i=[],a.a?b=_.x(b,a.a.destroy(),3):(b.a=2,b=void 0),b;2!=b.a&&(a.a=null);a.f&&(a.f.destroy(),a.f=null);_.y(b)})};_.r.play=function(){var a=TB();if(null!==a.getBreakManager().getBreakClipCurrentTimeSec())return Promise.reject(pB);a.play();return Promise.resolve()};_.r.pause=function(){var a=TB();if(null!==a.getBreakManager().getBreakClipCurrentTimeSec())return Promise.reject(oB);a.pause();return Promise.resolve()};
_.r.isPaused=function(){return TB().getPlayerState()===cast.framework.messages.PlayerState.PAUSED};_.r.isEnded=function(){return TB().getPlayerState()===cast.framework.messages.PlayerState.IDLE};_.r.seek=function(a){var b=TB();if(null!==b.getBreakManager().getBreakClipCurrentTimeSec())return Promise.reject(qB);b.seek(a);return Promise.resolve()};_.r.getPosition=function(){return TB().getCurrentTimeSec()};_.r.getDuration=function(){return TB().getDurationSec()};_.r.getPlaybackRate=function(){return TB().getPlaybackRate()};
_.r.setPlaybackRate=function(a){if(0<a){var b=new cast.framework.messages.SetPlaybackRateRequestData;b.playbackRate=a;TB().sendLocalMediaRequest(b)}};_.r.getVolume=function(){return cast.framework.CastReceiverContext.getInstance().getSystemVolume().level||null};_.r.setVolume=function(a){0<=a&&1>=a&&cast.framework.CastReceiverContext.getInstance().setSystemVolumeLevel(a)};_.r.setMuted=function(a){cast.framework.CastReceiverContext.getInstance().setSystemVolumeMuted(a)};
_.r.isMuted=function(){return cast.framework.CastReceiverContext.getInstance().getSystemVolume().muted||null};_.r.getLoadedSource=function(){var a=TB().getMediaInformation();if(a){var b=TB().getPlaybackConfig();return{url:a.contentId,type:a.contentType,Tb:!!b&&b.protectionSystem!==cast.framework.ContentProtection.NONE}}return null};_.r.getDrmInfo=function(){return null};_.r.getPresentationStartTime=function(){var a=TB().getMediaInformation();return a?a.startAbsoluteTime||0:0};
_.r.getSeekRange=function(){var a={start:0,end:this.getDuration()};if(this.isLive()){var b=TB().getLiveSeekableRange();b&&typeof b.start===_.Wc&&typeof b.end===_.Wc&&(a={start:b.start,end:b.end})}return a};_.r.getState=function(){return this.a?this.a.getState():_.zm};
_.r.getStats=function(){var a=_.ik();if(this.b){a=TB().getStats();this.b.h=a.estimatedBandwidth||NaN;this.b.l=a.streamBandwidth||NaN;var b=this.b,c=a.height||NaN;b.c=a.width||NaN;b.b=c;b=this.b;c=typeof a.decodedFrames===_.Wc?a.decodedFrames:NaN;b.g=typeof a.droppedFrames===_.Wc?a.droppedFrames:NaN;b.f=c;a=this.b.getStats()}return a};_.r.isLive=function(){return-1===this.getDuration()};
_.r.load=function(a){var b=this,c,d;return _.z(function(e){b.b=new _.hk;b.a.g=b.b.a;b.i=_.Gk(a);_.Og(a)&&(b.c=_.Ng(b.g,a));if(b.l)return b.l=!1,e["return"]();c=b.i[b.h];d=new cast.framework.messages.LoadRequestData;d.autoplay=b.c.autoplay;typeof b.c.startTime===_.Wc&&(d.currentTime=b.c.startTime);c.type&&(d.media.contentType=c.type);d.media.contentId=c.url;d.media.customData={playerConfiguration:JB(b.c),local:!0};return _.x(e,TB().load(d),0)})};_.r.getBufferInfo=function(){this.o.warn(_.ka);return new _.Le};
_.r.getTrackManager=function(){return this.f};_.r.getConfiguration=function(){return this.c};_.r.getSurface=function(){return this.j};_.r.setNetworkEngine=function(a){this.m=a};_.r.getNetworkEngine=function(){return this.m};_.r.getSourceIndex=function(){return this.h};_.r.setSourceIndex=function(a){this.h=a};_.r.getThumbnailStreams=function(){return[]};_.r.namespace=function(){return xB};_.r.getTimelineCues=function(){return[]};_.r.onError=function(){};_.r.canPlay=function(){return _.mg("CrKey")};
_.r.ih=function(a,b){function c(){b.protectionSystem=cast.framework.ContentProtection.NONE;b.licenseUrl=void 0;b.licenseRequestHandler=void 0;b.licenseHandler=void 0}var d;a.media.customData&&(d=KB(a.media.customData.playerConfiguration));if(!d||!d.drm)return c(),b;var e=d.drm,f=_.rh(e);if(!f)return c(),b;var g=[_.lh,_.nh];e.preferredDrmSystem===_.nh&&g.reverse();for(var h,l;g.length&&!l;)h=g.shift(),l=f.Ga[h];if(!l)return c(),b;e=h===_.lh?cast.framework.ContentProtection.WIDEVINE:h===_.nh?cast.framework.ContentProtection.PLAYREADY:
void 0;b.protectionSystem=e;b.licenseUrl=l.licenseUrl;UB(b,l,d);VB(b,l,d);return b};SB.prototype.getNetworkEngine=SB.prototype.getNetworkEngine;SB.prototype.setNetworkEngine=SB.prototype.setNetworkEngine;_.r=WB.prototype;_.r.init=function(a){a&&(this.c=new SB,_.$k(a,this.c),this.a=a)};
_.r.start=function(){if(!this.b&&window.cast&&cast.framework&&cast.framework.CastReceiverContext){this.b=!0;var a=cast.framework.CastReceiverContext.getInstance(),b=a.getPlayerManager(),c=new cast.framework.CastReceiverOptions;c.customNamespaces={};c.customNamespaces[zB]=cast.framework.system.MessageType.JSON;var d=new cast.framework.PlaybackConfig;d.manifestHandler=this.Qh.bind(this);c.playbackConfig=d;if(d=this.a&&this.a.getSurface().D())c.mediaElement=d;b.setMessageInterceptor(cast.framework.messages.MessageType.LOAD,
this.Ph.bind(this));b.addEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.i);a.start(c);a.addCustomMessageListener(zB,this.h)}};_.r.stop=function(){if(this.b){this.b=!1;var a=cast.framework.CastReceiverContext.getInstance();a.getPlayerManager().removeEventListener(cast.framework.events.EventType.PLAYER_LOAD_COMPLETE,this.i);a.removeCustomMessageListener(zB,this.h);a.stop();this.a=this.c=null}};
_.r.on=function(a,b){cast.framework.CastReceiverContext.getInstance().addEventListener(a,b)};_.r.off=function(a,b){cast.framework.CastReceiverContext.getInstance().removeEventListener(a,b)};_.r.addMessageListener=function(a){typeof a===_.Cc&&this.f.add(a)};_.r.removeMessageListener=function(a){typeof a===_.Cc&&this.f["delete"](a)};_.r.sendMessage=function(a,b){cast.framework.CastReceiverContext.getInstance().sendCustomMessage(zB,b,JB(a))};_.r.wb=function(){return this.b};
_.r.Qh=function(a){a=a.trim();if(a.startsWith("#EXTM3U"))return $B(this,a);try{var b=(new DOMParser).parseFromString(a,_.Gd)}catch(t){return a}var c=b.getElementsByTagName("MPD")[0];if(c){a=c;this.g.debug("Detected DASH, parsing");b=cast.framework.CastReceiverContext.getInstance();c=a.getElementsByTagName("Period");for(var d=c.length-1;0<=d;--d){for(var e=c[d].getElementsByTagName(_.ha),f=e.length-1;0<=f;--f){var g=e[f].getAttribute("contentType");if(g===_.Xd||g===_.Ib){g=e[f].getAttribute(_.Uc);
for(var h=e[f].getElementsByTagName(_.Oa),l=h.length-1;0<=l;--l){var m=h[l].getAttribute(_.Uc)||g,n=h[l].getAttribute(_.hc),p=h[l].getAttribute(_.he)||void 0,q=h[l].getAttribute(_.Dc)||void 0;void 0!==p&&(p=+p);void 0!==q&&(q=+q);b.canDisplayType(m,n,p,q)||e[f].removeChild(h[l])}e[f].getElementsByTagName(_.Oa).length||c[d].removeChild(e[f])}}c[d].getElementsByTagName(_.ha).length||a.removeChild(c[d])}return(new XMLSerializer).serializeToString(a)}if(c=b.getElementsByTagName(_.Ua)[0]){a=c;this.g.debug("Detected Smooth, parsing");
b=cast.framework.CastReceiverContext.getInstance();c=a.getElementsByTagName("StreamIndex");for(d=c.length-1;0<=d;--d)if(c[d].getAttribute("Type")===_.Xd){e=c[d].getElementsByTagName(_.Ka);for(f=e.length-1;0<=f;--f)g=e[f].getAttribute(_.ya)||void 0,h=e[f].getAttribute(_.xa)||void 0,void 0!==g&&(g=+g),void 0!==h&&(h=+h),b.canDisplayType(_.Zd,void 0,g,h)||c[d].removeChild(e[f]);c[d].getElementsByTagName(_.Ka).length||a.removeChild(c[d])}a=(new XMLSerializer).serializeToString(a)}return a};
_.r.Ph=function(a){var b=this,c,d;return _.z(function(e){switch(e.a){case 1:a.media.customData&&(c=KB(a.media.customData.playerConfiguration));if(!b.a||!c){e.a=2;break}if(!c.ima){e.a=3;break}return _.x(e,GB(a.media,c.ima,b.a.getNetworkEngine()),3);case 3:if(a.media.customData.local){e.a=2;break}b.c.l=!0;a.autoplay&&(a.autoplay=!1,c.autoplay=!0);return _.x(e,_.dl(b.a,c),6);case 6:return _.x(e,_.fl(b.a),7);case 7:d=b.a.getLoadedSource(),a.media.contentId=d.url,a.media.contentType=d.type;case 2:return e["return"](a)}})};
_.r.oi=function(a){this.a&&!a.media.customData.local&&_.gl(this.a)};_.r.bg=function(a){if(0<this.f.size){var b=KB(a.data);this.f.forEach(function(c){return c(b)})}};_.B(yB,WB);WB.prototype.isApiReady=WB.prototype.wb;WB.prototype.sendMessage=WB.prototype.sendMessage;WB.prototype.removeMessageListener=WB.prototype.removeMessageListener;WB.prototype.addMessageListener=WB.prototype.addMessageListener;WB.prototype.off=WB.prototype.off;WB.prototype.on=WB.prototype.on;WB.prototype.stop=WB.prototype.stop;
WB.prototype.start=WB.prototype.start;WB.prototype.init=WB.prototype.init;WB.getInstance=YB;var XB=null;aC.prototype.name=function(){return"clpp.cast.ads.AdsManagerFactory"};aC.prototype.da=function(a,b){return YB().wb()?!(!b||!b.ima):!1};aC.prototype.create=function(a){return new EB(a)};aC.prototype.create=aC.prototype.create;aC.prototype.isSupported=aC.prototype.da;aC.prototype.name=aC.prototype.name;_.eh(new aC);_.w(bC,BB);bC.prototype.init=function(){var a=this.a,b=a.a;b&&(this.b&&this.b.removeUpdateListener(this.j),this.b=b,this.b.addUpdateListener(this.j),this.i=a.f)};bC.prototype.destroy=function(){var a=this;return _.z(function(b){a.b&&(a.b.removeUpdateListener(a.j),a.b=null);return _.x(b,BB.prototype.destroy.call(a),0)})};bC.prototype.Z=function(a){var b=this.a.f;b&&b.isPlayingBreak||BB.prototype.Z.call(this,a)};
bC.prototype.o=function(a){if(a&&this.b&&this.i&&!this.i.isPlayingBreak)switch(this.b.playerState){case chrome.cast.media.PlayerState.IDLE:this.Z(_.Em);break;case chrome.cast.media.PlayerState.PLAYING:this.Z(_.el);break;case chrome.cast.media.PlayerState.PAUSED:this.Z(_.Jm);break;case chrome.cast.media.PlayerState.BUFFERING:this.Z(_.Cm)}};_.w(cC,_.U);_.r=cC.prototype;_.r.Sa=function(a){this.a=a};_.r.release=function(){this.c=[];this.b={}};
_.r.load=function(){this.release();var a=this.a.a;a&&(a=a.media)&&(this.c=(a=a.tracks)?a.map(function(b){switch(b.type){case chrome.cast.media.TrackType.VIDEO:var c=_.qj;break;case chrome.cast.media.TrackType.AUDIO:c=_.S;break;case chrome.cast.media.TrackType.TEXT:c=_.R}c=new _.nj(b.trackId.toString(),c);c.kind=b.subtype;c.language=b.language;c.label=b.name;c.src=b.trackContentId;c.mimeType=b.trackContentType;b.customData&&(c.src=b.customData.url||c.src,c.mimeType=b.customData.mimeType||c.mimeType);
c.renditions.push(new _.oj(c.id,c));return c}):[],this.a.trigger(new _.I(_.Nd)))};_.r.destroy=function(){this.a=null};_.r.getVideoTracks=function(){return eC(this,_.qj)};_.r.getAudioTracks=function(){return eC(this,_.S)};_.r.U=function(){return eC(this,_.R)};_.r.V=function(){var a=this.ga();return a?a.renditions[0]:null};_.r.ma=function(){var a=this.ba();return a?a.renditions[0]:null};_.r.fa=function(){var a=this.ca();return a?a.renditions[0]:null};_.r.Ca=function(){return this.b[_.qj]||null};
_.r.Aa=function(){return this.b[_.S]||null};_.r.Ba=function(){return this.b[_.R]||null};_.r.ga=function(){return fC(this,_.qj)};_.r.ba=function(){return fC(this,_.S)};_.r.ca=function(){return fC(this,_.R)};_.r.ya=function(a){hC(this,_.qj,a)};_.r.ia=function(a){hC(this,_.S,a)};_.r.ja=function(a){hC(this,_.R,a)};_.r.xa=function(a){this.ya(a&&a.track)};_.r.Ea=function(a){this.ia(a&&a.track)};_.r.Fa=function(a){this.ja(a&&a.track)};_.r.addTextTrack=function(){return _.z(function(a){_.y(a)})};_.r.na=function(){return!0};
cC.prototype.isAbrEnabled=cC.prototype.na;cC.prototype.addTextTrack=cC.prototype.addTextTrack;cC.prototype.setTextRendition=cC.prototype.Fa;cC.prototype.setAudioRendition=cC.prototype.Ea;cC.prototype.setVideoRendition=cC.prototype.xa;cC.prototype.setTextTrack=cC.prototype.ja;cC.prototype.setAudioTrack=cC.prototype.ia;cC.prototype.setVideoTrack=cC.prototype.ya;cC.prototype.getTextTrack=cC.prototype.ca;cC.prototype.getAudioTrack=cC.prototype.ba;cC.prototype.getVideoTrack=cC.prototype.ga;
cC.prototype.getLoadingTextRendition=cC.prototype.Ba;cC.prototype.getLoadingAudioRendition=cC.prototype.Aa;cC.prototype.getLoadingVideoRendition=cC.prototype.Ca;cC.prototype.getTextRendition=cC.prototype.fa;cC.prototype.getAudioRendition=cC.prototype.ma;cC.prototype.getVideoRendition=cC.prototype.V;cC.prototype.getTextTracks=cC.prototype.U;cC.prototype.getAudioTracks=cC.prototype.getAudioTracks;cC.prototype.getVideoTracks=cC.prototype.getVideoTracks;_.w(lC,_.bf);_.r=lC.prototype;_.r.init=function(a,b){this.i=this.w=b};_.r.unload=function(){this.c&&this.c.release();return Promise.resolve()};_.r.release=function(){var a=this;return this.unload().then(function(){a.b&&a.b.release()})};_.r.destroy=function(){return _.z(function(a){_.y(a)})};_.r.wb=function(){return this.j};_.r.Da=function(){return this.l};_.r.Dd=function(){return this.W};
_.r.sendMessage=function(a,b){var c=this,d,e,f;return _.z(function(g){switch(g.a){case 1:e=cast.framework.CastContext.getInstance().getCurrentSession();if(!e){d=sC(8004);g.a=2;break}g.c=3;return _.x(g,e.sendMessage(a,JB(b)),5);case 5:_.Be(g,2);break;case 3:f=_.Ce(g),d=sC(8E3,{detailedErrorCode:f});case 2:if(d)c.onError(d);_.y(g)}})};
_.r.cast=function(){var a=this,b;return _.z(function(c){if(1==c.a){if(!a.wb())throw a.g.warn(uB),sC(8001);if(!nC)throw a.g.warn(tB),sC(8002);if(a.Da())throw a.g.warn("Already casting"),sC(8003);c.c=2;return _.x(c,qC(a),4)}if(2!=c.a)return _.Be(c,0);b=_.Ce(c);throw sC(8E3,{detailedErrorCode:b.code,details:b.details,reason:b.description});})};_.r.yd=function(){this.Da()&&cast.framework.CastContext.getInstance().endCurrentSession(!0)};_.r.addMessageListener=function(a){typeof a===_.Cc&&this.o.add(a)};
_.r.removeMessageListener=function(a){typeof a===_.Cc&&this.o["delete"](a)};_.r.play=function(){var a=this;return new Promise(function(b,c){a.a||c(sB);a.f.isPlayingBreak&&c(pB);a.a.play(null,b,c)})};_.r.pause=function(){var a=this;return new Promise(function(b,c){a.a||c(sB);a.f.isPlayingBreak&&c(oB);a.a.pause(null,b,c)})};_.r.isPaused=function(){return!!this.a&&this.a.playerState===chrome.cast.media.PlayerState.PAUSED};_.r.isEnded=function(){return!!this.a&&this.a.playerState===chrome.cast.media.PlayerState.IDLE};
_.r.seek=function(a){var b=this;return new Promise(function(c,d){b.a||d(sB);b.f.isPlayingBreak&&d(qB);var e=new chrome.cast.media.SeekRequest;e.currentTime=a;b.trigger(new _.I(_.Td));b.a.seek(e,function(){b.trigger(new _.I(_.Sd));c()},d)})};_.r.getPosition=function(){return this.a&&this.a.getEstimatedTime()||0};_.r.getDuration=function(){return this.a&&this.a.media&&typeof this.a.media.duration===_.Wc?this.a.media.duration:0};_.r.getPlaybackRate=function(){return this.a&&this.a.playbackRate||0};
_.r.setPlaybackRate=function(a){this.a&&0<a&&this.sendMessage(AB,{type:"SET_PLAYBACK_RATE",requestId:Math.round(1E3*Math.random()),mediaSessionId:this.a.mediaSessionId,playbackRate:a})};_.r.getVolume=function(){return this.a&&this.a.volume.level};_.r.setVolume=function(a){this.a&&0<=a&&1>=a&&(a=new chrome.cast.media.VolumeRequest(new chrome.cast.Volume(a)),this.a.setVolume(a))};_.r.isMuted=function(){return this.a&&this.a.volume.muted};
_.r.setMuted=function(a){this.a&&(a=new chrome.cast.media.VolumeRequest(new chrome.cast.Volume(void 0,a)),this.a.setVolume(a))};_.r.getPresentationStartTime=function(){return this.a&&this.a.media.startAbsoluteTime||0};_.r.getSeekRange=function(){var a={start:0,end:this.getDuration()};if(this.isLive()){var b=this.a.getEstimatedLiveSeekableRange();b&&typeof b.start===_.Wc&&typeof b.end===_.Wc&&(a={start:b.start,end:b.end})}return a};_.r.getState=function(){return this.b?this.b.getState():_.zm};
_.r.getStats=function(){return _.ik()};_.r.isLive=function(){return this.a&&this.a.media.streamType===chrome.cast.media.StreamType.LIVE||!1};_.r.load=function(a){var b=this,c,d;return _.z(function(e){if(!b.wb())return b.g.warn(uB),e["return"]();if(!nC)return b.g.warn(tB),e["return"]();b.C=_.Gk(a);_.Og(a)&&(b.i=_.Ng(b.w,a));c=b.C[b.m];d={source:c,isLive:c.isLive,autoplay:b.i.autoplay,ac:b.i};return _.x(e,rC(b,d),0)})};_.r.getBufferInfo=function(){return new _.Le};_.r.getTrackManager=function(){return this.c};
_.r.getConfiguration=function(){return this.i};_.r.getSurface=function(){return null};_.r.setNetworkEngine=function(a){this.A=a};_.r.getNetworkEngine=function(){return this.A};_.r.getSourceIndex=function(){return this.m};_.r.setSourceIndex=function(a){this.m=a};_.r.getLoadedSource=function(){return this.C[this.m]};_.r.getThumbnailStreams=function(){return[]};_.r.getDrmInfo=function(){return null};_.r.getTimelineCues=function(){return[]};
_.r.onError=function(a){if(a&&(this.trigger(new _.I(_.zc,{detail:a})),this.b))this.b.onError(a)};_.r.namespace=function(){return _.bc};_.r.canPlay=function(){return this.wb()};_.r.hi=function(a){var b=cast.framework.CastContext.getInstance(),c=a.castState===cast.framework.CastState.CONNECTED;nC=a.castState!==cast.framework.CastState.NO_DEVICES_AVAILABLE;this.W=c?b.getCurrentSession().getCastDevice().friendlyName:"";this.h.be()};
_.r.zi=function(a){this.g.debug("state: "+a.sessionState+", details:",a);switch(a.sessionState){case cast.framework.SessionState.SESSION_STARTED:this.l=!0;pC(this,a.session);break;case cast.framework.SessionState.SESSION_RESUMED:this.Da()||(pC(this,a.session),this.S());break;case cast.framework.SessionState.SESSION_ENDED:if(this.Da()){var b=this.a.media,c=this.c.ba(),d=this.c.ca();c=c&&c.language||void 0;d=d&&d.language||void 0;this.M({source:{url:b.contentId,type:b.contentType,isLive:b.streamType===
chrome.cast.media.StreamType.LIVE},currentTime:this.getPosition(),zf:d,je:c})}a.session.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.R);a.session.removeMessageListener(zB,this.I);this.l=!1;this.a=null;this.v.release();this.f=this.u=null}};_.r.ri=function(a){this.g.debug("New media session",a.mediaSession);oC(this,a.mediaSession)};_.r.li=function(a,b){if(a===zB&&0<this.o.size){var c=KB(b);this.o.forEach(function(d){return d(c)})}};
_.r.ag=function(a){this.trigger(new _.I(_.Md,{currentTime:a.value}))};_.r.jh=function(a){var b=this,c,d;return _.z(function(e){if(1==e.a)return c=null,_.x(e,LB(a,[_.Fd,_.Cb],b.A),2);if(d=e.b)c=new chrome.cast.media.Track(b.qa++,chrome.cast.media.TrackType.TEXT),c.language=d.language,c.name=d.label||null,c.trackContentId=d.url,c.trackContentType=d.mimeType,c.customData={mimeType:a.mimeType,url:a.url};return e["return"](c)})};lC.prototype.getNetworkEngine=lC.prototype.getNetworkEngine;
lC.prototype.setNetworkEngine=lC.prototype.setNetworkEngine;var nC=!1,kC=new Set;window.__onGCastApiAvailable=iC;_.r=tC.prototype;_.r.load=function(){var a=this,b,c,d,e,f;return _.z(function(g){a.a=a.b.f;if(a.a)for(b=a.a.controller,c=a.Bi.bind(a),d=_.v(a.f),e=d.next();!e.done;e=d.next())f=e.value,a.c.on(b,f,c);_.y(g)})};_.r.start=function(){return _.z(function(a){_.y(a)})};_.r.resume=function(){this.a&&this.a.isPlayingBreak&&this.a.isPaused&&this.a.controller.playOrPause()};_.r.pause=function(){this.a&&this.a.isPlayingBreak&&!this.a.isPaused&&this.a.controller.playOrPause()};
_.r.skip=function(){var a=this.b.a;a&&this.b.sendMessage(AB,{type:"SKIP_AD",requestId:Math.round(1E3*Math.random()),mediaSessionId:a.mediaSessionId})};_.r.getVolume=function(){return this.b.getVolume()||0};_.r.setVolume=function(a){this.b.setVolume(a)};_.r.getPosition=function(){var a=-1,b=this.b.a;b&&(b=b.getEstimatedBreakClipTime(),typeof b===_.Wc&&(a=b));return a};_.r.dispose=function(){this.c.release()};
_.r.Bi=function(a){switch(a.field){case "mediaInfo":a.value&&(a=a.value,a.breaks&&this.b.trigger(new _.I(_.vb,{adsTimeline:new CB(a.breaks)})));break;case "isPlayingBreak":a.value?vC(this,_.bb):(vC(this,_.fb),vC(this,_.cb));break;case "currentBreakClipNumber":0<=a.value&&(0<a.value&&vC(this,_.fb),vC(this,_.qb));break;case "isPaused":this.a.isPlayingBreak&&(a.value?vC(this,_.mb):vC(this,_.ob))}};tC.prototype.getPosition=tC.prototype.getPosition;tC.prototype.setVolume=tC.prototype.setVolume;
tC.prototype.getVolume=tC.prototype.getVolume;tC.prototype.skip=tC.prototype.skip;tC.prototype.pause=tC.prototype.pause;tC.prototype.resume=tC.prototype.resume;wC.prototype.name=function(){return"clpp.cast.ads.SenderAdsManagerFactory"};wC.prototype.da=function(a,b){return a.namespace()!==_.bc?!1:!(!b||!b.ima)};wC.prototype.create=function(a){return new tC(a.a)};wC.prototype.create=wC.prototype.create;wC.prototype.isSupported=wC.prototype.da;wC.prototype.name=wC.prototype.name;_.eh(new wC);_.w(yC,_.bf);_.r=yC.prototype;_.r.destroy=function(){var a=this;return _.z(function(b){if(1==b.a)return a.a?b=_.x(b,mC(a.a),3):(b.a=2,b=void 0),b;2!=b.a&&(a.a=null);a.removeDelegate(a.b);_.y(b)})};_.r.sd=function(){return!!this.a&&this.a.wb()&&nC};_.r.Da=function(){return!!this.a&&this.a.Da()};_.r.Dd=function(){return this.a?this.a.Dd():""};
_.r.cast=function(){var a=this,b,c;return _.z(function(d){switch(d.a){case 1:if(!a.a)return d["return"]();var e=null,f=a.b.getLoadedSource();if(f){var g=a.b.getTrackManager();e=g.getVideoTracks()[0];if(e&&e.mimeType)var h=e.mimeType;e=a.b.getConfiguration();var l=g.ba();l&&(l.language&&(e.preferredAudioLanguage=l.language),l.roles.length&&(e.preferredAudioRole=l.roles[0]));if(g=g.ca())g.language&&(e.preferredTextLanguage=g.language),g.roles.length&&(e.preferredTextRole=g.roles[0]);g=f&&typeof f.isLive===
_.Sb?f.isLive:a.b.isLive();e={source:f,isLive:g,autoplay:!a.b.isPaused(),currentTime:a.b.getPosition(),Xi:h,ac:e}}b=e;d.c=2;return _.x(d,a.a.cast(),4);case 4:return a.b&&a.a?_.x(d,AC(a),5):d["return"]();case 5:if(!a.a)return d["return"]();if(a.a.a){d.a=6;break}return _.x(d,rC(a.a,b),6);case 6:_.Be(d,0);break;case 2:c=_.Ce(d);a.c.error("Error while trying to cast",c);if(a.b)a.b.onError(c);_.y(d)}})};_.r.yd=function(){this.a&&this.a.yd()};
_.r.Xf=function(a){var b=this;return _.z(function(c){if(1==c.a){if(a===b.f)return c["return"]();b.f=a;b.a?c=_.x(c,mC(b.a),2):(c.a=2,c=void 0);return c}b.a=xC(b);_.y(c)})};_.r.sendMessage=function(a){var b=this;return _.z(function(c){return b.a?_.x(c,b.a.sendMessage(zB,a),0):(b.c.warn(vB),c["return"]())})};_.r.addMessageListener=function(a){this.a?this.a.addMessageListener(a):this.c.warn(vB)};_.r.removeMessageListener=function(a){this.a?this.a.removeMessageListener(a):this.c.warn(vB)};_.B(wB,yC);
yC.prototype.removeMessageListener=yC.prototype.removeMessageListener;yC.prototype.addMessageListener=yC.prototype.addMessageListener;yC.prototype.sendMessage=yC.prototype.sendMessage;yC.prototype.changeReceiverId=yC.prototype.Xf;yC.prototype.forceDisconnect=yC.prototype.yd;yC.prototype.cast=yC.prototype.cast;yC.prototype.getReceiverName=yC.prototype.Dd;yC.prototype.isCasting=yC.prototype.Da;yC.prototype.canCast=yC.prototype.sd;yC.prototype.destroy=yC.prototype.destroy;};f.call(g, window);