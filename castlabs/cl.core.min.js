(function(){var g={}; var _ = {};
(function(window){var aa,ca,da,ea,ja,ma,na,oa,pa,ra,sa,ta,ua,Ba,Da,Ea,Ia,La,Pa,Qa,Ta,Va,Wa,Za,$a,ub,Bb,Eb,Fb,Gb,Hb,Vb,Wb,ac,ec,fc,gc,ic,jc,mc,nc,sc,vc,Bc,Fc,Gc,Lc,Mc,Nc,Qc,Tc,fd,jd,md,od,qd,td,xd,Hd,Pd,Qd,ce,de,ee,fe,ie,je,ke,le,me,se,te,ve,xe,we,ye,ze,Ae,De,Ge,Ee,Fe,He,Ie,Oe,Qe,Ve,We,Ye,af,Ze,cf,df,hf,lf,of,rf,wf,xf,Bf,Ef,Cf,Ff,Gf,Hf,Kf,Jf,Lf,Mf,If,Nf,Pf,Tf,Uf,Vf,Yf,$f,bg,Zf,Wf,cg,dg,Qf,Df,ig,lg,kg,ug,vg,wg,Fg,xg,Jg,Mg,Lg,Rg,Vg,Wg,Xg,$g,ah,Zg,bh,gh,hh,O,ih,jh,fh,vh,zh,Bh,Nh,Oh,Ph,Vh,Gh,Eh,ji,ki,ui,vi,wi,Ei,Oi,Li,
Ji,Si,Ni,Xi,Yi,Ai,Bi,Wi,Ii,Vi,Ki,Di,$i,cj,jj,mj,sj,uj,wj,xj,zj,Aj,yj,Bj,Cj,Ej,Dj,Gj,Kj,Lj,Oj,Nj,Pj,Qj,Rj,Sj,Tj,Uj,Vj,Wj,Yj,Zj,ak,bk,dk,ek,fk,gk,jk,mk,nk,pk,rk,lk,kk,sk,tk,uk,vk,xk,zk,Ek,Fk,Ik,Jk,Kk,Lk,Mk,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Wk,V,Xk,al,Zk,bl,cl,kl,ll,ml,nl,yl,Nl,Ol,Pl,Tl,Sl,bm,Ul,am,cm,Rl,Ql,fm,km,lm,mm,pm,nm,qm,rm,tm,sm,um,vm,wm,xm,Am,Bm,Dm,Hm,Im,Km,Lm,Mm,Nm,Pm,Rm,Qm,Tm,Um,Sm,Xm,Vm,Ym,Wm,Zm,$m,an,bn,cn,dn,en,fn,gn,hn,oe,un;aa=" The setting will be ignored.";_.ba=" is unsupported on this platform.";
ca=" to a log level. Falling back to default!";da="' already registered";ea=".clpp-subtitle-container";_.fa="6.0.4";_.ha="AdaptationSet";_.ia="Autoplay is not allowed due to browser policy.";ja="Can not set volume to ";_.ka="Cannot retrieve buffer information due to platform limitations";_.la="CastlabsPlayer";ma="Content-Length";na="Content-Type";oa="DRMtoday";pa="Destroying player";_.qa="Disable track type ";ra="HW_SECURE_CRYPTO";sa="HW_SECURE_DECODE";ta="Illegal constructor.";ua="Invalid track type: ";
_.va="Loading player with configuration";_.xa="MaxHeight";_.ya="MaxWidth";_.za="MediaKeySession.load not yet supported";_.Aa="MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform";Ba="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!";Da="No event provided!";Ea="No track data attached to the event, unable to add track!";_.Fa="NotSupportedError";_.Ga="Player sources";_.Ha="Player state change: ";
Ia="Player-Factory '";_.Ka="QualityLevel";La="Received Video Element Event: '";_.Na="Releasing player with source";_.Oa="Representation";Pa="SW_SECURE_CRYPTO";Qa="SW_SECURE_DECODE";_.Sa="Session type ";Ta="Signature Verification failed";_.Ua="SmoothStreamingMedia";Va="The index is not in the allowed range.";Wa="Unable to translate ";_.Xa="Unsupported keySystem";_.Ya="Updating manifest...";Za="Using VTTCue polyfill from 3 argument TextTrackCue.";$a="VTT parser encountered an invalid VTT setting: ";
_.ab="Will select track";_.bb="ad-break-started";_.cb="ad-break-stopped";_.db="ad-buffering";_.eb="ad-clicked";_.fb="ad-completed";_.gb="ad-first-quartile";_.hb="ad-impression";_.ib="ad-loaded";_.jb="ad-midpoint";_.mb="ad-paused";_.nb="ad-progress";_.ob="ad-resumed";_.pb="ad-skipped";_.qb="ad-started";_.rb="ad-stopped";_.sb="ad-third-quartile";ub="addtrack";_.vb="ads-timeline-changed";_.wb="airplay-casting-ended";_.xb="airplay-casting-started";_.yb="airplay-status-changed";_.zb="application";
_.Ab="application/cea-608";Bb="application/dash+xml";_.Cb="application/ttml+xml";_.Db="application/vnd.apple.mpegurl";Eb="application/vnd.ms-sstr+xml";Fb="application/x-mpegurl";Gb="application/x-subrip";Hb="application/x-www-form-urlencoded";_.Ib="audio";_.Jb="audio/mp4";_.Kb="audiobufferchanged";_.Ob="audiotrackchanged";_.Pb="auto";_.Qb="autoplaynotallowed";_.Rb="bitratechanged";_.Sb="boolean";_.Tb="bufferingended";_.Ub="bufferingstarted";Vb="canplay";Wb="canplaythrough";_.Xb="castingstarted";
_.Yb="caststatuschanged";_.Zb="cenc";_.$b="center";ac="change";_.bc="clpp.cast.CastSender";_.cc="clpp.component.persistent";ec="clpp.native.Player";fc="clpp.utils.Platform";gc="clpp_html5_cast";_.hc="codecs";ic="com.apple.fps";jc="com.chromecast.playready";_.kc="com.microsoft.playready";_.lc="com.widevine.alpha";mc="crossorigin";nc="cuechange";_.oc="cuehidden";_.pc="cueshown";_.qc="disabled";_.rc="drmexpirationupdate";sc="drmrenewalstarted";_.tc="drmsessionpersisted";_.uc="drmsessionupdate";vc="dt-custom-data";
_.wc="encrypted";_.xc="end";_.yc="ended";_.zc="error";_.Ac="frameRate";Bc="fullscreenElement";_.Cc="function";_.Dc="height";_.Ec="hidden";Fc="http://www.w3.org/ns/ttml#parameter";Gc="http://www.w3.org/ns/ttml#styling";_.Hc="internal-error";_.Ic="keystatuseschange";_.Jc="license-renewal";_.Kc="license-request";Lc="line-left";Mc="line-right";Nc="lineThrough";_.Oc="loadeddata";_.Pc="loadedmetadata";Qc="loadstart";_.Rc="mdat";_.Sc="message";Tc="metadata";_.Uc="mimeType";_.Vc="mp4";_.Wc="number";
_.Xc="object";_.Yc="onContentLoaded";_.cd="optional";_.dd="org.w3.clearkey";_.ed="output-not-allowed";fd="overline";_.gd="parsererror";_.hd="pause";_.id="persistent-license";jd="picture-in-picture";_.kd="play";_.ld="playing";md="progress";_.nd="ratechange";od="released";_.pd="releasing";qd="removetrack";_.rd="required";_.sd="resize";td="rgba(0, 0, 0, 0)";_.ud="seeked";_.vd="seeking";_.wd="showing";xd="stalled";_.yd="start";_.zd="statechanged";_.Ad="status-pending";_.Bd="string";_.Cd="subtitle";
_.Dd="subtitles";_.Ed="temporary";_.k="text";_.Fd="text/vtt";_.Gd="text/xml";Hd="textDecoration";_.Id="texttrackchanged";_.Jd="timeline-cue-added";_.Kd="timeline-cue-enter";_.Ld="timeline-cue-exit";_.Md="timeupdate";_.Nd="tracksadded";_.Od="und";Pd="underline";Qd="unknown";_.Rd="usable";_.Sd="user-seeked";_.Td="user-seeking";_.Ud="value";_.Vd="vertical-lr";_.Wd="vertical-rl";_.Xd="video";_.Yd="video/mp2t";_.Zd="video/mp4";_.$d="videobufferchanged";_.ae="videotrackchanged";_.be="waiting";ce="webkitkeyadded";
de="webkitkeyerror";ee="webkitkeymessage";fe="webkitneedkey";_.ge="webm";_.he="width";ie="x-dt-auth-token";je="x-dt-csl-tracking-token";ke="x-dt-follow-up-token";le="xml:id";me=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};_.v=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:me(a)}};_.ne=function(a){if(!(a instanceof Array)){a=_.v(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a};
_.w=function(a,b){a.prototype=oe(b.prototype);a.prototype.constructor=a;if(pe)pe(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]};se=function(a,b){if(b){for(var c=qe,d=a.split("."),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];f=b(e);f!=e&&null!=f&&re(c,d,{configurable:!0,writable:!0,value:f})}};te=function(){te=function(){};qe.Symbol||(qe.Symbol=ue)};
ve=function(a,b){this.a=a;re(this,"description",{configurable:!0,writable:!0,value:b})};xe=function(){te();var a=qe.Symbol.iterator;a||(a=qe.Symbol.iterator=qe.Symbol("Symbol.iterator"));typeof Array.prototype[a]!=_.Cc&&re(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return we(me(this))}});xe=function(){}};we=function(a){xe();a={next:a};a[qe.Symbol.iterator]=function(){return this};return a};ye=function(){this.h=!1;this.f=null;this.b=void 0;this.a=1;this.j=this.c=0;this.g=null};
ze=function(a){if(a.h)throw new TypeError("Generator is already running");a.h=!0};Ae=function(a,b){a.g={Oe:b,Kh:!0};a.a=a.c||a.j};_.x=function(a,b,c){a.a=c;return{value:b}};_.y=function(a){a.a=0};_.Be=function(a,b){a.a=b;a.c=0};_.Ce=function(a){a.c=0;var b=a.g.Oe;a.g=null;return b};De=function(a){this.a=new ye;this.b=a};Ge=function(a,b){ze(a.a);var c=a.a.f;if(c)return Ee(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.a["return"]);a.a["return"](b);return Fe(a)};
Ee=function(a,b,c,d){try{var e=b.call(a.a.f,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.a.h=!1,e;var f=e.value}catch(g){return a.a.f=null,Ae(a.a,g),Fe(a)}a.a.f=null;d.call(a.a,f);return Fe(a)};Fe=function(a){for(;a.a.a;)try{var b=a.b(a.a);if(b)return a.a.h=!1,{value:b.value,done:!1}}catch(c){a.a.b=void 0,Ae(a.a,c)}a.a.h=!1;if(a.a.g){b=a.a.g;a.a.g=null;if(b.Kh)throw b.Oe;return{value:b["return"],done:!0}}return{value:void 0,done:!0}};
He=function(a){this.next=function(b){ze(a.a);a.a.f?b=Ee(a,a.a.f.next,b,a.a.i):(a.a.i(b),b=Fe(a));return b};this["throw"]=function(b){ze(a.a);a.a.f?b=Ee(a,a.a.f["throw"],b,a.a.i):(Ae(a.a,b),b=Fe(a));return b};this["return"]=function(b){return Ge(a,b)};xe();this[Symbol.iterator]=function(){return this}};Ie=function(a){function b(d){return a.next(d)}function c(d){return a["throw"](d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};
_.z=function(a){return Ie(new He(new De(a)))};_.B=function(a,b){var c=a.split("."),d=Je;c[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=b};_.Ke=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};_.Le=function(a,b){this.length=(this.b=a)?a.length:0;this.a=[];this.type=void 0===b?"total":b};
Oe=function(a){return a&&0<=Me[a]?Me[a]:Ne};Qe=function(a){if(!a)return _.C("clpp.log",Wa+a+ca),-1;var b=Pe[a.toUpperCase()];return void 0===b?(_.C("clpp.log",Wa+a+ca),-1):b};_.E=function(a){(this.a=a)&&void 0===Me[a]&&(Me[a]=-1)};_.Se=function(a){Re.info.apply(Re,arguments)};_.F=function(a){Re.debug.apply(Re,arguments)};_.C=function(a){Re.warn.apply(Re,arguments)};_.Te=function(a){Re.error.apply(Re,arguments)};_.Ue=function(){this.a={}};Ve=function(a,b,c,d){this.b=a;this.Qb=b;this.a=c;this.Ki=!!d};
_.I=function(a,b){if(b)for(var c in b)this[c]=b[c];this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=a;this.isTrusted=!1;this.target=this.currentTarget=null;this.a=this.b=!1};We=function(a){this.a=new _.Ue;this.b=a};_.Xe=function(){this.a=new _.Ue};Ye=function(a,b,c,d){function e(f){c.forEach(function(g){a.off(b,g,e)});d(f)}c.forEach(function(f){a.on(b,f,e)})};
_.$e=function(a){var b=a.a,c=[],d;for(d in b.a)c.push.apply(c,b.a[d]);for(b=0;b<c.length;++b)Ze(c[b]);a.a.clear()};af=function(a,b,c,d){this.target=a;this.type=b;this.listener=c;this.a=d;this.target.addEventListener(b,c,d)};Ze=function(a){a.target.removeEventListener(a.type,a.listener,a.a);a.target=null;a.listener=null};_.bf=function(){this.oc=new We(this);this.Sb=[]};cf=function(a,b){this.b=a;this.a=b};df=function(a,b){this.a=a;this.b=b};
_.gf=function(a){a&&(_.ef.hasOwnProperty(a.name)?_.ff.warn(Ia+a.name+da):(_.ef[a.name]=a,_.ff.info("Registered Player-Factory: '"+a.name+"'")))};_.K=function(a,b,c,d,e){var f=Error.call(this,hf(a,b,c,d));this.message=f.message;"stack"in f&&(this.stack=f.stack);this.a=a;this.c=b;this.code=c;this.data=!d||_.J.X(d)?{}:d;this.b=void 0===e?null:e;Error.captureStackTrace&&Error.captureStackTrace(this,_.K)};_.jf=function(a,b){a.a!==b&&(a.a=b,a.message=hf(a.a,a.c,a.code,a.data))};
hf=function(a,b,c,d){a=(a===_.M?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+b+" - Code "+c+"]";if(_.J.X(d))a+=": "+d;else if(null!=d&&void 0!=d)if(null!=d.message&&void 0!=d.message)a+=": "+d.message,delete d.message;else try{a+=": "+JSON.stringify(d)}catch(e){}return a};_.N=function(a){var b=void 0===b?Infinity:b;return _.kf(a,b,Uint8Array)};
_.kf=function(a,b,c){var d=c.BYTES_PER_ELEMENT||1,e=a instanceof ArrayBuffer?a:a.buffer,f=(a.byteOffset||0)+a.byteLength;a=Math.max(0,Math.min((a.byteOffset||0)+0*d,f));b=Math.min(a+Math.max(b*d,0),f);a/=d;return new c(e,a,b/d-a)};lf=function(a){for(var b="",c=0;c<a.length;c+=16E3)b+=String.fromCharCode.apply(null,a.subarray(c,c+16E3));return b};
_.mf=function(a){if(!a)return"";a=_.N(a);239==a[0]&&187==a[1]&&191==a[2]&&(a=a.subarray(3));a=escape(lf(a));try{return decodeURIComponent(a)}catch(b){throw Error("Error while decoding string!");}};
of=function(a,b,c){if(!a)return"";if(!c&&0!==a.byteLength%2)throw nf.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");c=_.N(a);if(b&&255===c[0]&&254===c[1]||254===c[0]&&255===c[1])a=c.subarray(2);if(a instanceof ArrayBuffer)var d=a;else c=new Uint8Array(a.byteLength),c.set(_.N(a)),d=c.buffer;a=Math.floor(a.byteLength/2);c=new Uint16Array(a);d=new DataView(d);for(var e=0;e<a;e++)c[e]=d.getUint16(2*e,b);return lf(c)};
_.pf=function(a,b){if(_.J.X(a))return a;var c="",d=!!b,e=_.N(a);239==e[0]&&187==e[1]&&191==e[2]?c=_.mf(e):254==e[0]&&255==e[1]?c=of(e.subarray(2),!1):255==e[0]&&254==e[1]&&(c=of(e.subarray(2),!0));var f=function(g,h){return g.byteLength<=h||32<=g[h]&&126>=g[h]}.bind(null,e);nf.debug("Unable to find byte-order-mark, making an educated guess.");0==e[0]&&0==e[2]?c=of(a,!1):0==e[1]&&0==e[3]?c=of(a,!0):f(0)&&f(1)&&f(2)&&f(3)&&(c=_.mf(a));if(c)return d&&(c=escape(c)),c;throw Error("Unable to detect text encoding");
};rf=function(a){var b=0,c=[];a=a.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="\x3d\x3d";break;case 3:a+="\x3d";break;default:throw Error("Illegal base64url string");}for(var d=0|a.length/4;0<d--;){var e=(qf[a.charCodeAt(b)]<<18)+(qf[a.charCodeAt(b+1)]<<12)+(qf[a.charCodeAt(b+2)]<<6)+qf[a.charCodeAt(b+3)];c.push(255&e>>16);c.push(255&e>>8);c.push(255&e);b+=4}c&&("\x3d"===a.charAt(b-2)?(c.pop(),c.pop()):"\x3d"===a.charAt(b-1)&&c.pop());return new Uint8Array(c)};
_.tf=function(a){a instanceof ArrayBuffer&&(a=_.N(a));for(var b=0,c=[],d=0|a.length/3,e;0<d--;)e=(a[b]<<16)+(a[b+1]<<8)+a[b+2],b+=3,c.push(sf.charAt(63&e>>18)),c.push(sf.charAt(63&e>>12)),c.push(sf.charAt(63&e>>6)),c.push(sf.charAt(63&e));2===a.length-b?(e=(a[b]<<16)+(a[b+1]<<8),c.push(sf.charAt(63&e>>18)),c.push(sf.charAt(63&e>>12)),c.push(sf.charAt(63&e>>6)),c.push("\x3d")):1===a.length-b&&(e=a[b]<<16,c.push(sf.charAt(63&e>>18)),c.push(sf.charAt(63&e>>12)),c.push("\x3d\x3d"));return c.join("")};
_.uf=function(a){a=encodeURIComponent(a);a=unescape(a);for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.vf=function(a,b){for(var c=new Uint8Array(2*a.length),d=new DataView(c.buffer),e=0;e<a.length;++e)d.setUint16(2*e,a.charCodeAt(e),b);return c.buffer};
wf=function(a,b){var c=b||1,d=a.length,e=new ArrayBuffer(d*c);if(4===c){var f=void 0===f?Infinity:f;c=_.kf(e,f,Uint32Array)}else if(2===c){var g=void 0===g?Infinity:g;c=_.kf(e,g,Uint16Array)}else c=_.N(e);for(f=0;f<d;f++)c[f]=a.charCodeAt(f);return e};xf=function(a,b){return String.prototype.startsWith?a.startsWith(b):0===a.indexOf(b)};_.yf=function(a,b){if(String.prototype.endsWith)return a.endsWith(b);var c=a.length-b.length,d=a.lastIndexOf(b,c);return-1!==d&&d===c};
_.zf=function(a){return!!(a&&0<a.length)};_.Af=function(a){try{var b=a.uris[a.uriIndex],c=_.Af.parse(b);return{promise:Promise.resolve({uri:b,data:c.data,request:a,headers:{"content-type":c.contentType}}),request:a,abort:function(){return Promise.resolve()}}}catch(d){return{promise:Promise.reject(d),request:a,abort:function(){return Promise.resolve()}}}};Bf=function(a){this.a=new Uint8Array(a||65536);this.b=0;this.c=Date.now()};
Ef=function(a,b,c){return b.read().then(function(d){var e=d.done;d=d.value;if(null!=d){var f=Date.now();Cf(a,d);Df(c,d.byteLength,f-a.c);a.c=f}return e?(e=a.a.buffer,a.a.byteLength!==a.b&&(e=e.slice(0,a.b)),Promise.resolve(e)):Promise.resolve().then(function(){return Ef(a,b,c)})})};Cf=function(a,b){for(;a.a.byteLength<a.b+b.byteLength;){var c=new Uint8Array(2*a.a.byteLength);c.set(a.a);a.a=c}a.a.set(b,a.b);a.b+=b.byteLength};
Ff=function(a){var b=void 0===b?2:b;this.a=new Uint8Array(a);this.c=b;this.b=0};Gf=function(a,b){var c=a.b+b.byteLength;if(c>a.a.byteLength){var d=a.a;a.a=new Uint8Array(Math.max(Math.ceil(a.a.buffer.byteLength*a.c),c));a.a.set(d)}a.a.set(b,a.b);a.b+=b.byteLength};Hf=function(a){a=void 0===a?1E6:a;this.f=new Ff(a);this.length=a;this.b=this.a=this.c=0;this.g=null;this.h=-1;this.i=Date.now()};
Kf=function(a,b,c,d){return b.read().then(function(e){var f=e.done;e=e.value;var g=Date.now();if(d&&e){var h=g-a.i;100<h&&(d(e.byteLength,h),a.i=g)}if(f)return f=If(a),(f=c(!0,f))?f.then(function(){return a.f.a.buffer}):Promise.resolve(a.f.a.buffer);f=Promise.resolve();if(null!=e){Gf(a.f,e);a.a=a.c;a.b=a.f.b;a.g=new DataView(a.f.a.buffer,0,a.f.b);g=Jf(a);for(e=[];g;)e.push(g),g=Jf(a);if(0<e.length){g=e[0];if(1<e.length){g=e[0];h=e[e.length-1];var l=h.end-g.start;g={start:g.start,end:h.end,length:l,
data:new DataView(a.f.a.buffer,g.start,l),count:e.length}}(e=c(!1,g))&&(f=e)}}return f.then(function(){return Kf(a,b,c,d)})})};Jf=function(a){if(0<=a.h&&a.b<a.h)return null;for(var b=Lf(a);null!==b;){if(b.name===_.Rc){var c={start:a.c,end:b.end,length:b.end-a.c,data:new DataView(a.f.a.buffer,a.c,b.end-a.c),count:1};a.c=b.end;return c}b=Lf(a)}return null};
Lf=function(a){var b=a.a;if(a.a+4>=a.b)return a.a=a.b,null;var c=Mf(a);if(a.a+4>=a.b)return a.a=a.b,null;var d=Mf(a);d=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);switch(c){case 0:c=a.b-b;break;case 1:if(a.a+8>=a.b)return a.a=a.b,null;try{var e=a.g.getUint32(a.a,!1);var f=a.g.getUint32(a.a+4,!1)}catch(g){throw new _.K(_.M,3,3E3);}if(2097151<e)throw new _.K(_.M,3,3E3);a.a+=8;c=e*Math.pow(2,32)+f}c=b+c;a.h=c;return a.b>=c?(a.a=c,{name:d,start:b,end:c}):null};
Mf=function(a){var b=a.g.getUint32(a.a,!1);a.a+=4;return b};If=function(a){var b=null;a.c!==a.b&&(b={start:a.c,end:a.b,length:a.b-a.c,data:new DataView(a.f.a.buffer,a.c,a.b-a.c),count:-1});return b};
Nf=function(a){var b=new Nf.b,c;for(c in a.headers)b.append(c.toLowerCase(),a.headers[c]);var d=new Nf.a,e={kc:!1,Af:!1};b={promise:Nf.g(a.uris[a.uriIndex],a,{body:a.body||void 0,headers:b,method:a.method,signal:d.signal,credentials:a.allowCrossSiteCredentials?"include":void 0},e),request:a,abort:function(){e.kc||(e.kc=!0,d.abort());return Promise.resolve()}};if(a=a.timeout){var f=window.setTimeout(function(){e.Af=!0;d.abort()},a);b.promise=b.promise["finally"](function(){window.clearTimeout(f)})}return b};
_.Of=function(){var a,b,c=new Promise(function(d,e){a=d;b=e});c.resolve=a;c.reject=b;return c};
Pf=function(a){var b=a.uris[a.uriIndex],c=new Pf.c,d=Date.now(),e=d,f=0,g=new _.Of;c.open(a.method,b,!0);c.responseType="arraybuffer";c.timeout=a.timeout;c.withCredentials=a.allowCrossSiteCredentials;var h=!1;c.onreadystatechange=function(){if(c.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!h){var m=c.getResponseHeader(ma);Qf(a,m);h=!0}};c.onload=function(m){m=m.target;var n=(m.getAllResponseHeaders()||"").trim().split("\r\n"),p={};n=_.v(n);for(var q=n.next();!q.done;q=n.next())q=q.value.split(": "),
p[q[0].toLowerCase()]=q.slice(1).join(": ");try{var t=_.Rf(p,m.response,m.status,b,m.responseURL,a,Date.now()-e);g.resolve(t)}catch(u){g.reject(u)}};c.onerror=function(m){m=m.target;if(0>=m.status)g.reject(new _.K(1,1,1002,{url:b,request:a,status:m.status}));else{var n=m.getAllResponseHeaders(),p={};if(n){n=_.v(n.trim().split("\r\n"));for(var q=n.next();!q.done;q=n.next())q=q.value.split(": "),p[q[0].toLowerCase()]=q.slice(1).join(": ")}m=_.Rf(p,m.response,m.status,b,m.responseURL,a,Date.now()-e);
g.resolve(m)}};c.ontimeout=function(){g.reject(new _.K(1,1,1003,{url:b,request:a}))};c.onprogress=function(m){var n=Date.now(),p=n-d;if(100<p||m.lengthComputable&&m.loaded===m.total)Df(a,m.loaded-f,p),f=m.loaded,d=n};for(var l in a.headers)c.setRequestHeader(l.toLowerCase(),a.headers[l]);c.send(a.body);return{promise:g,request:a,abort:function(){c.abort();g.reject(new _.K(1,1,7001,{url:b,request:a}));return Promise.resolve()}}};
_.Sf=function(a){var b;a instanceof _.Sf?(Tf(this,a.wa),this.Jb=a.Jb,this.ta=a.ta,Uf(this,a.bc),this.ha=a.ha,Vf(this,Wf(a.a)),this.ib=a.ib):a&&(b=String(a).match(Xf))?(Tf(this,b[1]||"",!0),this.Jb=Yf(b[2]||""),this.ta=Yf(b[3]||"",!0),Uf(this,b[4]),this.ha=Yf(b[5]||"",!0),Vf(this,b[6]||"",!0),this.ib=Yf(b[7]||"")):this.a=new Zf(null)};Tf=function(a,b,c){a.wa=c?Yf(b,!0):b;a.wa&&(a.wa=a.wa.replace(/:$/,""))};
Uf=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.bc=b}else a.bc=null};Vf=function(a,b,c){b instanceof Zf?a.a=b:(c||(b=$f(b,ag)),a.a=new Zf(b))};Yf=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""};$f=function(a,b,c){return typeof a===_.Bd?(a=encodeURI(a).replace(b,bg),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null};bg=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)};Zf=function(a){this.b=a||null};
Wf=function(a){var b=new Zf;b.b=a.b;if(a.a){var c={},d;for(d in a.a)c[d]=a.a[d].concat();b.a=c;b.c=a.c}return b};cg=function(){return{maxAttempts:1,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0}};dg=function(a,b){a.timeout=b.timeout;a.baseDelay=b.baseDelay;a.backoffFactor=b.backoffFactor;a.fuzzFactor=b.fuzzFactor;a.maxAttempts=b.maxAttempts};
_.fg=function(){this.b=[];this.c=[];this.g=!1;this.f=new _.eg;this.a={};this.a.data=_.Af;Nf.da()?(this.a.http=Nf,this.a.https=Nf):(this.a.http=Pf,this.a.https=Pf)};
_.hg=function(a,b){_.J.X(a)&&(a={uris:[a]});Array.isArray(a)&&(a={uris:a});var c={uris:a.uris||[],type:a.type||_.gg,uriIndex:0,method:a.method||"GET",body:a.body||null,headers:Object.assign({},a.headers),allowCrossSiteCredentials:a.allowCrossSiteCredentials||!1,onProgress:a.onProgress||null,onFragment:a.onFragment||null,maxAttempts:a.maxAttempts||1,currentAttempt:0,baseDelay:a.baseDelay||1E3,backoffFactor:a.backoffFactor||2,fuzzFactor:a.fuzzFactor||.5,timeout:a.timeout||0,requestModifiers:a.requestModifiers||
[],responseModifiers:a.responseModifiers||[],startTime:a.startTime||null,endTime:a.endTime||null,contentType:a.contentType||null,licenseRequestType:a.licenseRequestType||null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1};a.keyInfo&&(c.keyInfo=a.keyInfo);b&&dg(c,b);return c};
_.Rf=function(a,b,c,d,e,f,g){if(200<=c&&299>=c&&202!==c)return e&&(d=e),{uri:d,data:b||new ArrayBuffer(0),headers:a,status:c,fromCache:!!a["x-shaka-from-cache"],timeMs:g,request:f};e=null;try{e=_.pf(b,!0)}catch(h){}_.F("HTTP error text:",e);throw new _.K(401===c||403===c?_.M:1,1,1001,{url:d,status:c,response:e,headers:a,request:f});};Qf=function(a,b){var c=parseInt(b,10);Number.isNaN(c)&&(c=-1);a.bytesTotal=c;a.bytesLoaded=0;a.bytesRemaining=c};
Df=function(a,b,c){0<a.bytesRemaining&&(a.bytesRemaining-=b);a.bytesLoaded+=b;if(a.onProgress)a.onProgress(b,c)};ig=function(){};_.jg=function(){return window.MediaSource&&MediaSource.isTypeSupported?!0:!1};lg=function(a){return""!==kg().canPlayType(a)};_.ng=function(a){return _.mg("Tizen"+(a?" "+String(a):""))};_.og=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!_.ng()};_.pg=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)};
_.mg=function(a){return(navigator.userAgent||"").includes(a)};kg=function(){if(qg)return qg;rg||(rg=new _.sg(function(){qg=null}));(qg=document.querySelector(_.Xd)||document.querySelector(_.Ib))||(qg=document.createElement(_.Xd));rg.P(1);return qg};ug=function(a,b){try{return parseInt(b,10)}catch(c){tg.warn("Unable to parse version number for '"+b+"' from '"+a+"'")}return-1};
vg=function(a){var b={major:-1,name:Qd};if(!a)return b;var c=a.replace(/_/g,".");b.name=c;c=c.split(".");1<=c.length&&(b.major=ug(a,c[0]));2<=c.length&&(b.minor=ug(a,c[1]));3<=c.length&&(b.patch=ug(a,c[2]));4<=c.length&&(b.build=ug(a,c[3]));return b};wg=function(a,b){if(!a||!b||0===b.length)return!1;for(var c=0;c<b.length;c++)if(0<=a.indexOf(b[c]))return!0;return!1};
Fg=function(){var a=xg();if(!a)return yg;var b=a.match(/^.+?(?=\))/);if(!b)return yg;b=b[0];if(wg(b,["iphone","ipad"]))return zg;if(wg(b,["android"]))return Ag;if(wg(b,["macintosh"]))return Bg;if(wg(b,["windows nt"]))return Cg;if(wg(b,["tizen"]))return Dg;if(wg(b,["linux"]))return Eg;tg.warn("Unable to identify OS from user agent: "+a);return yg};xg=function(){var a=window.navigator.userAgent;return a=a.toLowerCase()};
_.Ig=function(){var a=Fg();var b=Fg();var c=Gg[b];if(c){c=xg().match(c.os_version)[1];c=vg(c);if(b===Cg)if("5.1"===c.name)c.name="xp";else if("6.1"===c.name)c.name="7";else if("6.2"===c.name||"6.3"===c.name)c.name="8";b=c}else b=vg("");a:{c=xg();var d="ie edge opera firefox safari chrome".split(" "),e=Fg();e=Gg[e];for(var f=0,g=d.length;f<g;f++)if(e[d[f]]&&c.match(e[d[f]])){c=d[f];break a}c=Hg}a:{d=xg();e="ie edge opera firefox safari chrome".split(" ");f=Fg();g=Gg[f];for(var h=0,l=e.length;h<l;h++)if(f=
g[e[h]]&&d.match(g[e[h]])){d=vg(f[1]);break a}d=vg("")}return{os:a,osVersion:b,browser:c,browserVersion:d}};Jg=function(){};
_.Kg=function(){var a=Infinity;navigator.connection&&navigator.connection.saveData&&_.pg()&&(a=360);var b=cg();b.maxAttempts=3;return{source:"",license:"",viewerId:void 0,autoplay:void 0,manifest:{attemptParameters:cg(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0},abr:{enabled:!0,defaultBandwidthEstimate:1E3,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,
maxHeight:a,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}},drm:null,enableEnhancedSubtitleManager:!1,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:"",preferredTextRole:"",preferredAudioChannelCount:2,volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:!1,streaming:{attemptParameters:b,failureCallback:void 0,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,
smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!_.mg("Web0S"),stallThreshold:1,stallSkip:.1,bufferLimitUpdateInterval:.5,overridePasp:!1},restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}}};
_.Ng=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];if(!b)return _.Kg();var d=[_.Kg()],e=!1;b.forEach(function(f){null!==f&&void 0!==f&&(_.J.X(f)&&(f={source:f}),f.lowLatencyMode&&!e&&(d.push({suggestedPresentationDelay:0,streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{ij:{clockSyncUri:"//time.akamai.com"}}}),e=!0),d.push(f))});
b=_.J.Va.apply(null,d);_.J.X(b.volume)&&(""===""+b.volume?b.volume=null:b.volume=Number(b.volume));if(!_.J.H(b.volume)&&(!_.J.Ua(b.volume)||_.J.isNaN(b.volume)))throw new _.K(_.M,7,7100,"config.volume is not a number");if(!_.J.X(b.preferredTextLanguage))throw new _.K(_.M,7,7100,"config.preferredTextLanguage is not a string");if(!_.J.X(b.preferredAudioLanguage))throw new _.K(_.M,7,7100,"config.preferredAudioLanguage is not a string");if(!_.J.H(b.drm)){if(b.drm.env&&!_.J.X(b.drm.env))throw new _.K(_.M,
7,7100,"config.drm.env is not a string");if(b.drm.offlineId&&!_.J.X(b.drm.offlineId))throw new _.K(_.M,7,7100,"config.drm.offlineId is not a string");}if(c=b.streaming){c.bufferingGoal=Number(c.bufferingGoal);c.rebufferingGoal=Number(c.rebufferingGoal);c.bufferBehind=Number(c.bufferBehind);c.smallGapLimit=Number(c.smallGapLimit);c.durationBackoff=Number(c.durationBackoff);if(!_.J.Ua(c.bufferingGoal)||_.J.isNaN(c.bufferingGoal))throw new _.K(_.M,7,7100,"config.streaming.bufferingGoal is not a number");
if(!_.J.Ua(c.rebufferingGoal)||_.J.isNaN(c.rebufferingGoal))throw new _.K(_.M,7,7100,"config.streaming.rebufferingGoal is not a number");if(c.rebufferingGoal>c.bufferingGoal)throw new _.K(_.M,7,7100,"config.streaming.rebufferingGoal must be \x3e\x3d bufferingGoal");if(!_.J.Ua(c.bufferBehind)||_.J.isNaN(c.bufferBehind))throw new _.K(_.M,7,7100,"config.streaming.bufferBehind is not a number");if(!_.J.Ua(c.smallGapLimit)||_.J.isNaN(c.smallGapLimit))throw new _.K(_.M,7,7100,"config.streaming.smallGapLimit is not a number");
if(!_.J.Ua(c.durationBackoff)||_.J.isNaN(c.durationBackoff))throw new _.K(_.M,7,7100,"config.streaming.durationBackoff is not a number");Lg(b.manifest);Mg(b.restrictions);Mg(b.abr.restrictions)}return b};
Mg=function(a){_.J.H(a.maxPixels)&&(a.maxPixels=Infinity);_.J.H(a.maxBandwidth)&&(a.maxBandwidth=Infinity);_.J.H(a.maxHeight)&&(a.maxHeight=Infinity);_.J.H(a.maxWidth)&&(a.maxWidth=Infinity);_.J.H(a.minPixels)&&(a.minPixels=0);_.J.H(a.minBandwidth)&&(a.minBandwidth=0);_.J.H(a.minHeight)&&(a.minHeight=0);_.J.H(a.minWidth)&&(a.minWidth=0);a.minWidth=Number(a.minWidth);a.maxWidth=Number(a.maxWidth);a.minHeight=Number(a.minHeight);a.maxHeight=Number(a.maxHeight);a.minBandwidth=Number(a.minBandwidth);
a.maxBandwidth=Number(a.maxBandwidth);a.minPixels=Number(a.minPixels);a.maxPixels=Number(a.maxPixels);if(Number.isNaN(a.minWidth)||Number.isNaN(a.maxWidth)||Number.isNaN(a.minHeight)||Number.isNaN(a.maxHeight)||Number.isNaN(a.minBandwidth)||Number.isNaN(a.maxBandwidth)||Number.isNaN(a.minPixels)||Number.isNaN(a.maxPixels))throw new _.K(_.M,7,7100,"Restrictions contain NaN");};
Lg=function(a){if(_.J.H(a.availabilityWindowOverride))a.availabilityWindowOverride=NaN;else if(typeof a.availabilityWindowOverride!==_.Wc)throw new _.K(_.M,7,7100,"Invalid value for |manifest.availabilityWindowOverride|");};_.Og=function(a){return typeof a===_.Xc&&!Array.isArray(a)&&a.hasOwnProperty("source")};
_.Pg=function(a){_.bf.call(this);this.log=new _.E(a);this.a=this.Hc=_.Kg();this.j=this.l=null;this.ec=!1;this.bf=new _.E("clpp.video.events");this.Ic=null;this.oe=0;this.Oh=this.Ji.bind(this);this.le=new _.fg;this.W=new _.Xe};_.Qg=function(a,b){var c=document.createElement(a),d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d];null===e||void 0===e?c.setAttribute(d,""):c.setAttribute(d,e)}return c};
_.Sg=function(a,b){if(a.classList)a.classList.add(b);else{var c=Rg(a);0>c.indexOf(b)&&(c.push(b),a.setAttribute("class",c.join(" ")))}};_.Tg=function(a,b){typeof b===_.Bd&&(b=[b]);b.forEach(function(c){if(a.classList)a.classList.remove(c);else{var d=Rg(a);c=d.indexOf(c);0<=c&&(d.splice(c,1),a.setAttribute("class",d.join(" ")))}})};Rg=function(a){a=a.getAttribute("class");if(!a)return[];a=a.trim();if(0===a.length)return[];a=a.replace(/,/g," ");a=a.replace(/ {2,}/g," ");return a.split(" ")};
_.Ug=function(a,b){var c;if(a&&typeof b===_.Xc)for(c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])};
Vg=function(a,b){var c;b=void 0===b?{}:b;var d=document.querySelector("#clpp-styles");if(!d){d=document.createElement("style");d.id="clpp-styles";var e=document.querySelector("head");e||(e=document.createElement("head"),document.body.appendChild(e));e.appendChild(d)}e=document.styleSheets;for(var f,g=0;g<e.length;g++)if(e[g].ownerNode===d){f=e.item(g);break}d=f||null;f=d.cssRules.length;e="";if(d){for(var h in b)b.hasOwnProperty(h)&&(g=b[h],h=h.replace(/([A-Z])/g,"-$1").toLowerCase(),e+=h+": "+g+
"; ");typeof c===_.Wc&&c>=f&&(c=f-1);d.hasOwnProperty("addRule")||typeof d.addRule===_.Cc?d.addRule(a,e,c):(d.hasOwnProperty("insertRule")||typeof d.insertRule===_.Cc)&&d.insertRule(a+" {"+e+"}",c)}};
Wg=function(a){function b(c,d){if(document.all)var e=parseFloat(a.currentStyle[c]);else c=c.replace(/([A-Z])/g,"-$1").toLowerCase(),e=parseFloat(document.defaultView.getComputedStyle(a,"").getPropertyValue(c));if(!e||isNaN(e))e=d;return e}return{height:b(_.Dc,a.offsetHeight),width:b(_.he,a.offsetWidth),marginTop:b("marginTop",0),marginBottom:b("marginBottom",0),marginLeft:b("marginLeft",0),marginRight:b("marginRight",0)}};
Xg=function(){var a=document.createElement("a");a.style.display="flex";a="flex"===a.style.display;return a?"flex":"block"};
$g=function(a,b){this.g=new _.E("clpp.PlayerSurface");this.b=_.J.Va({},Yg,b);this.b.containerEl=(b||null)&&b.containerEl;this.f=typeof a===_.Bd?document.getElementById(a):a;this.j=this.l=this.i=this.c=this.h=this.a=null;var c=this.b.css;this.g.debug("Initializing Player Surface on ",this.f);var d=this.f.tagName.toLocaleLowerCase();d===_.Xd||d===_.Ib?this.a=this.f:"cast-media-player"===d&&(this.h=this.f);this.b.containerEl?(this.c=this.b.containerEl,_.Sg(this.c,c.container)):this.b.disableContainer||
!this.a?this.c=this.a||this.f:(d=document.createElement(this.b.containerTag),_.Sg(d,this.b.css.container),this.c=d,this.a&&this.f.parentNode?this.f.parentNode.replaceChild(this.c,this.f):this.f.parentNode||this.g.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!"),this.c.appendChild(this.a));this.a&&(this.a.hasAttribute(mc)||(d=this.b.crossorigin,this.g.info("Setting media elements crossorigin to "+d),this.a.setAttribute(mc,
d)),this.c&&(this.b.moveCssToContainer&&Zg(this),_.Sg(this.a,c.fill)))};ah=function(a){var b=a.D(),c=a.b.css;b?_.Tg(b,c.hidden):a.g.debug("No media element available that could be shown")};Zg=function(a){a.a&&a.c&&(Rg(a.a).forEach(function(b){_.Tg(a.a,b);_.Sg(a.c,b)}),a.c.style.cssText=a.a.style.cssText,a.a.removeAttribute("style"),[_.he,_.Dc].forEach(function(b){var c=a.a.getAttribute(b);c=parseInt(c,10);isNaN(c)||(a.c.style[b]=c+"px");_.ng()||a.a.removeAttribute(b)}))};bh=function(){};
_.eh=function(a){a&&(0<=ch.indexOf(a)?dh.warn("Factory '"+a.name()+"' is already registered"):(ch.push(a),dh.info("Factory "+a.name()+"' has been registered.")))};gh=function(a,b){var c=ch.find(function(d){return d.da(a,b)});c||(c=new fh);dh.info("Chosen ads: "+c.name());return c};hh=function(){};O=function(){};ih=function(){};jh=function(){};fh=function(){};_.kh=function(a){this.b=a;this.a={}};
_.oh=function(a){var b={},c=a.a[_.lh];c&&(b[_.lh]={licenseUrl:c.licenseUrl,videoRobustness:c.videoRobustness,audioRobustness:c.audioRobustness,modifiers:c.modifiers,distinctiveIdentifierRequired:c.distinctiveIdentifierRequired,persistentStateRequired:c.persistentStateRequired,serverCertificate:c.serverCertificate});(c=a.a[_.mh])&&(b[_.mh]={licenseUrl:c.licenseUrl,certificateUrl:c.certificateUrl,modifiers:c.modifiers});(c=a.a[_.nh])&&(b[_.nh]={licenseUrl:c.licenseUrl,modifiers:c.modifiers});return b};
_.qh=function(a){_.ph[a.b]=a};_.rh=function(a){var b={attemptParameters:cg(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,Ga:{}};a&&(b.enforceSingleSession=!!a.enforceSingleSession,b.delayLicenseRequestUntilPlayed=!!a.delayLicenseRequestUntilPlayed,b.preferredDrmSystem=a.preferredDrmSystem,a.env&&(b.Ga=_.oh(_.ph[a.env]||null)||{}));return b};
vh=function(a){if(a===sh)return"https://lic.drmtoday.com";if(a===th)return"https://lic.staging.drmtoday.com";if(a===uh)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+a+"'. Can not infer DRMtoday base URL!");};zh=function(a,b){var c=vh(b);if(a==_.lh)return c+wh;if(a==_.nh)return c+xh;if(a==_.mh)return c+yh;throw Error("Unknown DRM Key-System '"+a+"'. Can not infer license URL!");};
Bh=function(a){a=Ah[a];if(!a)return null;var b=_.Ig();return b.os===Ag&&4===b.osVersion.major&&4===b.osVersion.minor?null:new Uint8Array(a)};_.Ch=function(){var a=_.Ig();return a.os===Ag&&"chrome"===a.browser?{video:void 0,audio:void 0}:{video:Qa,audio:Pa}};
_.Hh=function(a,b){var c=of(b,!0);c=c.replace(/assetid/gi,"assetId");c=c.replace(/variantid/gi,"variantId");c=c.replace(/keyid/gi,"keyId");c=new _.Dh(c);var d=Eh(c.a);if(a&&a.drm&&a.drm.customData){var e=a.drm.customData,f=e.assetId;e=e.variantId;f&&_.zf(""+f)&&(d.assetId=f,Fh.info("Using assetId from the configuration instead of the value from the HLS manifest."));e&&_.zf(""+e)&&(d.variantId=e,Fh.info("Using variantId from the configuration instead of the value from the HLS manifest."))}c.a=Gh(d,
!1,["assetId","variantId","keyId"]);return c.scheme+"//"+(c.b+(c.port?":"+c.port:"")+c.path+c.c+c.a)};
_.Ih=function(a,b,c){c=void 0===c?!0:c;a=a.drm;if(!a||!a.env.startsWith(oa))Fh.warn(Ba);else if(a.customData){var d=btoa(JSON.stringify({userId:a.customData.userId,sessionId:a.customData.sessionId,merchant:a.customData.merchant}));b.headers[vc]=d;a.customData.authToken&&(b.headers[ie]=""+a.customData.authToken);d=b.uris[0];c&&a.customData.assetId&&(d+="?assetId\x3d"+encodeURI(""+a.customData.assetId),a.customData.variantId&&(d+="\x26variantId\x3d"+encodeURI(""+a.customData.variantId)),b.uris[0]=d)}};
_.Jh=function(a,b){_.Ih(a,b,!1);b.headers[na]=Hb;b.body=wf(Gh({spc:_.tf(b.body)},!0))};_.Kh=function(a,b){Fh.debug("Clearing response data");var c=_.mf(b.data).trim();"\x3cckc\x3e"===c.substr(0,5)&&"\x3c/ckc\x3e"===c.substr(-6)&&(c=c.slice(5,-6));b.data=rf(c).buffer};
_.Lh=function(a,b){var c=a.drm;if(!c||!c.env.startsWith(oa))Fh.warn(Ba);else if(c.customData){var d=btoa(JSON.stringify({userId:c.customData.userId,sessionId:c.customData.sessionId,merchant:c.customData.merchant}));b.headers[vc]=d;c.customData.authToken&&(b.headers[ie]=""+c.customData.authToken)}};
_.Mh=function(a,b){try{var c=_.N(b.data),d=JSON.parse(String.fromCharCode.apply(null,c));Fh.debug("Widevine License response",d);var e=atob(d.license),f=new Uint8Array(e.length);for(c=0;c<e.length;++c)f[c]=e.charCodeAt(c);b.data=f.buffer}catch(g){Fh.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}};Nh=function(){this.a=this.b=null;this.c=new _.E("clpp.drm.csl")};
Oh=function(a,b){3===b.type&&(a.b&&(a.c.debug("Attaching tracking token"),b.headers[je]=a.b),a.a&&(a.c.debug("Attaching followup token"),b.headers[ke]=a.a))};Ph=function(a,b){3===b.request.type&&(a.b=b.headers[je],a.a=b.headers[ke],a.b&&a.c.debug("Loaded tracking token "+a.b),a.a&&a.c.debug("Loaded followup token "+a.a))};_.Qh=function(a,b){this.b=_.J.Ua(a)?new DataView(new ArrayBuffer(a),0,a):a;this.a=0;this.c=!!b;this.buffer=this.b.buffer};
_.Sh=function(a,b,c){b=new DataView(b.buffer);try{c=c||0;for(var d=b.byteLength-c,e=0;e<d;e++)a.b.setUint8(a.a,b.getUint8(c+e)),a.a+=1}catch(f){_.Rh()}};_.P=function(a,b){try{a.b.setUint32(a.a,b,a.c),a.a+=4}catch(c){_.Rh()}};_.Rh=function(){throw new _.K(_.M,3,3E3);};_.Th=function(a,b){this.b=a;this.c=void 0===b?!0:b;this.a=0};_.Uh=function(a){return a.a<a.b.byteLength};_.Wh=function(a){try{var b=a.b.getUint8(a.a);a.a+=1;return b}catch(c){Vh()}};
_.Xh=function(a){try{var b=a.b.getUint16(a.a,a.c);a.a+=2;return b}catch(c){Vh()}};_.Yh=function(a){try{var b=a.b.getUint32(a.a,a.c);a.a+=4;return b}catch(c){Vh()}};_.Zh=function(a){try{var b=a.b.getInt32(a.a,a.c);a.a+=4;return b}catch(c){Vh()}};_.$h=function(a){var b=0;try{if(a.c){var c=a.b.getUint32(a.a,!0);b=a.b.getUint32(a.a+4,!0)}else b=a.b.getUint32(a.a,!1),c=a.b.getUint32(a.a+4,!1)}catch(d){Vh()}if(2097151<b)throw new _.K(_.M,3,3001);a.a+=8;return b*Math.pow(2,32)+c};
_.ai=function(a,b){a.a+b>a.b.byteLength&&Vh();var c=a.b.buffer.slice(a.a,a.a+b);a.a+=b;return _.N(c)};_.bi=function(a){if(1>a.a)throw Vh();--a.a};Vh=function(){throw new _.K(_.M,3,3E3);};
_.Dh=function(a){this.scheme=null;var b=document.createElement("a"),c=a.match(/^(.*:)(\/\/(.*))$/),d=!1;if(c){if(this.scheme=c[1],b.href=c[2],":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+c[3],d=!0}else{b.href=a;if(":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+a.match(/\/?\/?(.*)/)[1],d=!0;this.scheme=b.protocol}""===this.scheme&&(this.scheme=window.location.protocol);this.b=d?"":b.hostname;this.port=b.port;this.path=b.pathname;xf(this.path,"/")||(this.path=
"/"+this.path);this.a=b.search;this.c=b.hash};Gh=function(a,b,c){return a?(c||Object.keys(a).sort()).reduce(function(d,e){if(!a.hasOwnProperty(e))return d;var f=a[e],g="\x26";""===d&&(g=b?"":"?");d=d+g+encodeURIComponent(e);return d=d+"\x3d"+encodeURIComponent(void 0===f?"":f)},""):""};Eh=function(a){var b={};a=a||"";a=a.substring(a.indexOf("?")+1);a.split("\x26").forEach(function(c){var d=c.split("\x3d");c=decodeURIComponent(d[0]);d=decodeURIComponent(d[1]||"");c&&(b[c]=d)});return b};
_.ci=function(a,b){var c=void 0==b?!0:b,d=window.btoa(String.fromCharCode.apply(null,a)).replace(/\+/g,"-").replace(/\//g,"_");return c?d:d.replace(/=*$/,"")};_.di=function(a){a=window.atob(a.replace(/-/g,"+").replace(/_/g,"/"));for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.ei=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<a.length;c+=2)b[c/2]=window.parseInt(a.substr(c,2),16);return b};
_.fi=function(a){for(var b="",c=0;c<a.length;++c){var d=a[c].toString(16);1==d.length&&(d="0"+d);b+=d}return b};_.gi=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0};_.hi=function(a){for(var b=0,c=0;c<arguments.length;++c)b+=arguments[c].length;b=new Uint8Array(+b);for(var d=c=0;d<arguments.length;++d)b.set(arguments[d],c),c+=arguments[d].length;return b};
ji=function(a,b,c){ii.debug("Creating FPS payload");var d=b;_.J.X(b)&&(d=_.N(wf(b,2)));b=a.byteLength+4;b+=d.byteLength+4;b+=c.byteLength;b=new _.Qh(b,!0);_.Sh(b,a);_.P(b,d.byteLength);_.Sh(b,d);_.P(b,c.byteLength);_.Sh(b,c);return _.N(b.buffer)};ki=function(a,b){var c=of(b,!0);ii.debug("Default Extract content ID. The hostname of the content ID URL will be used!");return(new _.Dh(c)).b};_.li=function(a,b){for(var c=_.v(a),d=c.next();!d.done;d=c.next())if(!b(d.value))return!1;return!0};
_.ni=function(a,b){if(0==b.length)return a;var c=b.map(function(d){return new _.Sf(d)});return a.map(function(d){return new _.Sf(d)}).map(function(d){return c.map(d.resolve.bind(d))}).reduce(_.mi.wd,[]).map(function(d){return d.toString()})};_.oi=function(a,b){return{keySystem:a,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:b||[],keyIds:[]}};
_.pi=function(a,b){var c=a;b&&(c+='; codecs\x3d"'+b+'"');return c};_.qi=function(a){a=a.split(".");var b=a[0];a.pop();return[b,a.join(".")]};_.ri=function(){this.c=[];this.b=[];this.a=!1;this.f=new _.E("clpp.mp4")};_.si=function(a){for(;_.Uh(a.s)&&!a.Pa.a;)a.Pa.$c(a.start+a.Ed,a.s,a.tf)};_.ti=function(a){for(var b=_.Yh(a.s);0<b&&!a.Pa.a;--b)a.Pa.$c(a.start+a.Ed,a.s,a.tf)};ui=function(a){return function(b){var c=b.s.ea()-b.s.getPosition();a(_.ai(b.s,c))}};
vi=function(a){for(var b=0,c=0;c<a.length;c++)b=b<<8|a.charCodeAt(c);return b};wi=function(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)};_.xi=function(a){this.b=[];this.c=[];this.a=[];8<=a.byteLength&&(new _.ri).T("pssh",this.f.bind(this)).parse(a.buffer);0==this.a.length&&_.C("No pssh box found!")};_.yi=function(a){this.b=a;this.a=null};_.sg=function(a){this.b=a;this.a=null};
_.Ci=function(a){var b=this;this.i=a;this.w=new Set;this.j=this.m=null;this.M=!1;this.a=null;this.C=zi;this.l=new _.Xe;this.A=new Nh;this.f=new Map;this.v=[];this.o=new _.Of;this.c=null;this.h=function(c){b.o.reject(c);a.onError(c)};this.Ia=new Map;this.S=new Map;this.N=new _.sg(function(){return Ai(b)});this.g=!1;this.la=new _.Of;this.u=!1;this.F=[];this.R=this.qa=!1;this.I=0;this.b=new _.E("clpp.drm.DrmEngine");this.W=(new _.sg(function(){Bi(b)})).za(1);this.o["catch"](function(){})};
Ei=function(a){var b;return _.z(function(c){switch(c.a){case 1:return a.l.release(),a.l=null,a.A.release(),a.A=null,a.o.reject(),a.W.stop(),a.W=null,a.N.stop(),a.N=null,b=Array.from(a.f.keys()),a.f.clear(),_.x(c,Promise.all(b.map(function(d){return Promise.resolve().then(function(){return _.z(function(e){if(1==e.a)return a.b.debug("Closing session",d.sessionId),e.c=2,_.x(e,Di(d),4);if(2!=e.a)return _.Be(e,0);_.Ce(e);_.y(e)})})})),2);case 2:if(!a.j){c.a=3;break}c.c=4;return _.x(c,a.j.setMediaKeys(null),
6);case 6:_.Be(c,5);break;case 4:_.Ce(c);case 5:a.j=null;case 3:a.a=null,a.w.clear(),a.m=null,a.v=[],a.c=null,a.h=null,a.i=null,a.R=!1,a.I=0,_.y(c)}})};_.Hi=function(a,b,c){a.C=Fi;a.v=c;a.u=0<c.length;a.b.debug("Using Persisted Licenses: "+a.u);return _.Gi(a,b)};
_.Gi=function(a,b){var c=b.some(function(g){return 0<g.drmInfos.length});if(!c){var d=_.J.ge(a.c.Ga);Ii(b,d)}var e=Ji(a);if(e){var f=_.v(b);for(d=f.next();!d.done;d=f.next())d.value.drmInfos=[e]}e=_.v(b);for(d=e.next();!d.done;d=e.next())for(d=_.v(d.value.drmInfos),f=d.next();!f.done;f=d.next())Ki(f.value,a.c.Ga);d=Li(a,b);if(!d.size)return a.M=!0,Promise.resolve();d=_.Mi(a,d);return c?d:d["catch"](function(){})};
_.Ri=function(a,b){if(!a.m)return Ye(a.l,b,[_.wc,"msneedkey",fe,"needkey"],function(){a.h(new _.K(_.M,6,6010))}),Promise.resolve();a.j=b;a.l.one(a.j,_.kd,function(){for(var e=0;e<a.F.length;e++)Ni(a,a.F[e]);a.qa=!0;a.F=[]});var c=a.j.setMediaKeys(a.m);c=c["catch"](function(e){return Promise.reject(new _.K(_.M,6,6003,{browserError:e.message}))});var d=Promise.resolve();a.a&&a.a.keySystem!==_.dd&&!a.a.serverCertificate&&(d=Oi(a));d=d.then(function(){return a.setServerCertificate()});return Promise.all([c,
d]).then(function(){if(!a.g&&(_.Pi(a),!a.a.initData.length&&!a.v.length))a.l.on(a.j,_.wc,function(e){_.Qi(a,e.initDataType,_.N(e.initData))})})["catch"](function(e){if(!a.g){if(6004===e.code&&a.a&&a.a.keySystem===_.lc&&1>a.I&&a.a.serverCertificate&&a.a.serverCertificate.length)return a.b.warn("Detected invalid widevine server certificate!. Retrying"),a.h(new _.K(1,6,6004)),a.a.serverCertificate=null,a.I++,_.Ri(a,b);1<=a.I&&a.b.info("Could not get valid widevine server certificate. Giving up");throw e;
}})};
Oi=function(a){var b=a.c.Ga[a.a.keySystem],c=b.certificateUrl||"";if(""===c)return Promise.resolve();var d=(b=b.modifiers)&&b.certificateRequest,e=b&&b.certificateResponse,f=a.i.getConfiguration();c=_.hg([c],a.c.attemptParameters);c.type=3;d&&c.requestModifiers.push(function(g){return d(f,g)});e&&c.responseModifiers.push(function(g){return e(f,g)});a.b.debug("Fetching certificate");return a.i.Ab.fetch(c).promise.then(function(g){a.a.serverCertificate=_.N(g.data)})["catch"](function(g){throw new _.K(_.M,6,
6100,{message:"Error while fetching certificate!",url:g.data.url,status:g.data.status,response:g.data.response,headers:g.data.headers},g);})};_.Pi=function(a){var b=a.a?a.a.initData:[];b.forEach(function(c){return Si(a,c.initDataType,c.initData)});a.v.forEach(function(c){return _.Ti(a,c)});b.length||a.v.length||a.o.resolve();return a.o};
_.Qi=function(a,b,c){if(!a.keySystem().startsWith(ic)){var d=new _.xi(c);if(1<d.a.length){var e={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[a.keySystem()];if(e)for(var f=0;f<d.b.length;f++)if(e===d.b[f]){c=c.subarray(d.a[f].start,d.a[f].end+1);break}}}d=a.f.values();d=_.v(d);for(e=d.next();!e.done;e=d.next())if(_.gi(c,
e.value.initData)){a.b.debug("Ignoring duplicate init data.");return}"skd"!==b&&Si(a,b,c)};_.Ui=function(a){var b=Infinity;a=a.f.keys();a=_.v(a);for(var c=a.next();!c.done;c=a.next())c=c.value,isNaN(c.expiration)||(b=Math.min(b,c.expiration));return b};
Li=function(a,b){for(var c=new Set,d=_.v(b),e=d.next();!e.done;e=d.next()){var f=_.v(e.value.drmInfos);for(e=f.next();!e.done;e=f.next())c.add(e.value)}d=_.v(c);for(e=d.next();!e.done;e=d.next())Ki(e.value,a.c.Ga);f=a.u?_.rd:_.cd;var g=a.u?[_.id]:[_.Ed];d=new Map;c=_.v(c);for(e=c.next();!e.done;e=c.next())e=e.value,d.set(e.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:_.cd,persistentState:f,sessionTypes:g,label:e.keySystem,drmInfos:[]});c=_.v(b);for(e=c.next();!e.done;e=
c.next()){e=e.value;f=e.audio;g=e.video;var h=f?_.pi(f.mimeType,f.codecs):"",l=g?_.pi(g.mimeType,g.codecs):"",m=_.v(e.drmInfos);for(e=m.next();!e.done;e=m.next()){e=e.value;var n=d.get(e.keySystem);n.drmInfos.push(e);e.distinctiveIdentifierRequired&&(n.distinctiveIdentifier=_.rd);e.persistentStateRequired&&(n.persistentState=_.rd);f&&n.audioCapabilities.push({robustness:e.audioRobustness||"",contentType:h});g&&n.videoCapabilities.push({robustness:e.videoRobustness||"",contentType:l})}}return d};
_.Mi=function(a,b){function c(h,l,m){l.drmInfos.some(function(n){return!!n.licenseServerUri})==h&&(f=f["catch"](function(){return a.g?null:navigator.requestMediaKeySystemAccess(m,[l])}))}if(1==b.size&&b.has(""))return Promise.reject(new _.K(_.M,6,6E3));for(var d=_.v(b.values()),e=d.next();!e.done;e=d.next())e=e.value,0==e.audioCapabilities.length&&delete e.audioCapabilities,0==e.videoCapabilities.length&&delete e.videoCapabilities;var f=d=new _.Of,g=a.c.preferredDrmSystem;g||(e=_.Ig(),e.os===Cg&&
10<=e.osVersion.major&&"edge"===e.browser&&(g=_.nh));g&&(e=b.get(g))&&(c(!0,e,g),c(!1,e,g));[!0,!1].forEach(function(h){b.forEach(function(l,m){m!==g&&c(h,l,m)})});f=f["catch"](function(){throw new _.K(_.M,6,6001);});f=f.then(function(h){if(a.g)return null;a.w.clear();var l=h.getConfiguration(),m=l.videoCapabilities||[],n=_.v(l.audioCapabilities||[]);for(l=n.next();!l.done;l=n.next())a.w.add(l.value.contentType);m=_.v(m);for(l=m.next();!l.done;l=m.next())a.w.add(l.value.contentType);m=h.keySystem;
l=b.get(h.keySystem);n=[];var p=[],q=[],t=[];Vi(l.drmInfos,n,p,q,t);1<p.length&&_.C("Multiple unique server certificates found! Only the first will be used.");1<n.length&&_.C("Multiple unique license server URIs found! Only the first will be used.");a.a={keySystem:m,licenseServerUri:n[0],distinctiveIdentifierRequired:l.distinctiveIdentifier==_.rd,persistentStateRequired:l.persistentState==_.rd,audioRobustness:l.audioCapabilities?l.audioCapabilities[0].robustness:"",videoRobustness:l.videoCapabilities?
l.videoCapabilities[0].robustness:"",serverCertificate:p[0],initData:q,keyIds:t};if(!a.a.licenseServerUri)throw new _.K(_.M,6,6012,a.a.keySystem);return h.createMediaKeys()}).then(function(h){a.g||(a.b.info("Created MediaKeys object for key system",a.a.keySystem),a.m=h,a.M=!0)})["catch"](function(h){if(!a.g){a.a=null;a.w.clear();if(h instanceof _.K)throw h;throw new _.K(_.M,6,6002,{browserError:h.message});}});d.reject();return f};
Ji=function(a){a=_.J.ge(a.c.Ga.gj||{});if(0==a.size)return null;var b=[],c=[];a.forEach(function(e,f){var g=_.ei(f),h=_.ei(e);g={kty:"oct",kid:_.ci(g,!1),k:_.ci(h,!1)};b.push(g);c.push(g.kid)});a=JSON.stringify({keys:b});var d=JSON.stringify({kids:c});d=[{initData:_.uf(d),initDataType:"keyids"}];return{keySystem:_.dd,licenseServerUri:"data:application/json;base64,"+window.btoa(a),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,
initData:d,keyIds:[]}};
_.Ti=function(a,b){try{a.b.debug("Attempting to load an offline session",b);var c=a.m.createSession(_.id)}catch(f){var d=new _.K(_.M,6,6005,{browserError:f.message});a.h(d);return Promise.reject(d)}a.l.on(c,_.Sc,a.nf.bind(a));a.l.on(c,_.Ic,a.gf.bind(a));var e={initData:null,loaded:!1,Pd:Infinity,Ha:null};a.f.set(c,e);return c.load(b).then(function(f){if(a.g)return null;a.b.debug("Loaded offline session",b,f);if(!f)return a.f["delete"](c),a.h(new _.K(_.M,6,6013)),null;e.loaded=!0;Wi(a)&&a.o.resolve();
return c},function(f){a.g||(a.f["delete"](c),a.h(new _.K(_.M,6,6005,{browserError:f.message})))})};
Si=function(a,b,c){try{if(a.u){a.b.debug("Creating new persistent session");var d=a.m.createSession(_.id)}else a.b.debug("Creating new temporary session"),d=a.m.createSession()}catch(m){a.h(new _.K(_.M,6,6005,{browserError:m.message}));return}a.l.on(d,_.Sc,a.nf.bind(a));a.l.on(d,_.Ic,a.gf.bind(a));a.f.set(d,{initData:c,loaded:!1,Pd:Infinity,Ha:null});if(a.a.keySystem.startsWith(ic)){var e=a.c.Ga[a.a.keySystem].modifiers;e=e&&e.extractContentId||ki;var f=a.i.getConfiguration(),g="",h="No content ID returned from |extractContentId| modifier",
l=void 0;if(typeof e===_.Cc){try{g=e(f,c)||""}catch(m){l=m,h="An error occured while extracting the content ID"}g||a.h(new _.K(_.M,6,6101,h,l))}c=ji(c,g,a.a.serverCertificate)}d.generateRequest(b,c.buffer)["catch"](function(m){if(!a.g){a.f["delete"](d);var n=null;m.errorCode&&m.errorCode.systemCode&&(n=m.errorCode.systemCode,0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16));a.h(new _.K(_.M,6,6006,{browserError:m.message,error:m,extended:n},m))}})};
Ni=function(a,b){var c=b.target;a.b.debug("Sending license request for session",c.sessionId);var d=a.f.get(c);if(a.keySystem()===_.lc&&a.c.enforceSingleSession&&a.R){if(d&&(!d.loaded||b.messageType!==_.Jc)){a.b.info("Skipping explicit license request since single session is in use and initialized.");return}a.R=!0}if(b.messageType===_.Jc)a.i.onEvent(new _.I(sc));var e=a.a.licenseServerUri,f=a.c.Ga[a.a.keySystem];"individualization-request"===b.messageType&&f&&f.individualizationServer&&(e=f.individualizationServer);
f=_.hg([e],a.c.attemptParameters);f.type=3;f.body=b.message;f.method="POST";f.licenseRequestType=b.messageType;a.a.keySystem!=_.kc&&a.a.keySystem!=jc||Xi(a,f);Oh(a.A,f);Yi(a,f);a.b.debug("Sending DRM license request to",e);a.i.Ab.fetch(f).promise.then(function(g){if(a.g)return Promise.reject();Ph(a.A,g);return c.update(g.data).then(function(){var h=new _.I(_.uc,{keySystem:a.keySystem(),qh:_.Ui(a)});a.i.onEvent(h);d&&(d.Ha&&d.Ha.resolve(),(new _.sg(function(){d.loaded=!0;Wi(a)&&a.o.resolve()})).P(5))})},
function(g){a.g||(g=new _.K(_.M,6,6007,{message:"Error while fetching license!",url:g.data.url,status:g.data.status,response:g.data.response,headers:g.data.headers},g),a.h(g),d&&d.Ha&&d.Ha.reject(g))})["catch"](function(g){a.g||(g=new _.K(_.M,6,6008,{browserError:g.message}),a.h(g),d&&d.Ha&&d.Ha.reject(g))})};
Xi=function(a,b){var c=of(b.body,!0,!0);if(c.includes("PlayReadyKeyMessage")){a.b.debug("Unwrapping PlayReady request.");c=(new DOMParser).parseFromString(c,"application/xml");for(var d=c.getElementsByTagName("HttpHeader"),e=0;e<d.length;++e)b.headers[d[e].querySelector("name").textContent]=d[e].querySelector(_.Ud).textContent;b.body=_.di(c.querySelector("Challenge").textContent).buffer}else a.b.debug("PlayReady request is already unwrapped."),b.headers[na]="text/xml; charset\x3dutf-8"};
Yi=function(a,b){var c=a.c.Ga[a.a.keySystem],d=(c=c&&c.modifiers)&&c.licenseRequest,e=c&&c.licenseResponse,f=a.i.getConfiguration();d?b.requestModifiers.push(function(g){return d(f,g)}):a.a.keySystem.startsWith(ic)&&b.requestModifiers.push(function(g){var h=_.N(g.body);g.body=_.uf(encodeURIComponent("spc\x3d"+btoa(lf(h)))).buffer;g.headers[na]=Hb});e?b.responseModifiers.push(function(g){return e(f,g)}):a.a.keySystem.startsWith(ic)&&b.responseModifiers.push(function(g){a:{try{var h=_.mf(g.data)}catch(l){g=
void 0;break a}h=h.trim();"\x3cckc\x3e"===h.substr(0,5)&&"\x3c/ckc\x3e"===h.substr(-6)&&(h=h.slice(5,-6));try{h=JSON.parse(h).ckc}catch(l){}g.data=_.di(h).buffer;g=void 0}return g})};Ai=function(a){var b=a.Ia,c=a.S;c.clear();b.forEach(function(d,e){return c.set(e,d)});b=Array.from(c.values());b.length&&b.every(function(d){return"expired"==d})&&a.h(new _.K(_.M,6,6014));a.i.Sd(_.J.he(c))};
_.Zi=function(a,b){if(!a.length)return b;if(!b.length)return a;for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)if(a[d].keySystem==b[e].keySystem){var f=a[d];e=b[e];var g=[];g=g.concat(f.initData||[]);g=g.concat(e.initData||[]);var h=[];h=h.concat(f.keyIds);h=h.concat(e.keyIds);c.push({keySystem:f.keySystem,licenseServerUri:f.licenseServerUri||e.licenseServerUri,distinctiveIdentifierRequired:f.distinctiveIdentifierRequired||e.distinctiveIdentifierRequired,persistentStateRequired:f.persistentStateRequired||
e.persistentStateRequired,videoRobustness:f.videoRobustness||e.videoRobustness,audioRobustness:f.audioRobustness||e.audioRobustness,serverCertificate:f.serverCertificate||e.serverCertificate,initData:g,keyIds:h});break}return c};Bi=function(a){a.f.forEach(function(b,c){var d=b.Pd,e=c.expiration;isNaN(e)&&(e=Infinity);e!=d&&(a.i.onExpirationUpdated(c.sessionId,e),b.Pd=e)})};Wi=function(a){a=a.f.values();return _.li(a,function(b){return b.loaded})};
Ii=function(a,b){var c=[];b.forEach(function(f,g){c.push({keySystem:g,licenseServerUri:f.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var d=_.v(a),e=d.next();!e.done;e=d.next())e.value.drmInfos=c};
Vi=function(a,b,c,d,e){a.forEach(function(f){b.includes(f.licenseServerUri)||b.push(f.licenseServerUri);f.serverCertificate&&(c.some(function(h){return _.gi(h,f.serverCertificate)})||c.push(f.serverCertificate));f.initData&&f.initData.forEach(function(h){d.some(function(l){return l.keyId&&l.keyId==h.keyId?!0:l.initDataType==h.initDataType&&_.gi(l.initData,h.initData)})||d.push(h)});if(f.keyIds)for(var g=0;g<f.keyIds.length;++g)e.includes(f.keyIds[g])||e.push(f.keyIds[g])})};
Ki=function(a,b){if(a.keySystem){var c=b[a.keySystem];a.keySystem===_.dd&&a.licenseServerUri||(c&&(a.licenseServerUri=c.licenseUrl||""),a.keyIds||(a.keyIds=[]),c&&(a.distinctiveIdentifierRequired||(a.distinctiveIdentifierRequired=c.distinctiveIdentifierRequired),a.persistentStateRequired||(a.persistentStateRequired=c.persistentStateRequired),a.videoRobustness||(a.videoRobustness=c.videoRobustness||""),a.audioRobustness||(a.audioRobustness=c.audioRobustness||""),a.serverCertificate||(a.serverCertificate=
c.serverCertificate||null)),window.cast&&window.cast.__platform__&&a.keySystem===_.kc&&(a.keySystem=jc))}};Di=function(a){var b,c;return _.z(function(d){if(1==d.a)return b=new Promise(function(e){(new _.sg(e)).P(1)}),_.x(d,Promise.race([a.close().then(function(){return!0}),b.then(function(){return!1})]),2);(c=d.b)||_.C("Timeout waiting for session close");_.y(d)})};$i=function(a,b,c){this.c=new Uint8Array(a);this.a=b;this.b=c};
_.bj=function(a){var b=new Uint8Array(aj),c=4+b.byteLength+a.c.byteLength+4+a.b.byteLength,d=new _.Qh(c,!1);_.P(d,c);_.Sh(d,b);_.Sh(d,a.c);_.P(d,a.b.byteLength);_.Sh(d,a.b);return _.N(d.buffer)};cj=function(){$i.apply(this,arguments)};_.ej=function(a){var b=_.ei(a);b=parseInt(b.byteLength,10).toString(16);b=_.ei("12"+b+a);return new cj(dj,a,b)};_.fj=function(a,b,c,d){$i.call(this,a,b,d);this.f=c};
_.ij=function(a){a:{a=new _.Th(new DataView(a.buffer),!0);_.Yh(a);for(_.Xh(a);_.Uh(a);)if(1===_.Xh(a)){var b=_.Xh(a);a=_.ai(a,b);break a}a=null}b=of(a,!0);b=_.Q.sf(b,"WRMHEADER");var c=_.Q.J(b,"DATA")[0];b=_.Q.J(c,"LA_URL")[0];b=_.Q.lb(b);c=_.Q.J(c,"KID")[0];c=_.Q.lb(c)||"";c=_.di(c);c=_.gj(c);c=_.fi(c);return new _.fj(_.hj,c,b,a)};_.gj=function(a){var b=[];b.push(a[3]);b.push(a[2]);b.push(a[1]);b.push(a[0]);b.push(a[5]);b.push(a[4]);b.push(a[7]);b.push(a[6]);a=_.N(a);a.set(b,0);return a};jj=function(){};
mj=function(a){a&&(0<=kj.indexOf(a)?lj.warn(Ia+a.name+da):(kj.push(a),lj.info("Registered SubtitleManager-Factory: '"+a.name+"'")))};_.nj=function(a,b){this.id=a;this.type=b;this.roles=[];this.channelsCount=this.src=this.mimeType=this.frameRate=this.label=this.language=this.kind=null;this.renditions=[]};_.oj=function(a,b){this.track=b;this.id=a;this.originalId=this.drmInfo=this.codec=this.bandwidth=this.height=this.width=null};_.pj=function(a){return void 0!==a&&null!==a&&""!==a?a:null};
sj=function(a){if(!a)throw new _.K(_.M,3,3101,ua+a);if(!_.J.X(a))throw new _.K(_.M,3,3101,ua+a+". Track type must be a string!");switch(a.toLowerCase()){case _.R:return _.R;case _.S:return _.S;case _.qj:return _.qj;case rj:return rj}throw new _.K(_.M,3,3101,"Unknown track type: "+a+".");};uj=function(a,b){a=sj(a);var c=_.pj(b.kind),d=b.id;d||(d=String(_.tj++));d=new _.nj(d,c===Tc?rj:a);d.kind=c;d.label=_.pj(b.label);d.language=_.pj(b.language);return d};
_.vj=function(a,b){this.promise=a;this.j=b;this.a=!1};wj=function(a,b){a.promise.then(function(){return b(!0)},function(){return b(!1)});return a};xj=function(a,b,c){try{var d=a(b);if(d&&d.promise&&d.abort)return c.resolve(d.promise),function(){return d.abort()};c.resolve(d);return function(){return Promise.resolve(d).then(function(){})["catch"](function(){})}}catch(e){return c.reject(e),function(){return Promise.resolve()}}};
zj=function(a){_.vj.call(this,new _.Of,function(){return Promise.resolve()});this.l=a;this.c=null;this.i=this.promise;this.b=-1;this.f=this.g=this.h=null;yj(this)};Aj=function(a,b,c){a.h=setTimeout(b,c)};
yj=function(a){a.c=a.l.then(function(d){a.f=d.request;d.request.uriIndex=d.request.currentAttempt%d.request.uris.length;if(0<d.request.currentAttempt){-1===a.b&&(a.b=Bj(d.request.baseDelay,1E3));var e=a.b*(1+(2*Math.random()-1)*Bj(d.request.fuzzFactor,.5));a.b*=Bj(d.request.backoffFactor,2);if(0<e)return(new Promise(function(f,g){a.g=g;Aj(a,function(){f(d.plugin(d.request))},e)}))["catch"](function(f){if(!a.a)throw f;})}if(a.a)throw new _.K(1,1,7001,{url:d.request.uris[d.request.uriIndex],request:d.request});
return d.plugin(d.request)});var b=0,c=0;return a.c.then(function(d){var e=d.request;e.currentAttempt+=1;b=e.currentAttempt;c=e.maxAttempts;return d.promise}).then(function(d){a.i.resolve(d)})["catch"](function(d){if(d instanceof _.K){if(1===d.a&&7001!==d.code&&b<c)return yj(a);7001!==d.code&&_.jf(d,_.M);a.i.reject(d)}else a.i.reject(d)})};Bj=function(a,b){return null===a||void 0===a?b:a};Cj=function(a){this.b=a;this.g=null;this.c=new _.Xe;this.a=this.h=null;this.f=[];this.i=new _.E("clpp.native.Metadata")};
Ej=function(a,b){a.g=b;a.h=a.g.textTracks;a.c.on(a.h,ub,function(c){c=c.track;c.kind===Tc&&Dj(a,c)})};
Dj=function(a,b){function c(h){for(var l=_.v(d),m=l.next();!m.done;m=l.next())if(m=m.value,h.startTime===m.startTime&&h.endTime===m.endTime)return m;d.push({schemeIdUri:"",value:"",startTime:h.startTime,endTime:h.endTime,id:"",type:Fj,eventElement:null});return d[d.length-1]}a.i.debug("onMetadata_()");b.mode=_.Ec;var d=[];if(b.cues){for(var e=_.v(b.cues),f=e.next();!f.done;f=e.next())if(f=f.value,!Gj(a,f)){var g=c(f);switch(f.value.key){case "SCTE35-IN":case "SCTE35-OUT":g.schemeIdUri="urn:scte:scte35:2014";
g.type=Hj;break;case "X-CUSTOM-ID":g.id=f.value.data}}e=_.v(d);for(f=e.next();!f.done;f=e.next())a.b.trigger(new _.I(_.Jd,{detail:f.value}));Array.prototype.push.apply(a.f,d);a.c.off(b,nc);a.c.on(b,nc,function(h){h=h.target.activeCues;h=h.length?Gj(a,h[0]):a.a;var l;if(l=h)l=a.b.getPosition(),l=h.startTime<=l&&l<h.endTime;if(l)a.a=h,a.b.trigger(new _.I(_.Kd,{detail:h}));else{if(h=a.a)h=a.a,l=a.b.getPosition(),h=h.endTime<=l;h&&(h=a.a,a.a=null,a.b.trigger(new _.I(_.Ld,{detail:h})))}})}};
Gj=function(a,b){for(var c=_.v(a.f),d=c.next();!d.done;d=c.next())if(d=d.value,b.startTime===d.startTime&&b.endTime===d.endTime)return d;return null};_.U=function(){};_.Jj=function(a,b){for(var c=_.v(Ij),d=c.next();!d.done;d=c.next())if(d=d.value,d.probe(a,b))return d.create();return null};
Kj=function(){this.a=new _.E("clpp.native.TrackManager");this.b=null;this.f=new _.Xe;this.g=[];this.j=0;this.i={};this.l=[];this.c=new Map;this.h=new Map;this.v=this.Ud.bind(this,_.R);this.A=this.Wd.bind(this,_.R);this.w=this.Vd.bind(this,_.R);this.C=this.Ud.bind(this,_.qj);this.I=this.Wd.bind(this,_.qj);this.F=this.Vd.bind(this,_.qj);this.m=this.Ud.bind(this,_.S);this.u=this.Wd.bind(this,_.S);this.o=this.Vd.bind(this,_.S)};
Lj=function(a,b,c){return a.type!==c?!1:void 0!==b.id&&null!==b.id&&""!==b.id?a.id===b.id:_.J.ua(a,b,["kind","language","label"])};
Oj=function(a,b){var c,d,e,f,g,h,l;return _.z(function(m){if(1==m.a){c=_.Jj(b.mimeType,_.Fd);if(!c)return a.a.warn("Track mimetype is not supported",b),m["return"]();d=_.hg(b.url);return _.x(m,a.b.getNetworkEngine().fetch(d).promise,2)}(e=m.b)&&e.data&&(f="External_"+a.j++,a.i[f]=b,g=_.Mj(_.N(e.data)),h=URL.createObjectURL(new Blob([g])),l={url:h,kind:b.kind,language:b.language,label:b.label,mimeType:_.Fd},Nj(a,l,f));_.y(m)})};
Nj=function(a,b,c){if(a.b){var d=a.b.getSurface().D();if(d){var e=document.createElement("track");e.id=c;e.src=b.url;e.kind=b.kind;e.srclang=b.language;b.label&&(e.label=b.label);d.appendChild(e);a.l.push(e)}}};Pj=function(a,b){if(!a.b)return null;var c=a.b.getSurface();if(!c)return null;c=c.D();if(!c)return null;switch(b){case _.S:return c.audioTracks;case _.qj:return c.videoTracks;case _.R:return c.textTracks;default:return null}};Qj=function(a,b){return a.g.filter(function(c){return c.type===b})};
Rj=function(a,b){var c=a.c.get(b)||null;return c&&c.renditions[0]};Sj=function(a,b){var c=a.h.get(b);return c&&c.renditions[0]};
Tj=function(a,b,c){if(c){if(void 0===a.g.find(function(l){return l.id===c.id}))throw Error("Unknown track with ID "+c.id+" and type "+b);if(c.type!==b)throw Error("Types mismatch for track "+c.type+" and arg "+b);a.a.debug("Activate track type "+b+" with ID: "+c.id);var d=Pj(a,b);if(d){a.h.set(b,c);var e=!0,f=!1;switch(b){case _.R:var g="mode";e=_.wd;f=_.qc;break;case _.S:g="enabled";break;case _.qj:g="selected"}if(g){d=_.v(d);for(var h=d.next();!h.done;h=d.next())h=h.value,h[g]=Lj(c,h,c.type)?e:
f}}}else if(a.a.debug(_.qa+b),g=a.c.get(b)||null,e=Pj(a,b),g&&e&&b===_.R){g=_.v(e);for(h=g.next();!h.done;h=g.next())h.value.mode=_.qc;a.c.set(b,null)}b===_.S?a.b.trigger(new _.I(_.Ob)):b===_.R&&a.b.trigger(new _.I(_.Id))};Uj=function(a){return a.enabled||a.selected||a.mode===_.wd};Vj=function(a,b,c){a.a.info("Find preferred tracks for",b,c);var d=Qj(a,b);_.zf(c)&&(d=d.find(function(e){return e.language===c}))&&(a.a.info(_.ab,d),Tj(a,b,d))};Wj=function(){};
_.Xj=function(){return Object.assign({},{text:"",startTime:0,endTime:0,align:_.$b,id:"",line:_.Pb,lineAlign:_.yd,Fi:!1,position:_.Pb,positionAlign:_.Pb,size:100,snapToLines:!0,vertical:""},{})};Yj=function(a){this.h=a;this.f=this.c=null;this.b=new _.Xe;this.a=!1;this.g=new _.E("clpp.native.CueHandler")};Zj=function(a,b){var c="startTime endTime align id line lineAlign pauseOnExit position positionAlign size snapToLines vertical".split(" ");c=void 0===c?[]:c;a&&b&&c.forEach(function(d){b[d]=a[d]})};
ak=function(a,b){var c=b.track;c.mode=_.Ec;a.b.on(c,nc,function(d){d=d.target||d.srcElement;d.mode=_.Ec;d=d.activeCues;var e=/\n/g,f,g=d.length,h="",l=_.Xj(),m=_.pc;for(f=0;f<g;f++)h+=d[f].text+(f<g-1?"\x3cbr\x3e":"");Zj(d[0],l);h?l.text=h.replace(e,"\x3cbr\x3e"):(l.text="",l.startTime=0,l.endTime=0,m=_.oc);a.h.trigger(new _.I(m,l))})};bk=function(){this.a=null;this.b=[]};
_.ck=function(a,b){if(null==a.a)a.a={timestamp:Date.now()/1E3,state:b,duration:0};else{var c=Date.now()/1E3;a.a.duration=c-a.a.timestamp;a.a.state!=b&&(a.b.push(a.a),a.a={timestamp:c,state:b,duration:0})}};dk=function(a,b){var c=0;a.a&&a.a.state==b&&(c+=a.a.duration);for(var d=_.v(a.b),e=d.next();!e.done;e=d.next())e=e.value,c+=e.state==b?e.duration:0;return c};
ek=function(a){function b(f){return{timestamp:f.timestamp,state:f.state,duration:f.duration}}for(var c=[],d=_.v(a.b),e=d.next();!e.done;e=d.next())c.push(b(e.value));a.a&&c.push(b(a.a));return c};fk=function(){this.c=this.b=this.f=null;this.a=[]};gk=function(a){return a.a.map(function(b){return _.J.hb(b)})};_.hk=function(){this.h=this.l=this.i=this.m=this.f=this.g=this.b=this.c=NaN;this.a=new bk;this.j=new fk};
_.ik=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}};jk=function(){_.Pg.call(this,ec);this.o=this.u=!1;this.h=this.m=this.i=this.b=this.g=null;this.c=new _.Xe;this.f=this.v=null};
mk=function(a,b){return a.o?kk():new Promise(function(c){a.b||(a.c.on(b,_.zc,function(){var d=lk(a);if(d)a.onError(d)}),a.c.on(b,_.sd,function(){a.trigger(new _.I(_.Rb,{detail:{width:b.videoWidth,height:b.videoHeight}}))}),a.b=b);c()})};nk=function(a){return a.o?kk():new Promise(function(b){if(a.b){var c=a.b;a.c.off(c,_.zc);a.c.off(c,_.sd);a.b=null}b()})};
pk=function(a){var b,c,d,e;return _.z(function(f){if(1==f.a){if(a.o)return f["return"](kk());if(!a.a.drm)return a.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),f["return"](Promise.resolve());b=_.ok;c=_.rh(a.a.drm);a.log.debug("Drm configuration: ",c);d=a.getNetworkEngine();a.i=new _.Ci({Ab:d,onError:function(g){return a.onError(g)},Sd:function(){},onExpirationUpdated:function(g,h){a.trigger(new _.I(_.rc,{expirationTime:h}))},onEvent:function(g){return a.trigger(g)},
getConfiguration:function(){return a.getConfiguration()}});a.i.c=c;e={id:0,language:_.Od,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:a.getDuration.bind(a),initSegmentReference:null,presentationTimeOffset:0,mimeType:_.Zd,codecs:"",encrypted:!0,keyId:null,language:_.Od,label:null,type:b.VIDEO,primary:!1,frameRate:void 0,
Gi:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,Sf:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0};return _.x(f,_.Hi(a.i,[e],[]),2)}return 3!=f.a?_.x(f,_.Ri(a.i,a.b),3):f["return"](Promise.resolve())})};rk=function(a,b){function c(){a.getState()!==_.qk&&a.seek(b)["catch"](function(d){a.log.warn("Error while seeking to start position.",d)})}if(a.b.readyState>HTMLMediaElement.HAVE_NOTHING)c();else a.c.one(a.b,_.Pc,c)};
lk=function(a){if(null===a.j||!a.b.error)return null;var b=a.b.error.code;if(1===b)return null;var c=a.b.error.msExtendedCode;c&&(0>c&&(c+=Math.pow(2,32)),c=c.toString(16));return new _.K(_.M,3,3016,{code:b,kj:c,message:a.b.error.message})};kk=function(){return Promise.reject(new _.K(_.M,7,7E3))};
sk=function(a){function b(){h.reject(lk(a))}function c(){l||h.reject(new _.K(_.M,3,3100,{message:"Unable to load media source successfully from "+d.url,uri:d.url},f.error))}if(a.o)return kk();var d=a.j[a.getSourceIndex()],e=a.a.startTime||null,f=a.b,g=a.v;e&&rk(a,e);a.c.one(f,_.Oc,function(){var m=Date.now()/1E3-g;a.f.i=m;a.log.debug("Time to load: ",m)});f.src=d.url;var h=new _.Of,l=!1;f.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?h.resolve():f.error?h.reject(lk(a)):(a.c.one(f,_.Oc,function(){l=
!0;a.c.off(f,xd,c);a.c.off(f,_.zc,b);h.resolve()}),a.c.one(f,_.zc,b),a.c.one(f,xd,function(){(new _.sg(function(){return c()})).P(5)}));return new _.vj(h,function(){var m=new _.K(_.M,7,7001);h.reject(m);return Promise.resolve()})};tk=function(){this.name=ec};uk=function(){};vk=function(){this.name="clpp.native"};xk=function(a){_.wk.forEach(function(b){b&&a(b)})};zk=function(){for(var a=0;a<yk.length;++a)yk[a].Qb()};
_.Ak=function(a,b){b=b||0;for(var c={priority:b,Qb:a},d=0;d<yk.length;d++)if(yk[d].priority<b){yk.splice(d,0,c);return}yk.push(c)};Ek=function(a){a=(new _.Sf(a)).ha;if(!a)return null;a=a.toUpperCase();return _.yf(a,".MPD")?_.Bk:_.yf(a,".M3U8")?_.Ck:_.yf(a,".MP4")?_.Zd:_.yf(a,"MANIFEST")||_.yf(a,".ISM")?_.Dk:null};
_.Gk=function(a){var b;_.Og(a)?b=a.source:b=a;Array.isArray(b)||(b=[b]);b=b.filter(function(e){return typeof e===_.Bd||e.hasOwnProperty("url")});a=[];for(var c=0;c<b.length;c++){var d=Fk(b[c]);Fk&&a.push(d)}return a};
Fk=function(a){var b=null;_.J.X(a)&&(a={url:a});typeof a===_.Xc&&!Array.isArray(a)&&a.hasOwnProperty("url")&&(b={url:a.url,type:a.type?a.type:null},_.J.H(a.Tb)||typeof a.Tb!==_.Sb||(b.Tb=a.Tb),_.J.H(a.isLive)||typeof a.isLive!==_.Sb||(b.isLive=a.isLive),_.J.H(a.name)||typeof a.name!==_.Bd||(b.name=a.name));b&&!b.type&&(b.type=Ek(a.url),b.type?Hk.debug("Detect media type "+b.type+" for "+a.url):Hk.warn("Unable to detect media type for "+a.url));return b};Ik=function(a,b){a.onError(b);a.release().then(function(){return a.destroy()})};
Jk=function(a,b,c){this.c=a;this.b=b;JSON.parse(_.mf(rf(a)));this.a=JSON.parse(_.mf(rf(b)));this.f=c};Kk=function(a){this.license=a;this.b=null;this.a=new _.E("clpp.utils.LicenseKey")};Lk=function(a){if(!a.b){var b=a.license.split(".");if(3!=b.length)throw Error("Expected to find 3 data sections in JWT raw data");b=new Jk(b[0],b[1],b[2]);a.b=b}return a.b};
Mk=function(a){switch((a.Wc()[0]||{src:"",type:""}).type){case _.Bk:a="dash";break;case _.Dk:a="ss";break;case _.Ck:a="hls";break;case _.Zd:a=_.Vc;break;default:a=""}return a};Nk=function(a){return a.viewerId?a.viewerId:(a=a.drm||null)&&a.customData&&a.customData.userId?""+a.customData.userId:""};Ok=function(a){return(a=a.drm||null)&&a.customData&&a.customData.assetId?""+a.customData.assetId:""};Pk=function(a){return(a=a.drm||null)&&a.customData&&a.customData.sessionId?""+a.customData.sessionId:""};
Qk=function(a){a=a.getConfiguration();var b="no";a.drm&&(b="custom",a.drm&&a.drm.env&&a.drm.env.startsWith(oa)&&(b="drmtoday"));return b};Rk=function(a){a=a.getDrmInfo();var b="";if(a)switch(a.keySystem){case _.lh:b="wv";break;case _.nh:b="pr";break;case _.mh:b="fps"}return b};Sk=function(a){a=a.getDrmInfo();var b=!1;a&&(b=a.persistentStateRequired);return b.toString()};
Tk=function(a){a=a.getDrmInfo();var b="";if(a)switch(a.videoRobustness){case sa:case "HW_SECURE_ALL":b="L1";break;case ra:b="L2";break;case Qa:case Pa:b="L3"}return b};
Wk=function(a,b){if(!window.location.protocol.startsWith("http"))return a.a.debug("Registration protocol check",window.location.protocol,window.location.protocol.startsWith("http")),Promise.resolve();var c="ie"===_.Ig().browser,d=b.getConfiguration();d={"CL-KEY":a.license,"CL-LOCATION":window.location.href,"CL-SDK-VERSION":"6","CL-USER-ID":Nk(d),"CL-ASSET-ID":Ok(d),"CL-SESSION-ID":Pk(d),"CL-PLAYBACK-TYPE":b.isLive()?Uk:Vk,"CL-CONTENT-TYPE":Mk(b),"CL-PLUGINS":b.Hh().join(" "),"CL-DRM":Qk(b),"CL-DRM-CDM":Rk(b),
"CL-DRM-SEC-LEVEL":Tk(b),"CL-DRM-OFFLINE":Sk(b)};if(c){var e=window.localStorage.getItem("cl_et");e&&(d["CL-ETAG"]=e)}e=_.hg(["https://downloads.castlabs.com/r/register/"]);e.method="GET";e.headers=d;return(new _.fg).fetch(e).promise.then(function(f){a.a.debug("Registration response",f);200===f.status&&c&&window.localStorage.setItem("cl_et",f.headers.etag);return Promise.resolve()})["catch"](function(f){a.a.debug("Registration error",f);a:{var g=Lk(a);f=f.data;var h=f.status;if(g.a&&g.a.ilv)f=Promise.resolve();
else{switch(h){case 403:case 404:g=7101;var l="castLabs Player license is invalid";l=403===h?l+(": "+f.response):l+"!";break;case 412:g=7103;l="userID is required for playback!";break;default:f=Promise.resolve();break a}f=Promise.reject(new _.K(_.M,7,g,l))}}return f})};
V=function(a,b,c){_.bf.call(this);var d=this;zk();this.c=new _.E("clpp.Player");if(!a)throw new _.K(_.M,7,7102);if(null===b)throw new _.K(_.M,7,7100,"Null configuration provided! Unable to initialize the player!");this.b=this.A=b||_.Kg();void 0===this.b.license&&(this.b.license="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g",
this.c.warn("You are using the embedded demo license!"));if(!this.b.license)throw new _.K(_.M,7,7101,"No license provided in configuration!");this.f=new $g(a,c);this.j=this.a=this.i=null;this.m=new _.fg;this.g=null;this.v=[];this.w={};this.h=null;this.u=this.l=this.o=!1;this.on(_.zd,function(){d.getState()===_.qk&&d.unload()});Xk(this,this.b.license);this.f.D()&&(a=this.f.D(),a.hasAttribute("autoplay")&&(a.removeAttribute("autoplay"),this.c.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),
void 0===this.b.autoplay&&(this.b.autoplay=!0,this.c.debug("Setting autoplay in configuration since it was specified in the video element"))));var e=[];Yk.forEach(function(f){try{var g=f.create(d.b);g&&e.push(g)}catch(h){d.c.error("Error while creating player plugin",h)}});Zk(this,e);_.wk.clear()};_.$k=function(a,b){b!==a.a&&(a.a&&(a.a.removeDelegate(a),a.a.destroy()),a.a=b,a.a&&(a.a.init(a.f,a.b),a.a.setNetworkEngine(a.getNetworkEngine()),a.a.addDelegate(a)))};
Xk=function(a,b){a.i=new Kk(b);a.i.verify()["catch"](function(c){setTimeout(function(){a.c.error("License verification failed: "+c);a.trigger(new _.I(_.zc,{detail:new _.K(_.M,7,7101)}));a.destroy()},1E3)})};
al=function(a){a.f.D();a.i||(a.i=new Kk(a.b.license));var b=Object.keys(a.w);Wk(a.i,{getConfiguration:a.getConfiguration.bind(a),Wc:a.Wc.bind(a),getDrmInfo:a.getDrmInfo.bind(a),Hh:function(){return b},isLive:a.isLive.bind(a)}).then(function(){a.c.debug("License verified remotely")})["catch"](function(c){setTimeout(Ik,1E3,{release:a.release.bind(a),destroy:a.destroy.bind(a),onError:a.onError.bind(a)},c)})};
Zk=function(a,b){a.v=b;a.zc("onPlayerCreated").then(function(){a.v.forEach(function(c){var d=c.id();d&&(a.w[d]=c)})})};
bl=function(a,b){return new Promise(function(c,d){var e;a:{if(b){for(e=0;e<b.length;e++);e=Object.values(_.ef);for(var f=0;f<e.length;f++)for(var g=0;g<b.length;g++)if(e[f].canPlay(b[g])){_.ff.debug("Player Factory '"+e[f].name+"' can play",b[g]);e=new cf(e[f],g);break a}_.ff.error("No compatible Player Factory found for sources:",b)}e=null}e?(f=e.b.create(),c(new df(f,e.a))):(e=new _.I(_.zc,{detail:new _.K(_.M,7,7003)}),a.trigger(e),d(e))})};
_.dl=function(a,b){var c,d,e,f;return _.z(function(g){switch(g.a){case 1:if(a.l)throw Error("Player is already destroyed.");if(!a.f)throw Error("No surface associated with this player!");return _.x(g,a.release(),2);case 2:a.h=_.Gk(b);c=_.Og(b);a.b=_.Ng(a.A,c?b:{},{source:a.h});if(0===a.h.length)throw Error("Invalid request to load: could not find source to load");a.o=!1;d=a.h.findIndex(function(h){return a.canPlay(h)});if(-1!==d&&!a.u){g.a=3;break}return _.x(g,bl(a,a.h),4);case 4:f=g.b,e=f.a,d=f.b,
a.u=!1;case 3:return e?_.$k(a,e):a.a.addDelegate(a),cl(a,a.b),a.g=gh(a,a.b).create(a),a.setSourceIndex(d),xk(function(h){h.lc()}),_.x(g,a.zc("onContentWillLoad",a.b.source[d]),0)}})};_.fl=function(a){var b;return _.z(function(c){a.f.D();b=function(d){(d=d.detail)&&d.currentState===_.el&&(al(a),a.off(_.zd,b))};a.on(_.zd,b);a.trigger(new _.I(Qc));return _.x(c,Promise.all([a.a.load(a.b),a.g.load()]),0)})};
_.gl=function(a){var b,c,d;return _.z(function(e){if(1==e.a){if(a.b.remoteTextTracks)for(b=_.v(a.b.remoteTextTracks),c=b.next();!c.done;c=b.next())d=c.value,a.getTrackManager().addTextTrack(d);xk(function(f){f.qe()});return _.x(e,a.zc(_.Yc,a.getThumbnailStreams()),2)}a.b.autoplay?e=_.x(e,a.play(),0):(e.a=0,e=void 0);return e})};cl=function(a,b){var c;a:{for(c=0;c<kj.length;c++){var d=kj[c];if(d.canPlay(b)){lj.info("Chosen subtitle: "+d.name);c=d;break a}}c=null}c&&(a.j=c.create(a))};
_.hl=function(a){a&&(0<=Yk.indexOf(a)||Yk.push(a))};_.il=function(a){this.b=a;this.a=0};kl=function(a){_.jl(a,/[ \t]+/gm)};_.jl=function(a,b){b.lastIndex=a.a;var c=b.exec(a.b);c=null==c?null:{position:c.index,length:c[0].length,results:c};if(a.a==a.b.length||null==c||c.position!=a.a)return null;a.a+=c.length;return c.results};ll=function(a){return a.a==a.b.length?null:(a=_.jl(a,/[^ \t\n]*/gm))?a[0]:null};ml=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])};
nl=function(a){return"middle"===a?_.$b:"left"===a||a===Lc?_.yd:"right"===a||a===Mc?_.xc:a};_.ol=function(a,b){var c=a.indexOf(b);-1<c&&a.splice(c,1)};_.pl=function(a,b,c,d,e,f,g){a=_.hg(a);a.timeout=d.timeout;a.maxAttempts=d.maxAttempts;a.baseDelay=d.baseDelay;a.fuzzFactor=d.fuzzFactor;a.backoffFactor=d.backoffFactor;if(0!=b||null!=c)a.headers.Range=c?"bytes\x3d"+b+"-"+c:"bytes\x3d"+b+"-";e&&(a.startTime=e);f&&(a.endTime=f);g&&(a.contentType=g);return a};_.eg=function(){this.a=[]};
_.ql=function(a,b){a.a.push(wj(b,function(){_.ol(a.a,b)}))};_.rl=function(a){this.c=Math.exp(Math.log(.5)/a);this.b=this.a=0};_.sl=function(a,b,c){var d=Math.pow(a.c,b);c=c*(1-d)+d*a.a;isNaN(c)||(a.a=c,a.b+=b)};_.tl=function(a){return a.a/(1-Math.pow(a.c,a.b))};_.vl=function(a){var b=(a||"").split("-");a=b[0]||"";b=b[1]||"";a=a.toLowerCase();a=ul.get(a)||a;return(b=b.toUpperCase())?a+"-"+b:a};_.wl=function(){};
_.Hl=function(a,b,c){this.startTime=a;this.direction=xl;this.endTime=b;this.payload=c;this.region=new yl;this.position=null;this.positionAlign=zl;this.size=100;this.textAlign=Al;this.writingMode=Bl;this.lineInterpretation=Cl;this.line=null;this.lineHeight="";this.lineAlign=Dl;this.displayAlign=El;this.fontSize=this.backgroundImage=this.backgroundColor=this.color="";this.fontWeight=Fl;this.fontStyle=Gl;this.fontFamily="";this.textDecoration=[];this.wrapLine=!0;this.id=""};
yl=function(){this.id="";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Il;this.scroll=Jl};_.Kl=function(a){this.i=null;this.c=a;this.f=this.l=0;this.g=Infinity;this.b=this.a=null;this.j="";this.h=new Map};_.Ml=function(a){return _.Ll[a]||window.muxjs&&a==_.Ab?!0:!1};Nl=function(){};
Ol=function(a){var b=[];if(!a)return b;for(var c=a.childNodes,d=0;d<c.length;d++){var e="span"==c[d].nodeName&&"p"==a.nodeName;c[d].nodeType!=Node.ELEMENT_NODE||"br"==c[d].nodeName||e||(e=Ol(c[d]),b=b.concat(e))}b.length||b.push(a);return b};Pl=function(a,b){for(var c=a.childNodes,d=0;d<c.length;d++)if("br"==c[d].nodeName&&0<d)c[d-1].textContent+="\n";else if(0<c[d].childNodes.length)Pl(c[d],b);else if(b){var e=c[d].textContent.trim();e=e.replace(/\s+/g," ");c[d].textContent=e}};
Tl=function(a,b,c,d,e,f,g,h){if(!a.hasAttribute("begin")&&!a.hasAttribute(_.xc)&&/^\s*$/.test(a.textContent))return null;Pl(a,h);h=Ql(a.getAttribute("begin"),c);var l=Ql(a.getAttribute(_.xc),c);c=Ql(a.getAttribute("dur"),c);var m=a.textContent;null==l&&null!=c&&(l=h+c);if(null==h||null==l)return _.C("TtmlTextParser: ignoring cue without start and end time."),null;b=new _.Hl(h+b,l+b,m);if((f=Rl(a,"region",f,""))&&f.getAttribute(le)){var n=f.getAttribute(le);g=g.filter(function(p){return p.id==n});
b.region=g[0]}d=Rl(a,"smpte:backgroundImage",d,"#");Sl(b,a,f,d,e);return b};
Sl=function(a,b,c,d,e){"rtl"==Ul(b,c,e,"direction")&&(a.direction="rtl");var f=Ul(b,c,e,"writingMode");"tb"==f||"tblr"==f?a.writingMode=_.Vd:"tbrl"==f?a.writingMode=_.Wd:"rltb"==f||"rl"==f?a.direction="rtl":f&&(a.direction=xl);if(f=Ul(b,c,e,"textAlign"))a.positionAlign=Vl[f],a.lineAlign=Wl[f],a.textAlign=Xl[f.toUpperCase()];if(f=Ul(b,c,e,"displayAlign"))a.displayAlign=Yl[f.toUpperCase()];if(f=Ul(b,c,e,"color"))a.color=f;if(f=Ul(b,c,e,"backgroundColor"))a.backgroundColor=f;if(f=Ul(b,c,e,"fontFamily"))a.fontFamily=
f;(f=Ul(b,c,e,"fontWeight"))&&"bold"==f&&(a.fontWeight=700);(f=Ul(b,c,e,"wrapOption"))&&"noWrap"==f&&(a.wrapLine=!1);(f=Ul(b,c,e,"lineHeight"))&&f.match(Zl)&&(a.lineHeight=f);(f=Ul(b,c,e,"fontSize"))&&f.match(Zl)&&(a.fontSize=f);if(f=Ul(b,c,e,"fontStyle"))a.fontStyle=$l[f.toUpperCase()];if(d){f=d.getAttribute("imagetype");var g=d.getAttribute("encoding");d=d.textContent;"PNG"==f&&"Base64"==g&&d&&(a.backgroundImage="data:image/png;base64,"+d)}(c=am(c,e,Hd))&&bm(a,c);(b=cm(b,e,Hd))&&bm(a,b)};
bm=function(a,b){for(var c=b.split(" "),d=0;d<c.length;d++)switch(c[d]){case Pd:a.textDecoration.includes(Pd)||a.textDecoration.push(Pd);break;case "noUnderline":a.textDecoration.includes(Pd)&&_.ol(a.textDecoration,Pd);break;case Nc:a.textDecoration.includes(Nc)||a.textDecoration.push(Nc);break;case "noLineThrough":a.textDecoration.includes(Nc)&&_.ol(a.textDecoration,Nc);break;case fd:a.textDecoration.includes(fd)||a.textDecoration.push(fd);break;case "noOverline":a.textDecoration.includes(fd)&&_.ol(a.textDecoration,
fd)}};Ul=function(a,b,c,d){return(a=cm(a,c,d))?a:am(b,c,d)};am=function(a,b,c){for(var d=Ol(a),e=0;e<d.length;e++){var f=_.Q.getAttributeNS(d[e],Gc,c);if(f)return f}return(a=Rl(a,"style",b,""))?_.Q.getAttributeNS(a,Gc,c):null};cm=function(a,b,c){return(a=Rl(a,"style",b,""))?_.Q.getAttributeNS(a,Gc,c):null};
Rl=function(a,b,c,d){if(!a||1>c.length)return null;var e=null,f=a;for(a=null;f&&!(a=f.getAttribute(b))&&(f=f.parentNode,f instanceof Element););if(b=a)for(a=0;a<c.length;a++)if(d+c[a].getAttribute(le)==b){e=c[a];break}return e};
Ql=function(a,b){var c=null;if(dm.test(a)){c=dm.exec(a);var d=Number(c[1]),e=Number(c[2]),f=Number(c[3]),g=Number(c[4]);g+=(Number(c[5])||0)/b.b;f+=g/b.frameRate;c=f+60*e+3600*d}else em.test(a)?c=fm(em,a):gm.test(a)?c=fm(gm,a):hm.test(a)?(c=hm.exec(a),c=Number(c[1])/b.frameRate):im.test(a)?(c=im.exec(a),c=Number(c[1])/b.a):jm.test(a)&&(c=fm(jm,a));return c};
fm=function(a,b){var c=a.exec(b);return null==c||""==c[0]?null:(Number(c[4])||0)/1E3+(Number(c[3])||0)+60*(Number(c[2])||0)+3600*(Number(c[1])||0)};km=function(a,b,c,d){this.frameRate=Number(a)||30;this.b=Number(b)||1;this.a=Number(d);0==this.a&&(this.a=a?this.frameRate*this.b:1);c&&(a=/^(\d+) (\d+)$/g.exec(c))&&(this.frameRate*=Number(a[1])/Number(a[2]))};lm=function(){this.a=new Nl};mm=function(){};
pm=function(a,b,c){var d;if(d=/^align:(start|middle|center|end|left|right)$/.exec(b))b=d[1],"middle"==b?a.textAlign=Al:a.textAlign=Xl[b.toUpperCase()];else if(d=/^vertical:(lr|rl)$/.exec(b))a.writingMode="lr"==d[1]?_.Vd:_.Wd;else if(d=/^size:([\d.]+)%$/.exec(b))a.size=Number(d[1]);else if(d=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(b))a.position=Number(d[1]),d[2]&&(b=d[2],a.positionAlign=b==Lc||b==_.yd?Lc:b==Mc||b==_.xc?Mc:_.$b);else if(d=/^region:(.*)$/.exec(b)){if(b=
nm(c,d[1]))a.region=b}else{a:{if(c=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(b))a.lineInterpretation=1,a.line=Number(c[1]),c[2]&&(a.lineAlign=om[c[2].toUpperCase()]);else if(c=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(b))a.lineInterpretation=Cl,a.line=Number(c[1]),c[2]&&(a.lineAlign=om[c[2].toUpperCase()]);else{a=!1;break a}a=!0}return a}return!0};
nm=function(a,b){var c=a.filter(function(d){return d.id==b});return c.length?c[0]:(_.C("VTT parser could not find a region with id: ",b," The region will be ignored."),null)};qm=function(a){a=_.jl(a,/(?:(\d{1,}):)?(\d{1,2}):(\d{1,2})\.(\d{3})/g);if(null==a)return null;var b=Number(a[2]),c=Number(a[3]);return 59<b||59<c?null:Number(a[4])/1E3+c+60*b+3600*(Number(a[1])||0)};rm=function(){this.a=null;this.b=new _.E("clpp.vtt.mp4")};
tm=function(a,b,c){var d,e,f;(new _.ri).G("payl",ui(function(g){d=_.mf(g)})).G("iden",ui(function(g){e=_.mf(g)})).G("sttg",ui(function(g){f=_.mf(g)})).parse(a);return d?sm(d,e,f,b,c):null};sm=function(a,b,c,d,e){a=new _.Hl(d,e,a);b&&(a.id=b);if(c)for(b=new _.il(c),c=ll(b);c;)pm(a,c,[])||_.C($a,c,aa),kl(b),c=ll(b);return a};um=function(){};
_.Mj=function(a){a=_.mf(a);a=a.replace(/\r+/g,"");a=a.replace(/^\s+|\s+$/g,"");a=a.replace(/<[a-zA-Z\/][^>]*>/g,"");var b=a.split("\n\n");a="";if(0<b.length){a+="WEBVTT\n\n";b=_.v(b);for(var c=b.next();!c.done;c=b.next())a+=vm(c.value)}return _.uf(a)};
vm=function(a){var b="";for(a=a.split(/\n/);3<a.length;){for(var c=3;c<a.length;++c)a[2]+="\n"+a[c];a.splice(3,a.length-3)}if(3!==a.length)return"";c=0;!a[0].match(/\d+:\d+:\d+/)&&a[1].match(/\d+:\d+:\d+/)&&(b+=a[0].match(/\w+/)+"\n",++c);if(a[c].match(/\d+:\d+:\d+/)){var d=a[1].match(/(\d+):(\d+):(\d+)(?:,(\d+))?\s*--?>\s*(\d+):(\d+):(\d+)(?:,(\d+))?/);if(d)b+=d[1]+":"+d[2]+":"+d[3]+"."+d[4]+" --\x3e ",b+=d[5]+":"+d[6]+":"+d[7]+"."+d[8]+"\n",++c;else return""}else return"";a[c]&&(b+=a[c]+"\n\n");
return b};wm=function(){};xm=function(){};
Am=function(a){this.c=new _.E("clpp.StateManager");this.a=a;this.b=_.ym;this.j=_.zm;this.A=0;this.i=-1;this.F=this.h=this.C=this.m=0;this.g=this.l=this.o=this.u=!1;this.v=0;this.f=null;this.w=0;this.C=(new Date).getTime();this.c.debug("Start watching for video events for "+this.a.namespace());this.a.on(_.yc,this.ff,this);this.a.on(Vb,this.re,this);this.a.on(_.ld,this.ue,this);this.a.on(_.hd,this.te,this);this.a.on(md,this.ve,this);this.a.on(_.nd,this.we,this);this.a.on(_.ud,this.Pc,this);this.a.on(_.vd,
this.Qc,this);this.a.on(xd,this.xe,this);this.a.on(_.be,this.pf,this);this.a.on(_.zc,this.se,this);this.a.on(_.Pc,this.hf,this);this.a.on(_.Td,this.Qc,this);this.a.on(_.Sd,this.Pc,this)};Bm=function(a,b){return Object.keys(b)[a]};
Dm=function(a,b){var c={type:_.zd};b===_.Ub||b===_.Tb?(c.reason=a.i,b===_.Ub?c.timeSinceLastStateChangeMS=a.A:c.bufferedTimeMS=a.m):(a.b===_.Cm&&(c.reason=a.i),a.j===_.Cm&&(c.reason=a.i,c.bufferedTimeMS=a.m),c.currentState=a.b,c.previousState=a.j,c.timeSinceLastStateChangeMS=a.A);return c};
Hm=function(a,b){if(a.b===b)return!1;var c=(new Date).getTime(),d=a.b===_.Cm;a.j=a.b;a.b=b;a.j===_.Em&&(a.C=c,a.h=0);a.h||(a.h=a.C||c);a.A=c-a.h;a.h=c;b===_.Cm?(a.F=a.h,a.i=a.l?1:2,a.c.info("Buffering started. Reason: "+Bm(a.i-1,_.Fm)),c=Dm(a,_.Ub),a.Dc(_.Ub,c)):d&&(a.m=a.h-a.F,a.c.info("Buffering finished. Reason: "+Bm(a.i-1,_.Fm)+". Buffering time: "+a.m+" ms"),c=Dm(a,_.Tb),a.Dc(_.Tb,c));c=Bm(a.j,_.Gm);d=Bm(a.b,_.Gm);a.c.info(_.Ha+c+" -\x3e "+d);a.Dc(_.zd,Dm(a,""));return!0};
Im=function(a){return a.a.namespace()!==gc};
Km=function(a,b){if(a.b===_.qk)a.c.warn("Player is in error state, aborting any further state checks");else{var c=a.a?a.a.isEnded():!1;if(c)Hm(a,_.Em)&&a.c.warn("Player claims to be in ended state, not checking more");else{var d=a.a.getPosition();d=null!==d&&void 0!==d&&0<=d?a.a.getBufferInfo().sa(d,!0):-1;a.v=d;var e=a.a.getSurface().D();a.f=e?e.readyState:null;a.w=a.a.getPlaybackRate()||1;a.o=a.a.isPaused();d=a.l;var f=0===a.w&&!a.o;e=Im(a)&&typeof a.f===_.Wc&&2>a.f&&2===e.networkState;var g=Im(a)&&
typeof a.f===_.Wc&&0>=a.v&&a.b===_.ym,h=Im(a)&&typeof a.f===_.Wc&&2>=a.f&&a.g,l=Im(a)&&void 0===a.f&&a.g,m=a.a.namespace()===gc&&!0,n=!1;d||g||f||e||h||l||m?n=Hm(a,_.Cm):a.o?n=Hm(a,_.Jm):a.u&&(n=Hm(a,_.el));a.c.debug("Video state check for event "+b+":: seeking: "+a.l+", waiting: "+a.g+", playing: "+a.u+", paused: "+a.o+", readyState: "+a.f+", rate: "+a.w+", buffer: "+a.v+", ended: "+c+". Changed state: "+n+", Current state: "+Bm(a.b,_.Gm))}}};
Lm=function(a,b,c){return new window.TextTrackCue(a,b,c)};Mm=function(a,b,c){return new window.TextTrackCue(a+"-"+b+"-"+c,a,b,c)};Nm=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}};Pm=function(a,b,c){if("input"===a)switch(this.type){case "range":a=ac}Om.call(this,a,b,c)};Rm=function(a,b){_.F("PatchedMediaKeysApple.requestMediaKeySystemAccess");try{var c=new Qm(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}};
Qm=function(a,b){_.F("PatchedMediaKeysApple.MediaKeySystemAccess");this.keySystem=a;if(a.startsWith(ic))for(var c=_.v(b),d=c.next();!d.done;d=c.next()){var e=d.value;if(e.persistentState==_.rd)d=null;else{d={audioCapabilities:[],videoCapabilities:[],persistentState:_.cd,distinctiveIdentifier:_.cd,initDataTypes:e.initDataTypes,sessionTypes:[_.Ed],label:e.label};var f=!1,g=!1;if(e.audioCapabilities)for(var h=_.v(e.audioCapabilities),l=h.next();!l.done;l=h.next())l=l.value,l.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,
l.contentType.split(";")[0])&&(d.audioCapabilities.push(l),g=!0));if(e.videoCapabilities)for(e=_.v(e.videoCapabilities),l=e.next();!l.done;l=e.next())h=l.value,h.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,h.contentType.split(";")[0])&&(d.videoCapabilities.push(h),g=!0));f||(g=WebKitMediaKeys.isTypeSupported(this.keySystem,_.Zd));d=g?d:null}if(d){this.a=d;return}}c=Error(_.Xa);c.name=_.Fa;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};
Tm=function(a){_.F("PatchedMediaKeysApple.setMediaKeys");var b=this.mediaKeys;b&&b!=a&&Sm(b,null);delete this.mediaKeys;return(this.mediaKeys=a)?Sm(a,this):Promise.resolve()};Um=function(a){_.F("PatchedMediaKeysApple.MediaKeys");this.b=new WebKitMediaKeys(a);this.a=new _.Xe};Sm=function(a,b){_.$e(a.a);if(!b)return Promise.resolve();a.a.on(b,fe,Vm);try{if(1<=b.readyState)b.webkitSetMediaKeys(a.b);else a.a.one(b,_.Pc,function(){b.webkitSetMediaKeys(a.b)});return Promise.resolve()}catch(c){return Promise.reject(c)}};
Xm=function(a){_.F("PatchedMediaKeysApple.MediaKeySession");_.bf.call(this);this.c=null;this.g=a;this.b=this.a=null;this.f=new _.Xe;this.sessionId="";this.expiration=NaN;this.closed=new _.Of;this.keyStatuses=new Wm};Vm=function(a){_.F("PatchedMediaKeysApple.onWebkitNeedKey_",a);var b=new Event(_.wc);b.initDataType=_.Zb;b.initData=a.initData;this.dispatchEvent(b)};Ym=function(a,b){var c=a.keyStatuses;c.size=void 0==b?0:1;c.a=b;a.dispatchEvent(new _.I(_.Ic))};Wm=function(){this.size=0;this.a=void 0};
Zm=function(){_.F("PatchedMediaKeysNop.requestMediaKeySystemAccess");return Promise.reject(Error("The key system specified is not supported."))};$m=function(a){_.F("PatchedMediaKeysNop.setMediaKeys");return null==a?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))};an=function(){throw new TypeError(ta);};bn=function(){throw new TypeError(ta);};
cn=function(a){var b=a.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(typeof Event===_.Cc)var c=new Event(b,a);else c=document.createEvent("Event"),c.initEvent(b,a.bubbles,a.cancelable);a.target.dispatchEvent(c)};dn=function(a){a=a.target;if(a.webkitPresentationMode===jd){document.pictureInPictureElement=a;var b=new Event("enterpictureinpicture");a.dispatchEvent(b)}else document.pictureInPictureElement===a&&(document.pictureInPictureElement=null),b=new Event("leavepictureinpicture"),a.dispatchEvent(b)};
en=function(){return this.webkitSupportsPresentationMode(jd)?(this.webkitSetPresentationMode(jd),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))};fn=function(){var a=document.pictureInPictureElement;return a?(a.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))};
gn=function(a){this.a=a;this.a.getConfiguration();a=this.a.getSurface();if(!a.i||!document.querySelector(ea)){var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div");Vg(ea,{backgroundColor:td,bottom:0,fontSize:"1.92vw",flexDirection:"column",justifyContent:"flex-end",left:0,marginBottom:"30px",maxHeight:"100%",maxWidth:"100%",pointerEvents:"none",position:"absolute",right:0,top:0,overflow:_.Ec});Vg(".clpp-show-flex",{display:"block"});Vg(".clpp-hidden",
{display:"none"});Vg(".clpp-subtitle-window",{backgroundColor:td,flexDirection:"row",justifyContent:_.$b,position:"relative",width:"100%",boxSizing:"border-box"});Vg(".clpp-subtitle-cues",{color:"#fff",backgroundColor:td});_.Sg(b,"clpp-subtitle-container");_.Sg(c,"clpp-subtitle-window");_.Sg(d,"clpp-subtitle-cues");c.appendChild(d);b.appendChild(c);a.Lc(b);a.i=b;a.l=c;a.j=d}this.b=a.i;this.f=a.l;this.c=a.j;this.a.on(_.pc,this.Cb,this);this.a.on(_.oc,this.Bb,this)};hn=function(){this.name="clpp_enhanced"};
_.jn=function(a,b,c,d,e){this.c=a;this.b=b;this.a=c;this.keyInfo=d||null;this.g=!!e};_.kn=function(a,b,c,d,e,f,g,h){this.position=a;this.startTime=b;this.endTime=c;this.c=d;this.b=e;this.a=f;this.keyInfo=g||null;this.g=!!h};_.ln=function(a){this.a=a};_.mn=function(a,b){for(;a.a.length;)if(0>=a.a[0].endTime)a.a.shift();else break;if(0!=a.a.length){var c=a.a[a.a.length-1];c.startTime>=b||(a.a[a.a.length-1]=new _.kn(c.position,c.startTime,b,c.c,c.b,c.a))}};
_.nn=function(a,b,c){var d=void 0===d?!1:d;this.h=a;this.Xd=b;this.Fb=this.c=Infinity;this.a=1;this.i=0;this.f=this.g=null;this.j=0;this.b=!0;this.o=void 0===c?!0:c;this.l=new _.E("clpp.media.PresentationTimeline");this.m=d};
_.pn=function(a,b,c){if(0!=b.length){var d=b[b.length-1].endTime+c;_.on(a,b[0].startTime+c);a.a=b.reduce(function(e,f){return Math.max(e,f.endTime-f.startTime)},a.a);a.f=Math.max(a.f,d);null!=a.h&&a.o&&(a.h=(Date.now()+a.j)/1E3-a.f-a.a);a.l.debug("notifySegments: maxSegmentDuration\x3d"+a.a)}};_.on=function(a,b){a.g=null==a.g?b:Math.min(a.g,b)};_.qn=function(a,b){a.a=Math.max(a.a,b);a.l.debug("notifyNewSegmentDuration: maxSegmentDuration\x3d"+a.a)};
_.sn=function(a){if(Infinity==a.Fb)return 0;a=_.rn(a)-a.Fb;return Math.max(0,a)};_.rn=function(a){if(a.isLive()||Infinity!=a.c&&!a.b){var b=(Date.now()+a.j)/1E3;a=Math.min(a.m?Math.max(0,b-(a.a-a.i)-a.h):Math.max(0,b-a.a-a.h),a.c)}else a=a.c;return a};_.tn=function(){};oe=typeof Object.create==_.Cc?Object.create:function(a){function b(){}b.prototype=a;return new b};
if(typeof Object.setPrototypeOf==_.Cc)un=Object.setPrototypeOf;else{var vn;a:{var wn={Df:!0},xn={};try{xn.__proto__=wn;vn=xn.Df;break a}catch(a){}vn=!1}un=vn?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var pe=un,qe="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,re=typeof Object.defineProperties==_.Cc?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
se("Promise",function(a){function b(g){this.b=0;this.g=void 0;this.a=[];var h=this.c();try{g(h.resolve,h.reject)}catch(l){h.reject(l)}}function c(){this.a=null}function d(g){return g instanceof b?g:new b(function(h){h(g)})}if(a)return a;c.prototype.b=function(g){if(null==this.a){this.a=[];var h=this;this.c(function(){h.g()})}this.a.push(g)};var e=qe.setTimeout;c.prototype.c=function(g){e(g,0)};c.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var h=0;h<g.length;++h){var l=
g[h];g[h]=null;try{l()}catch(m){this.f(m)}}}this.a=null};c.prototype.f=function(g){this.c(function(){throw g;})};b.prototype.c=function(){function g(m){return function(n){l||(l=!0,m.call(h,n))}}var h=this,l=!1;return{resolve:g(this.m),reject:g(this.f)}};b.prototype.m=function(g){if(g===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.o(g);else{a:switch(typeof g){case _.Xc:var h=null!=g;break a;case _.Cc:h=!0;break a;default:h=!1}h?this.l(g):this.h(g)}};
b.prototype.l=function(g){var h=void 0;try{h=g.then}catch(l){this.f(l);return}typeof h==_.Cc?this.u(h,g):this.h(g)};b.prototype.f=function(g){this.i(2,g)};b.prototype.h=function(g){this.i(1,g)};b.prototype.i=function(g,h){if(0!=this.b)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.b);this.b=g;this.g=h;this.j()};b.prototype.j=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)f.b(this.a[g]);this.a=null}};var f=new c;b.prototype.o=function(g){var h=this.c();
g.Mc(h.resolve,h.reject)};b.prototype.u=function(g,h){var l=this.c();try{g.call(h,l.resolve,l.reject)}catch(m){l.reject(m)}};b.prototype.then=function(g,h){function l(q,t){return typeof q==_.Cc?function(u){try{m(q(u))}catch(A){n(A)}}:t}var m,n,p=new b(function(q,t){m=q;n=t});this.Mc(l(g,m),l(h,n));return p};b.prototype["catch"]=function(g){return this.then(void 0,g)};b.prototype.Mc=function(g,h){function l(){switch(m.b){case 1:g(m.g);break;case 2:h(m.g);break;default:throw Error("Unexpected state: "+
m.b);}}var m=this;null==this.a?f.b(l):this.a.push(l)};b.resolve=d;b.reject=function(g){return new b(function(h,l){l(g)})};b.race=function(g){return new b(function(h,l){for(var m=_.v(g),n=m.next();!n.done;n=m.next())d(n.value).Mc(h,l)})};b.all=function(g){var h=_.v(g),l=h.next();return l.done?d([]):new b(function(m,n){function p(u){return function(A){q[u]=A;t--;0==t&&m(q)}}var q=[],t=0;do q.push(void 0),t++,d(l.value).Mc(p(q.length-1),n),l=h.next();while(!l.done)})};return b});
ve.prototype.toString=function(){return this.a};var ue=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ve("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();ye.prototype.i=function(a){this.b=a};ye.prototype["return"]=function(a){this.g={"return":a};this.a=this.j};var Je=this||self;Je.a=!0;clpp={};_.r=_.Le.prototype;_.r.start=function(a){if(this.b)return this.b.start(a);if(a<this.a.length)return this.a[a].start;throw Error(Va);};_.r.end=function(a){if(this.b)return this.b.end(a);if(a<this.a.length)return this.a[a].end;throw Error(Va);};_.r.Ja=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)};
_.r.aa=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:this.end(this.length-1)};_.r.xb=function(a,b,c){b=void 0===b?!0:b;c=void 0===c?0:c;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)||a>this.end(this.length-1))return!1;if(b)return c+a>=this.start(0)&&a<=this.end(this.length-1);for(b=0;b<this.length;b++)if(c+a>=this.start(b)&&a<=this.end(b))return!0;return!1};
_.r.sa=function(a,b){b=void 0===b?!1:b;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0))return 0;var c=0;if(b){var d=this.aa();null!=d&&(c=Math.max(0,d-a))}else for(d=this.length-1;0<=d&&this.end(d)>a;--d)c+=this.end(d)-Math.max(this.start(d),a);return c};_.B("clpp.BufferInfo",_.Le);_.Le.prototype.bufferedAheadOf=_.Le.prototype.sa;_.Le.prototype.isBuffered=_.Le.prototype.xb;_.Le.prototype.bufferEnd=_.Le.prototype.aa;_.Le.prototype.bufferStart=_.Le.prototype.Ja;_.Le.prototype.end=_.Le.prototype.end;
_.Le.prototype.start=_.Le.prototype.start;_.J={Bf:20,hb:function(a){var b=_.J.H,c=_.J.$e,d=_.J.Va;return b(a)||c(a)?a:d(a)}};_.B("clpp.utils.obj.cloneItem",_.J.hb);_.J.Va=function(a){var b;var c={};var d=0;for(b=arguments.length;d<b;d++)null!==arguments[d]&&void 0!==arguments[d]&&(c=_.J.cf(c,{merging:arguments[d]}));return c.merging};_.B("clpp.utils.obj.merge",_.J.Va);
_.J.cf=function(a,b,c){var d=_.J.H,e=_.J.$e,f=_.J.cf,g=_.J.yb,h=_.J.Nh,l=_.J.Lh,m=_.J.uc;c=c+1||1;if(d(a)||!m(a))a={};for(var n in b)b.hasOwnProperty(n)&&(m=b[n],e(m)||d(m)||g(m)?a[n]=m:h(m)?a[n]=m.subarray(0):m instanceof Array?a[n]=f([],m):!d(m)&&l(m)&&c<_.J.Bf&&(a[n]=f(a[n],m,c)));return a};_.J.$e=function(a){a=typeof a;return a===_.Bd||a===_.Wc||a===_.Sb};_.J.H=function(a){return null===a||void 0===a};_.J.uc=function(a){return typeof a===_.Xc};_.J.yb=function(a){return typeof a===_.Cc};
_.J.X=function(a){return typeof a===_.Bd};_.J.Ua=function(a){return typeof a===_.Wc};_.J.Nh=function(a){var b=_.J.uc,c=_.J.yb;return!!(b(a)&&a.buffer&&a.buffer instanceof ArrayBuffer&&c(a.subarray))};_.J.Lh=function(a){var b=_.J.uc,c=_.J.H;return!c(a)&&b(a)&&a.constructor===Object};
_.J.ua=function(a,b,c,d){if(a===b||null===a&&null===b||void 0===a&&void 0===b)return!0;if(null===a&&null!==b||null!==a&&null===b||void 0!==a&&void 0===b||void 0===a&&void 0!==b||!_.J.uc(a)||!_.J.uc(b))return!1;for(var e=c||Object.keys(a),f={},g=0;g<e.length;g++){var h=e[g];if(_.J.H(d)||0>d.indexOf(h))if(f[h]=!0,a[h]!==b[h])return!1}if(_.J.H(c))for(a=Object.keys(b),b=0;b<a.length;b++)if(c=a[b],(_.J.H(d)||0>d.indexOf(c))&&!f[c])return!1;return!0};
_.J.isNaN=function(a){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(b){return b!==b})(a)};_.J.ge=function(a){var b=new Map;Object.keys(a).forEach(function(c){b.set(c,a[c])});return b};_.J.he=function(a){var b={};a.forEach(function(c,d){b[d]=c});return b};var Pe={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};_.B("clpp.log.Level",Pe);var Ne=3,Me={},yn=[];_.B("clpp.log.getLoggers",function(){return _.J.hb(Me)});_.B("clpp.log.addInterceptor",function(a){a&&yn.push(a)});_.B("clpp.log.removeInterceptor",function(a){a&&(a=yn.indexOf(a),0<=a&&yn.splice(a,1))});_.B("clpp.log.getTagLevel",Oe);_.B("clpp.log.hasTagLevel",function(a){return void 0===a?!1:0<=Me[a]});_.B("clpp.log.setTagLevel",function(a,b){a&&(_.J.X(b)&&(b=Qe(b)),Me[a]=b)});
_.B("clpp.log.setLogLevel",function(a){-1===a&&(a=3);_.J.X(a)&&(a=Qe(a));Ne=a});_.B("clpp.log.getLogLevel",function(){return Ne});_.B("clpp.log.Logger",_.E);
_.E.prototype.log=function(a,b){var c=arguments;if(window.console){var d=a;1<arguments.length?(d=arguments[0],Array.prototype.shift.call(arguments)):d=3;var e=Oe(this.a);if(0<=e){if(e<d)return}else if(Ne<d)return;this.a&&Array.prototype.unshift.call(arguments,"["+this.a+"]");e=new Date;e.toISOString&&(e=e.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,e));4===d?console.log.apply(console,arguments):3===d?console.info.apply(console,arguments):2===d?console.warn.apply(console,
arguments):1===d?console.error.apply(console,arguments):console.log.apply(console,arguments);0<yn.length&&yn.forEach(function(f){f.call(f,d,c)})}};_.E.prototype.log=_.E.prototype.log;_.E.prototype.info=function(a){Array.prototype.unshift.call(arguments,3);this.log.apply(this,arguments)};_.E.prototype.info=_.E.prototype.info;_.E.prototype.debug=function(a){Array.prototype.unshift.call(arguments,4);this.log.apply(this,arguments)};_.E.prototype.debug=_.E.prototype.debug;
_.E.prototype.warn=function(a){Array.prototype.unshift.call(arguments,2);this.log.apply(this,arguments)};_.E.prototype.warn=_.E.prototype.warn;_.E.prototype.error=function(a){Array.prototype.unshift.call(arguments,1);this.log.apply(this,arguments)};_.E.prototype.error=_.E.prototype.error;_.E.prototype.kh=function(a){return a?this.a?new _.E(this.a+"."+a):new _.E(a):this};_.E.prototype.createChild=_.E.prototype.kh;var Re=new _.E("clpp");_.B("clpp.log.info",_.Se);_.B("clpp.log.debug",_.F);
_.B("clpp.log.warn",_.C);_.B("clpp.log.error",_.Te);_.r=_.Ue.prototype;_.r.push=function(a,b){this.a.hasOwnProperty(a)?this.a[a].push(b):this.a[a]=[b]};_.r.get=function(a){return(a=this.a[a])?a.slice():[]};_.r.remove=function(a,b){var c=this.a[a];if(!c)return!1;for(var d=!1,e=0;e<c.length;++e)c[e]==b&&(c.splice(e,1),--e,d=!0);return d};_.r.clear=function(){this.a={}};_.r.forEach=function(a){for(var b in this.a)a(b,this.a[b])};/*

 Copyright 2016 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Ve.prototype.Dc=function(a){try{this.Qb.handleEvent?this.Qb.handleEvent(a):this.Qb.call(this.a,a)}catch(b){_.Te("clpp","Uncaught exception in event handler for event '"+this.b+"'",b,b?b.message:null,b?b.stack:null)}};_.I.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};_.I.prototype.stopImmediatePropagation=function(){this.a=!0};_.I.prototype.stopPropagation=function(){};_.B("clpp.EventBus",We);
We.prototype.trigger=function(a){var b=this.a.get(a.type);if(b)for(var c=0;c<b.length&&(a.target=this.b,a.currentTarget=this.b,b[c].Dc(a),b[c].Ki&&this.a.remove(a.type,b[c]),!a||!a.a);c++);};We.prototype.trigger=We.prototype.trigger;We.prototype.on=function(a,b,c){this.a.push(a,new Ve(a,b,c||this.b));return b};We.prototype.on=We.prototype.on;We.prototype.one=function(a,b,c){this.a.push(a,new Ve(a,b,c||this.b,!0));return b};We.prototype.one=We.prototype.one;
We.prototype.off=function(a,b){var c=this.a.get(a),d=!1;if(c)for(var e=0;e<c.length;e++)c[e].Qb===b&&(d=this.a.remove(a,c[e])||d);return d};We.prototype.off=We.prototype.off;We.prototype.clear=function(){this.a.clear()};We.prototype.clear=We.prototype.clear;_.Xe.prototype.release=function(){_.$e(this)};_.Xe.prototype.on=function(a,b,c,d){a=new af(a,b,c,void 0===d?!1:d);this.a.push(b,a)};_.Xe.prototype.one=function(a,b,c){function d(f){e.off(a,b,d);c(f)}var e=this;this.on(a,b,d)};_.Xe.prototype.off=function(a,b,c){for(var d=this.a.get(b)||[],e=0;e<d.length;++e){var f=d[e];f.target!=a||c!=f.listener&&c||(Ze(f),this.a.remove(b,f))}};_.bf.prototype.trigger=function(a){this.oc.trigger(a);0<this.Sb.length&&this.Sb.forEach(function(b){null!==a&&b.dispatchEvent(a)})};_.bf.prototype.addEventListener=function(a,b){this.on(a,b)};_.bf.prototype.addEventListener=_.bf.prototype.addEventListener;_.bf.prototype.removeEventListener=function(a,b){this.off(a,b)};_.bf.prototype.removeEventListener=_.bf.prototype.removeEventListener;_.bf.prototype.dispatchEvent=function(a){this.trigger(a);return a.defaultPrevented};
_.bf.prototype.on=function(a,b,c){return this.oc.on(a,b,c)};_.bf.prototype.on=_.bf.prototype.on;_.bf.prototype.one=function(a,b,c){return this.oc.one(a,b,c)};_.bf.prototype.one=_.bf.prototype.one;_.bf.prototype.off=function(a,b){return this.oc.off(a,b)};_.bf.prototype.off=_.bf.prototype.off;_.bf.prototype.addDelegate=function(a){a&&(0<=this.Sb.indexOf(a)||this.Sb.push(a))};_.bf.prototype.addDelegate=_.bf.prototype.addDelegate;
_.bf.prototype.removeDelegate=function(a){a&&(a=this.Sb.indexOf(a),0<=a&&this.Sb.splice(a,1))};_.bf.prototype.removeDelegate=_.bf.prototype.removeDelegate;_.ff=new _.E("clpp.players");_.ef={};_.B("clpp.events.ERROR",_.zc);_.B("clpp.events.LOADEDMETADATA",_.Pc);_.B("clpp.events.BUFFERING_ENDED",_.Tb);_.B("clpp.events.BUFFERING_STARTED",_.Ub);_.B("clpp.events.STATE_CHANGED",_.zd);_.B("clpp.events.AUDIO_TRACK_CHANGED",_.Ob);_.B("clpp.events.TEXT_TRACK_CHANGED",_.Id);_.B("clpp.events.VIDEO_TRACK_CHANGED",_.ae);_.B("clpp.events.BITRATE_CHANGED",_.Rb);_.B("clpp.events.TRACKS_ADDED",_.Nd);_.B("clpp.events.LOAD_START",Qc);_.B("clpp.events.RELEASING",_.pd);_.B("clpp.events.RELEASED",od);
_.B("clpp.events.DESTROYING","destroying");_.B("clpp.events.DESTROYED","destroyed");_.B("clpp.events.VIDEO_BUFFER_CHANGED",_.$d);_.B("clpp.events.AUDIO_BUFFER_CHANGED",_.Kb);_.B("clpp.events.DOWNLOAD_TRACE","downloadtrace");_.B("clpp.events.DRM_SESSION_UPDATE",_.uc);_.B("clpp.events.DRM_SESSION_PERSISTED",_.tc);_.B("clpp.events.DRM_RENEWAL_STARTED",sc);_.B("clpp.events.DRM_EXPIRATION_UPDATE",_.rc);_.B("clpp.events.AUTOPLAY_NOT_ALLOWED",_.Qb);_.B("clpp.events.PLAY",_.kd);
_.B("clpp.events.SEEKING",_.vd);_.B("clpp.events.SEEKED",_.ud);_.B("clpp.events.USER_SEEKING",_.Td);_.B("clpp.events.USER_SEEKED",_.Sd);_.Fm={SEEKING:1,NO_DATA:2};_.B("clpp.events.BufferingReasons",_.Fm);_.B("clpp.events.ADS_TIMELINE_CHANGED",_.vb);_.B("clpp.events.AD_LOADED",_.ib);_.B("clpp.events.AD_BREAK_STARTED",_.bb);_.B("clpp.events.AD_STARTED",_.qb);_.B("clpp.events.AD_BUFFERING",_.db);_.B("clpp.events.AD_PROGRESS",_.nb);_.B("clpp.events.AD_FIRST_QUARTILE",_.gb);
_.B("clpp.events.AD_MIDPOINT",_.jb);_.B("clpp.events.AD_THIRD_QUARTILE",_.sb);_.B("clpp.events.AD_PAUSED",_.mb);_.B("clpp.events.AD_RESUMED",_.ob);_.B("clpp.events.AD_SKIPPED",_.pb);_.B("clpp.events.AD_CLICKED",_.eb);_.B("clpp.events.AD_IMPRESSION",_.hb);_.B("clpp.events.AD_COMPLETED",_.fb);_.B("clpp.events.AD_STOPPED",_.rb);_.B("clpp.events.AD_BREAK_STOPPED",_.cb);_.B("clpp.events.CASTING_STARTED",_.Xb);_.B("clpp.events.CASTING_ENDED","castingended");_.B("clpp.events.CAST_STATUS_CHANGED",_.Yb);
_.B("clpp.events.AIRPLAY_STATUS_CHANGED",_.yb);_.B("clpp.events.AIRPLAY_CASTING_STARTED",_.xb);_.B("clpp.events.AIRPLAY_CASTING_ENDED",_.wb);_.B("clpp.events.TIMELINE_CUE_ADDED",_.Jd);_.B("clpp.events.TIMELINE_CUE_ENTER",_.Kd);_.B("clpp.events.TIMELINE_CUE_EXIT",_.Ld);_.w(_.K,Error);_.K.prototype.toString=function(){var a=this.message;this.b&&(a+="\n Caused by "+this.b);return a};_.B("clpp.Error",_.K);_.M=2;_.K.Severity={RECOVERABLE:1,FATAL:_.M};_.K.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10};
_.K.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,BUFFER_READ_OUT_OF_BOUNDS:3E3,
JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,
QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,
UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,
CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,
FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7E3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,INVALID_CONFIGURATION:7100,
INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8E3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9E3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,IMA_SDK_MISSING:1E4,IMA_INVALID_CONFIGURATION:10001,AD_ERROR:10003,BROADPEAK_SDK_MISSING:11E3,BROADPEAK_SESSION_ERROR:11001};for(var nf=new _.E("clpp.utils.strings"),sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qf=[],zn=0,An=sf.length;zn<An;++zn)qf[sf.charCodeAt(zn)]=zn;qf[61]=0;_.B("clpp.utils.strings.fromUtf8",_.mf);_.B("clpp.utils.strings.fromBytesAutoDetect",_.pf);_.B("clpp.utils.strings.fromBase64",rf);_.B("clpp.utils.strings.toBase64",_.tf);_.B("clpp.utils.strings.toUtf8",_.uf);_.B("clpp.utils.strings.toUtf16",_.vf);_.B("clpp.utils.strings.toByteArray",wf);
_.B("clpp.utils.strings.startsWith",xf);_.B("clpp.utils.strings.endsWith",_.yf);_.B("clpp.utils.strings.bitrateToString",function(a){if(void 0===a||null===a||""===a)return"";try{var b=Number(a);if(_.J.isNaN(b))return"";a="bps";1E3<=Math.abs(b)&&(a="Kbps",b/=1E3);1E3<=Math.abs(b)&&(a="Mbps",b/=1E3);return b.toFixed(2).replace(/[.,]00$/,"")+a}catch(c){return""}});
_.B("clpp.utils.strings.durationToStirng",function(a,b){function c(h){return function(l,m){return d(h,m.length-1)}}function d(h,l){return h.length<l?d("0"+h,l):h}b=void 0===b?"%h:%mm:%ss":b;if(null===a||void 0===a)a=0;if(null===b||void 0===b)b="%h:%mm:%ss";var e=Math.floor(a/3600),f=Math.floor((a-3600*e)/60),g=Math.floor(a-3600*e-60*f);return b.replace(/(%h+)/,c(String(e))).replace(/(%m+)/,c(String(f))).replace(/(%s+)/,c(String(g)))});
_.B("clpp.utils.strings.hashCode",function(a){var b=0,c;if(0===a.length)return b;for(c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return b});_.Af.parse=function(a){var b=a.split(":");if(2>b.length||"data"!==b[0])throw _.Te("Bad data URI, failed to parse scheme"),new _.K(_.M,1,1004,{uri:a});b=b.slice(1).join(":").split(",");if(2>b.length)throw _.Te("Bad data URI, failed to extract encoding and MIME type"),new _.K(_.M,1,1004,{uri:a});var c=b[0];b=window.decodeURIComponent(b.slice(1).join(","));c=c.split(";");var d="";1<c.length&&(d=c[1]);if("base64"===d)a=rf(b).buffer;else{if(d)throw _.Te("Bad data URI, unknown encoding "+d),new _.K(_.M,
1,1005,{uri:a});a=_.uf(b).buffer}return{data:a,contentType:c[0]}};Nf.g=function(a,b,c,d){var e,f,g,h,l,m,n,p,q,t,u,A,D,G,H;return _.z(function(L){switch(L.a){case 1:return e=Nf.f,l=h=Date.now(),L.c=2,_.x(L,e(a,c),4);case 4:f=L.b;m=f.headers.get(ma);Qf(b,m);n=m?parseInt(m,10):0;if(b.onFragment&&b.type===_.Bn)return t=f.body.getReader(),u=new Hf(n),A=function(T,wa){if(d.kc)return null;if(wa&&wa.data){var Ra=Date.now();Df(b,wa.data.byteLength,Ra-h);h=Ra}return b.onFragment&&wa?b.onFragment(wa):null},_.x(L,Kf(u,t,A,b.onProgress),8);p=f.body.getReader();q=new Bf(n);
return _.x(L,Ef(q,p,b),7);case 7:g=L.b;L.a=6;break;case 8:g=L.b;case 6:_.Be(L,3);break;case 2:D=_.Ce(L);if(d.kc)throw new _.K(1,1,7001,{url:a,request:b});if(d.Af)throw new _.K(1,1,1003,{url:a,request:b});_.Te("Error while fetching data:",D);throw new _.K(1,1,1002,{url:a,error:D,request:b,status:-1},D);case 3:G={};H=f.headers;H.forEach(function(T,wa){G[wa.trim()]=T});if(d.kc)throw new _.K(1,1,7001,{url:a,request:b});return L["return"](_.Rf(G,g,f.status,a,f.url,b,Date.now()-l))}})};
Nf.da=function(){return!(!window.fetch||!window.AbortController)};Nf.f=window.fetch;Nf.a=window.AbortController;Nf.h=window.ReadableStream;Nf.b=window.Headers;_.Of.prototype.resolve=function(){};_.Of.prototype.reject=function(){};Pf.c=window.XMLHttpRequest;var Xf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;_.r=_.Sf.prototype;_.r.wa="";_.r.Jb="";_.r.ta="";_.r.bc=null;_.r.ha="";_.r.ib="";_.r.toString=function(){var a=[],b=this.wa;b&&a.push($f(b,Cn,!0),":");if(b=this.ta){a.push("//");var c=this.Jb;c&&a.push($f(c,Cn,!0),"@");a.push(encodeURIComponent(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.bc;null!=b&&a.push(":",String(b))}if(b=this.ha)this.ta&&"/"!=b.charAt(0)&&a.push("/"),a.push($f(b,"/"==b.charAt(0)?Dn:En,!0));(b=this.a.toString())&&a.push("?",b);(b=this.ib)&&a.push("#",$f(b,Fn));return a.join("")};
_.r.resolve=function(a){var b=new _.Sf(this);"data"===b.wa&&(b=new _.Sf);var c=!!a.wa;c?Tf(b,a.wa):c=!!a.Jb;c?b.Jb=a.Jb:c=!!a.ta;c?b.ta=a.ta:c=null!=a.bc;var d=a.ha;if(c)Uf(b,a.bc);else if(c=!!a.ha){if("/"!=d.charAt(0))if(this.ta&&!this.ha)d="/"+d;else{var e=b.ha.lastIndexOf("/");-1!=e&&(d=b.ha.substr(0,e+1)+d)}if(".."==d||"."==d)d="";else if(-1!=d.indexOf("./")||-1!=d.indexOf("/.")){e=0==d.lastIndexOf("/",0);d=d.split("/");for(var f=[],g=0;g<d.length;){var h=d[g++];"."==h?e&&g==d.length&&f.push(""):
".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),e&&g==d.length&&f.push("")):(f.push(h),e=!0)}d=f.join("/")}}c?b.ha=d:c=""!==a.a.toString();c?Vf(b,Wf(a.a)):c=!!a.ib;c&&(b.ib=a.ib);return b};var Cn=/[#\/\?@]/g,En=/[#\?:]/g,Dn=/[#\?]/g,ag=/[#\?@]/g,Fn=/#/g;Zf.prototype.a=null;Zf.prototype.c=null;
Zf.prototype.add=function(a,b){if(!this.a&&(this.a={},this.c=0,this.b))for(var c=this.b.split("\x26"),d=0;d<c.length;d++){var e=c[d].indexOf("\x3d"),f=null;if(0<=e){var g=c[d].substring(0,e);f=c[d].substring(e+1)}else g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));f=f||"";this.add(g,decodeURIComponent(f.replace(/\+/g," ")))}this.b=null;(c=this.a.hasOwnProperty(a)&&this.a[a])||(this.a[a]=c=[]);c.push(b);null!==this.c&&this.c++;return this};
Zf.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var a=[],b;for(b in this.a)for(var c=encodeURIComponent(b),d=this.a[b],e=0;e<d.length;e++){var f=c;""!==d[e]&&(f+="\x3d"+encodeURIComponent(d[e]));a.push(f)}return this.b=a.join("\x26")};_.r=_.fg.prototype;_.r.release=function(){return this.f.destroy()};_.r.destroy=function(){this.g=!0;this.b=[];this.c=[];return this.f.destroy()};_.r.Nf=function(a){this.b.push(a)};_.r.qd=function(a){this.c.push(a)};_.r.Li=function(a){this.b=this.b.filter(function(b){return b!==a})};_.r.$d=function(a){this.c=this.c.filter(function(b){return b!==a})};
_.r.fetch=function(a){var b=this;if(this.g)return new zj(Promise.reject(new _.K(1,1,7001,{url:a.uris[a.uriIndex],request:a})));try{var c=[];this.b.forEach(function(h){c.push(h)});a.requestModifiers&&0<a.requestModifiers.length&&a.requestModifiers.forEach(function(h){c.push(h)});a.requestModifiers=c;var d=[];this.c.forEach(function(h){d.push(h)});a.responseModifiers&&0<a.responseModifiers.length&&a.responseModifiers.forEach(function(h){d.push(h)});a.responseModifiers=d;var e=new _.Of,f=e;a.requestModifiers&&
0<a.requestModifiers.length&&a.requestModifiers.forEach(function(h){f=f.then(function(l){if(g.a)throw new _.K(_.M,1,7001,l?{url:l.uris[l.uriIndex],request:l}:null);return h(l)||l})["catch"](function(l){if(l instanceof _.K)throw l;throw new _.K(_.M,1,1006,null,l);})});f=f.then(function(h){var l=new _.Sf(h.uris[h.uriIndex]),m=l.wa;m||(m=location.protocol,m=m.slice(0,-1),Tf(l,m),h.uris[h.uriIndex]=l.toString());m=b.a[m];if(!m)throw new _.K(_.M,1,1E3,{url:l.toString()});return{request:h,plugin:m}});var g=
new zj(f);a.responseModifiers&&0<a.responseModifiers.length&&a.responseModifiers.forEach(function(h){g.then(function(l){if(g.a)throw new _.K(_.M,1,7001,l?{url:l.request.uris[l.request.uriIndex],request:l.request}:null);return h(l)||l})["catch"](function(l){if(l instanceof _.K)throw l;throw new _.K(_.M,1,1007,null,l);})});_.ql(this.f,g);e.resolve(a);return g}catch(h){return new zj(Promise.reject(h))}};_.fg.prototype.fetch=_.fg.prototype.fetch;_.fg.prototype.removeResponseModifier=_.fg.prototype.$d;
_.fg.prototype.removeRequestModifier=_.fg.prototype.Li;_.fg.prototype.addResponseModifier=_.fg.prototype.qd;_.fg.prototype.addRequestModifier=_.fg.prototype.Nf;_.B("clpp.net.makeRequest",_.hg);_.Bn=2;_.gg=6;_.B("clpp.net.RequestType",{MANIFEST:1,SEGMENT:_.Bn,LICENSE:3,APP:4,TIMING:5,OTHER:_.gg});_.B(fc,ig);ig.getInfo=_.Ig;
var rg=null,qg=null,tg=new _.E(fc),Ag="android",zg="ios",Eg="linux",Bg="osx",Cg="windows",Dg="tizen",yg=Qd,Hg=Qd,Gg={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,
chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,
chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}};_.B("clpp.utils.PlayerConfiguration",Jg);Jg.create=_.Ng;var Gn=["abort",Vb,Wb,"durationchange","emptied",_.wc,_.yc,_.zc,"interruptbegin","interruptend",_.Oc,_.Pc,Qc,"mozaudioavailable",_.hd,_.kd,_.ld,md,_.nd,_.ud,_.vd,xd,"suspend",_.Md,"volumechange",_.be,"waitingforkey",_.sd,fe,ee,ce,de];_.w(_.Pg,_.bf);_.r=_.Pg.prototype;_.r.init=function(a,b){var c=this;this.a=this.Hc=b;this.l=a;this.log.info("Initializing Player surface");var d=this.l.D(!0);this.log.info("Attaching media element listeners");Gn.forEach(function(e){c.W.on(d,e,c.Oh,e!==_.zc)});this.Ic||(this.Ic=this.Ie());this.Ic.Sa(this);ah(this.l)};_.r.destroy=function(){this.W.release();return Promise.resolve()};_.r.canPlay=function(a){return _.ef[this.namespace()].canPlay(a)};
_.r.play=function(){var a=this;if(!this.j)return Promise.reject("No sources specified yet. You need to load content before calling play.");var b=this.l.D().play();return Promise.resolve(b)["catch"](function(c){var d=c.message||"",e=c.stack||"";"NotAllowedError"===(c.name||"")&&(0===e.indexOf(_.kd)||0<=d.indexOf(_.kd))&&(a.trigger(new _.I(_.Qb)),a.log.warn(_.ia));throw c;})};
_.r.pause=function(){var a=this;return this.j?new Promise(function(b,c){var d=a.getState();if(d!==_.Cm&&d!==_.Em&&d!==_.el&&d!==_.Jm)c();else if(a.l.D().pause(),a.getState()===_.el)a.W.one(a,_.zd,function(){b()});else b()}):Promise.reject("No sources specified yet. You need to load content before calling pause.")};_.r.isPaused=function(){return this.l.D().paused};_.r.isEnded=function(){return this.l.D().ended};_.r.getConfiguration=function(){return this.a};_.r.getSurface=function(){return this.l};
_.r.getBufferInfo=function(a){var b=this.getSurface().D();return new _.Le(b?b.buffered:void 0,a)};_.r.getPosition=function(){var a=this.l.D();if(a)return a.currentTime;this.log.warn("No media element available, can not report current time!");return 0};
_.r.seek=function(a){var b=this,c=this.getPosition();if(void 0===a||null===a||typeof a!==_.Wc||a===c)return Promise.resolve();var d=this.l.D();if(!d)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var e=a-c;return.1>=Math.abs(e)?(this.log.info("Skip seek. Delta "+Math.abs(e)+" \x3c 0.1"),Promise.resolve()):new Promise(function(f,g){function h(){if(d.readyState>HTMLMediaElement.HAVE_NOTHING)m();else b.W.one(d,_.Pc,m)}function l(n){var p=b.getPosition(),
q=.1>=Math.abs(a-p),t=d.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,u=n.type===_.ud,A=n.type===md;n=n.type===_.Md;var D=A&&t;b.log.debug("Checking seeking state. Native Event:",u,"Time reached",q,a,p,"Timeupdate:",n,"Progress:",A,"ReadyState:",t,"Progress Ready:",D);u||q&&(n||D)?(b.ec=!1,b.trigger(new _.I(_.Sd)),f()):(A&&c===p&&(b.log.debug("Seek seemed to have been ignored. Trying again"),d.currentTime=a),Ye(b.W,d,[_.ud,_.Md,md],l))}function m(){Ye(b.W,d,[_.ud,_.Md,md],l);b.log.info("Seeking to "+
a+". Delta "+e);b.ec=!0;d.currentTime=a;b.trigger(new _.I(_.Td))}b.getState()===_.ym?(b.log.debug("Player is in IDLE state. Postpone seek."),b.W.one(b,_.zd,function(){switch(b.getState()){case _.Cm:case _.el:case _.Jm:b.log.debug("Valid seek state reached.");h();break;default:b.log.warn("Invalid seek target state. Aborting seek"),g()}})):h()})};_.r.getVolume=function(){var a=this.l.D();if(a)return a.volume;this.log.warn("No media element available, can not report volume!");return null};
_.r.setVolume=function(a){var b=this.l.D();b?_.J.Ua(a)?0>a||1<a?this.log.warn(ja+a+".\n          Value must be between 0 and 1."):b.volume=a:this.log.warn(ja+a+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")};_.r.isMuted=function(){return this.l.D().muted};_.r.setMuted=function(a){var b=this.l.D();typeof a===_.Sb&&(b.muted=a)};_.r.getDuration=function(){return this.j?this.l.D().duration:-1};_.r.getTrackManager=function(){return this.Ic};
_.r.getPlaybackRate=function(){var a=this.l.D();return a&&a.playbackRate||1};_.r.setPlaybackRate=function(a){var b=this.l.D();void 0!==a&&b&&(b.playbackRate=a)};_.r.setSourceIndex=function(a){this.oe=a};_.r.getSourceIndex=function(){return this.oe};_.r.getLoadedSource=function(){return this.j&&this.j[this.getSourceIndex()]};_.r.getThumbnailStreams=function(){return[]};_.r.getNetworkEngine=function(){return this.le};_.r.setNetworkEngine=function(a){this.le=a};_.r.getTimelineCues=function(){return[]};
_.r.Ji=function(a){a.type===_.Md||a.type===md?this.bf.debug(La+a.type+"'"):this.bf.info(La+a.type+"'");this.trigger(new _.I(a.type,{detail:a}))};_.Pg.prototype.setNetworkEngine=_.Pg.prototype.setNetworkEngine;_.Pg.prototype.getNetworkEngine=_.Pg.prototype.getNetworkEngine;$g.prototype.D=function(a){this.a||!a||this.h||(this.g.info("Creating new media element upon request"),a=document.createElement(this.b.mediaTag),_.Sg(a,this.b.css.fill),a.controls=this.b.controls,a.setAttribute(mc,this.b.crossorigin),this.a=a,this.c.appendChild(this.a));return this.a};$g.prototype.getMedia=$g.prototype.D;$g.prototype.Dh=function(){return this.c};$g.prototype.getContainer=$g.prototype.Dh;$g.prototype.Ch=function(){return this.h};$g.prototype.getCastElement=$g.prototype.Ch;
$g.prototype.Lc=function(a,b,c){var d=this.c;if(!d)throw Error("No container is available. Unable to add element");var e=this.b.css;b&&_.Sg(a,e.fill);c?d.insertBefore(a,d.firstElementChild):d.appendChild(a)};$g.prototype.addContainerElement=$g.prototype.Lc;$g.prototype.uf=function(a){var b=this.c;if(!b)throw Error("No container is available. Unable to remove element");b.removeChild(a)};$g.prototype.removeContainerElement=$g.prototype.uf;
$g.prototype.release=function(){var a=document.querySelector(ea);a&&a.parentElement.removeChild(a)};var Yg={disableContainer:!1,moveCssToContainer:!0,containerTag:"div",mediaTag:_.Xd,crossorigin:"anonymous",controls:!1,css:{container:"clpp-container",fill:"clpp-fill",hidden:"clpp-hidden"},containerEl:null};_.r=bh.prototype;_.r.load=function(){return Promise.resolve()};_.r.start=function(a){return a.play()};_.r.resume=function(){};_.r.pause=function(){};_.r.skip=function(){};_.r.getVolume=function(){return 1};_.r.setVolume=function(){};_.r.getPosition=function(){return-1};_.r.dispose=function(){};bh.prototype.dispose=bh.prototype.dispose;bh.prototype.getPosition=bh.prototype.getPosition;bh.prototype.setVolume=bh.prototype.setVolume;bh.prototype.getVolume=bh.prototype.getVolume;bh.prototype.skip=bh.prototype.skip;
bh.prototype.pause=bh.prototype.pause;bh.prototype.resume=bh.prototype.resume;bh.prototype.start=bh.prototype.start;bh.prototype.load=bh.prototype.load;_.B("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2});_.B("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1});_.B("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var dh=new _.E("clpp.ads"),ch=[];_.B("clpp.ads.IAdsManager",hh);hh.prototype.load=function(){};hh.prototype.start=function(){};hh.prototype.resume=function(){};hh.prototype.resume=hh.prototype.resume;hh.prototype.pause=function(){};hh.prototype.pause=hh.prototype.pause;hh.prototype.skip=function(){};hh.prototype.skip=hh.prototype.skip;hh.prototype.getVolume=function(){};hh.prototype.getVolume=hh.prototype.getVolume;hh.prototype.setVolume=function(){};hh.prototype.setVolume=hh.prototype.setVolume;hh.prototype.getPosition=function(){};
hh.prototype.getPosition=hh.prototype.getPosition;hh.prototype.dispose=function(){};_.B("clpp.ads.IAd",O);O.prototype.jb=function(){};O.prototype.getAdManagerName=O.prototype.jb;O.prototype.kb=function(){};O.prototype.getAdManagerVersion=O.prototype.kb;O.prototype.sb=function(){};O.prototype.getTechnology=O.prototype.sb;O.prototype.nb=function(){};O.prototype.getId=O.prototype.nb;O.prototype.getCreativeId=function(){};O.prototype.getCreativeId=O.prototype.getCreativeId;O.prototype.getApiFramework=function(){};O.prototype.getApiFramework=O.prototype.getApiFramework;
O.prototype.getAdSystem=function(){};O.prototype.getAdSystem=O.prototype.getAdSystem;O.prototype.getAdvertiserName=function(){};O.prototype.getAdvertiserName=O.prototype.getAdvertiserName;O.prototype.getTitle=function(){};O.prototype.getTitle=O.prototype.getTitle;O.prototype.getDuration=function(){};O.prototype.getDuration=O.prototype.getDuration;O.prototype.getSkipTimeOffset=function(){};O.prototype.getSkipTimeOffset=O.prototype.getSkipTimeOffset;O.prototype.tc=function(){};
O.prototype.isBumper=O.prototype.tc;O.prototype.Vb=function(){};O.prototype.getClickThroughUrl=O.prototype.Vb;O.prototype.getMediaUrl=function(){};O.prototype.getMediaUrl=O.prototype.getMediaUrl;O.prototype.pb=function(){};O.prototype.getMediaWidth=O.prototype.pb;O.prototype.ob=function(){};O.prototype.getMediaHeight=O.prototype.ob;O.prototype.Ta=function(){};O.prototype.getMediaBitrate=O.prototype.Ta;O.prototype.qb=function(){};O.prototype.getPodType=O.prototype.qb;O.prototype.getPodIndex=function(){};
O.prototype.getPodIndex=O.prototype.getPodIndex;O.prototype.Wb=function(){};O.prototype.getPodTimeOffset=O.prototype.Wb;O.prototype.Xb=function(){};O.prototype.getPositionInSequence=O.prototype.Xb;O.prototype.rb=function(){};O.prototype.getSequenceLength=O.prototype.rb;O.prototype.getWrapperAdIds=function(){};O.prototype.getWrapperAdIds=O.prototype.getWrapperAdIds;O.prototype.getWrapperAdSystems=function(){};O.prototype.getWrapperAdSystems=O.prototype.getWrapperAdSystems;
O.prototype.getWrapperCreativeIds=function(){};O.prototype.getWrapperCreativeIds=O.prototype.getWrapperCreativeIds;_.B("clpp.ads.IAdsTimeline",ih);ih.prototype.getCuePoints=function(){};ih.prototype.getCuePoints=ih.prototype.getCuePoints;ih.prototype.Yb=function(){};ih.prototype.hasPreroll=ih.prototype.Yb;ih.prototype.tb=function(){};ih.prototype.hasPostroll=ih.prototype.tb;_.B("clpp.ads.IAdsManagerFactory",jh);jh.prototype.name=function(){};jh.prototype.name=jh.prototype.name;jh.prototype.da=function(){};jh.prototype.isSupported=jh.prototype.da;jh.prototype.create=function(){};jh.prototype.create=jh.prototype.create;fh.prototype.name=function(){return"clpp.ads.NopAdsManagerFactory"};fh.prototype.da=function(){return!0};fh.prototype.create=function(){return new bh};fh.prototype.create=fh.prototype.create;fh.prototype.isSupported=fh.prototype.da;fh.prototype.name=fh.prototype.name;_.kh.prototype.Hb=function(a,b){this.a[a]=b};_.B("clpp.drm.DrmEnvironment",_.kh);_.kh.prototype.setDrmSystem=_.kh.prototype.Hb;_.B("clpp.drm.RobustnessLevel",{SW_SECURE_CRYPTO:Pa,SW_SECURE_DECODE:Qa,HW_SECURE_CRYPTO:ra,HW_SECURE_DECODE:sa,HW_SECURE_ALL:"HW_SECURE_ALL"});_.lh=_.lc;_.nh=_.kc;_.mh="com.apple.fps.1_0";_.B("clpp.drm.KeySystem",{WIDEVINE:_.lh,PLAYREADY:_.nh,FAIRPLAY:_.mh});_.ph={};_.B("clpp.drm.registerDrmEnvironment",_.qh);var Ah={STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,96,
39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,134,
188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,185,
188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,48,
60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,153,
20],PRODUCTION:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,224,
79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,211,
8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,28,
189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,73,
152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,
244]};var Fh=new _.E("clpp.drm.DrmToday"),sh="PRODUCTION",th="STAGING",uh="TEST",Hn={PRODUCTION:sh,STAGING:th,TEST:uh};_.B("clpp.drm.DrmToday.Environment",Hn);var wh="/license-proxy-widevine/cenc/",xh="/license-proxy-headerauth/drmtoday/RightsManager.asmx",yh="/license-server-fairplay/";
(function(){var a=_.Ch();Object.keys(Hn).forEach(function(b){var c=oa;b!==sh&&(c+="_"+b);c=new _.kh(c);c.Hb(_.lh,{licenseUrl:zh(_.lh,b),videoRobustness:a.video,audioRobustness:a.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:Bh(b),modifiers:{licenseRequest:_.Ih,licenseResponse:_.Mh}});c.Hb(_.mh,{licenseUrl:zh(_.mh,b),certificateUrl:vh(b)+"/license-server-fairplay/cert/",modifiers:{licenseRequest:_.Jh,licenseResponse:_.Kh,extractContentId:_.Hh,certificateRequest:_.Lh}});
c.Hb(_.nh,{licenseUrl:zh(_.nh,b),modifiers:{licenseRequest:_.Ih}});_.qh(c)})})();Nh.prototype.release=function(){this.a=this.b=null};_.Qh.prototype.getPosition=function(){return this.a};_.Qh.prototype.ea=function(){return this.b.byteLength};_.Qh.prototype.seek=function(a){(0>a||a>this.b.byteLength)&&_.Rh();this.a=a};_.Qh.prototype.seek=_.Qh.prototype.seek;_.Th.prototype.getPosition=function(){return this.a};_.Th.prototype.ea=function(){return this.b.byteLength};_.Th.prototype.skip=function(a){this.a+a>this.b.byteLength&&Vh();this.a+=a};_.Th.prototype.seek=function(a){if(0>a||a>this.b.byteLength)throw Vh();this.a=a};_.B("clpp.utils.url.queryString",Gh);var ii=new _.E("clpp.utils.FairplayUtils");_.mi={lh:function(a,b){return a.reduce(function(c,d,e){return d["catch"](c.bind(null,e))}.bind(null,b),Promise.reject())},wd:function(a,b){return a.concat(b)},xc:function(){},La:function(a){return null!=a}};_.ok={VIDEO:_.Xd,AUDIO:_.Ib,TEXT:_.k,Yi:_.zb,aj:"image"};_.In=1/15;_.Jn=(new Map).set(_.hc,_.hc).set(_.Ac,"framerate").set("bandwidth","bitrate").set(_.he,_.he).set(_.Dc,_.Dc).set("channelsCount","channels");_.B("clpp.utils.Mp4Parser",_.ri);_.ri.prototype.G=function(a,b){var c=vi(a);this.c[c]=0;this.b[c]=b;return this};_.ri.prototype.box=_.ri.prototype.G;_.ri.prototype.T=function(a,b){var c=vi(a);this.c[c]=1;this.b[c]=b;return this};_.ri.prototype.fullBox=_.ri.prototype.T;_.ri.prototype.stop=function(){this.a=!0};_.ri.prototype.stop=_.ri.prototype.stop;
_.ri.prototype.parse=function(a,b){var c=_.N(a);c=new _.Th(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);for(this.a=!1;_.Uh(c)&&!this.a;)this.$c(0,c,b)};_.ri.prototype.parse=_.ri.prototype.parse;
_.ri.prototype.$c=function(a,b,c){var d=b.getPosition(),e=_.Yh(b),f=_.Yh(b);this.f.debug("Parsing MP4 box",wi(f));switch(e){case 0:e=b.ea()-d;break;case 1:e=_.$h(b)}var g=this.b[f];if(g){var h=null,l=null;1==this.c[f]&&(l=_.Yh(b),h=l>>>24,l&=16777215);f=b.getPosition()-d;var m=d+e;c&&m>b.ea()&&(m=b.ea());m-=b.getPosition();b=0<m?_.ai(b,m):new Uint8Array(0);b=new _.Th(new DataView(b.buffer,b.byteOffset,b.byteLength),!1);g({Pa:this,tf:c||!1,version:h,flags:l,s:b,size:e,start:d+a,Ed:f})}else a=Math.min(d+
e-b.getPosition(),b.ea()-b.getPosition()),b.skip(a)};_.ri.prototype.parseNext=_.ri.prototype.$c;_.ri.children=_.si;_.ri.sampleDescription=_.ti;_.ri.allData=ui;_.ri.typeToString=wi;_.xi.prototype.f=function(a){if(1<a.version)_.C("Unrecognized PSSH version found!");else{var b=_.fi(_.ai(a.s,16)),c=[];if(0<a.version)for(var d=_.Yh(a.s),e=0;e<d;++e){var f=_.fi(_.ai(a.s,16));c.push(f)}d=_.Yh(a.s);a.s.skip(d);this.c.push.apply(this.c,c);this.b.push(b);this.a.push({start:a.start,end:a.start+a.size-1});a.s.getPosition()!=a.s.ea()&&_.C("Mismatch between box size and data size!")}};_.yi.prototype.P=function(a){var b=this;this.stop();var c=!0,d=null;this.a=function(){window.clearTimeout(d);c=!1};d=window.setTimeout(function(){c&&b.b()},1E3*a);return this};_.yi.prototype.stop=function(){this.a&&(this.a(),this.a=null)};_.sg.prototype.be=function(){this.stop();this.b();return this};_.sg.prototype.P=function(a){var b=this;this.stop();this.a=(new _.yi(function(){b.b()})).P(a);return this};_.sg.prototype.za=function(a){var b=this;this.stop();this.a=(new _.yi(function(){b.a.P(a);b.b()})).P(a);return this};_.sg.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)};_.B("clpp.utils.Timer",_.sg);_.sg.prototype.stop=_.sg.prototype.stop;_.sg.prototype.tickEvery=_.sg.prototype.za;_.sg.prototype.tickAfter=_.sg.prototype.P;
_.sg.prototype.tickNow=_.sg.prototype.be;_.r=_.Ci.prototype;_.r.destroy=function(){var a=this;return _.z(function(b){if(1==b.a){if(a.g)return _.x(b,a.la,0);a.g=!0;return _.x(b,Ei(a),4)}a.la.resolve();b.a=0})};
_.r.setServerCertificate=function(){var a=this,b,c;return _.z(function(d){if(1==d.a){if(!(a.m&&a.a&&a.a.serverCertificate&&a.a.serverCertificate.length)){d.a=0;return}d.c=3;return _.x(d,a.m.setServerCertificate(a.a.serverCertificate),5)}if(3!=d.a)return(b=d.b)||a.b.warn("Server certificates are not supported by the key system.  The server certificate has been ignored."),_.Be(d,0);c=_.Ce(d);throw new _.K(_.M,6,6004,{browserError:c.message});})};
_.r.keySystem=function(){return this.a?this.a.keySystem:""};_.r.getDrmInfo=function(){return this.a};_.r.nf=function(a){this.u&&this.C===Fi||(!this.c.delayLicenseRequestUntilPlayed||this.j&&!this.j.paused||this.qa?Ni(this,a):this.F.push(a))};
_.r.gf=function(a){var b=this;a=a.target;this.b.debug("Key status changed for session",a.sessionId);var c=this.f.get(a),d=!1;a.keyStatuses.forEach(function(f,g){if(typeof g==_.Bd){var h=g;g=f;f=h}if(!(b.a.keySystem!=_.kc||16!=g.byteLength||_.ng()||_.mg("VITIS")||_.mg("Web0S")||_.mg("TiVo"))){var l=void 0===l?Infinity:l;h=_.kf(g,l,DataView);l=h.getUint32(0,!0);var m=h.getUint16(4,!0),n=h.getUint16(6,!0);h.setUint32(0,l,!1);h.setUint16(4,m,!1);h.setUint16(6,n,!1)}b.a.keySystem==_.kc&&f==_.Ad&&(f=_.Rd);
f!=_.Ad&&(c.loaded=!0);"expired"==f&&(d=!0);h=_.fi(_.N(g));b.b.debug("Key status for",h,f);b.Ia.set(h,f)});var e=a.expiration-Date.now();(0>e||d&&1E3>e)&&c&&!c.Ha&&(this.b.debug("Session has expired",a.sessionId),this.f["delete"](a),a.close()["catch"](function(){}));Wi(this)&&(this.o.resolve(),this.N.P(.5))};var Fi=0,zi=3;_.Q={qc:function(a,b){var c=_.Q.J(a,b);return 1!=c.length?null:c[0]},Uc:function(a,b,c){a=_.Q.Re(a,b,c);return 1!=a.length?null:a[0]},J:function(a,b){return Array.prototype.filter.call(a.childNodes,function(c){return c instanceof Element&&c.tagName==b})},Re:function(a,b,c){return Array.prototype.filter.call(a.childNodes,function(d){return d instanceof Element&&d.localName==c&&d.namespaceURI==b})},getAttributeNS:function(a,b,c){return a.hasAttributeNS(b,c)?a.getAttributeNS(b,c):null},lb:function(a){return Array.prototype.every.call(a.childNodes,
function(b){return b.nodeType==Node.TEXT_NODE||b.nodeType==Node.CDATA_SECTION_NODE})?a.textContent.trim():null},L:function(a,b,c,d){d=void 0===d?null:d;var e=null;a=a.getAttribute(b);null!=a&&(e=c(a));return null==e?d:e},Ei:function(a){if(!a)return null;/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(a)&&(a+="Z");a=Date.parse(a);return isNaN(a)?null:Math.floor(a/1E3)},Oa:function(a){if(!a)return null;var b=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(a);
if(!b)return _.C("Invalid duration string:",a),null;a=31536E3*Number(b[1]||null)+2592E3*Number(b[2]||null)+86400*Number(b[3]||null)+3600*Number(b[4]||null)+60*Number(b[5]||null)+Number(b[6]||null);return isFinite(a)?a:null},cd:function(a){var b=/([0-9]+)-([0-9]+)/.exec(a);if(!b)return null;a=Number(b[1]);if(!isFinite(a))return null;b=Number(b[2]);return isFinite(b)?{start:a,end:b}:null},parseInt:function(a){a=Number(a);return 0===a%1?a:null},bd:function(a){a=Number(a);return 0===a%1&&0<a?a:null},
Db:function(a){a=Number(a);return 0===a%1&&0<=a?a:null},parseFloat:function(a){a=Number(a);return isNaN(a)?null:a},ph:function(a){var b;a=(b=a.match(/^(\d+)\/(\d+)$/))?Number(b[1])/Number(b[2]):Number(a);return isNaN(a)?null:a},sf:function(a,b){var c=new DOMParser,d=null,e=null;try{e=c.parseFromString(a,_.Gd)}catch(f){}e&&e.documentElement.tagName==b&&(d=e.documentElement);return d&&0<d.getElementsByTagName(_.gd).length?null:d},rf:function(a,b){try{var c=_.mf(a);return _.Q.sf(c,b)}catch(d){return null}}};var dj,aj;_.hj=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149];dj=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237];aj=[112,115,115,104,0,0,0,0];_.w(cj,$i);_.w(_.fj,$i);_.B("clpp.SubtitleManagerFactory",jj);jj.prototype.canPlay=function(){};jj.prototype.canPlay=jj.prototype.canPlay;jj.prototype.create=function(){};jj.prototype.create=jj.prototype.create;var lj=new _.E("clpp.players"),kj=[];var rj;_.nj.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length};_.B("clpp.Track",_.nj);_.nj.prototype.toString=_.nj.prototype.toString;_.B("clpp.Rendition",_.oj);_.tj=1;_.qj=_.Xd;_.S=_.Ib;_.R=_.k;rj=Tc;_.nj.Type={VIDEO:_.qj,AUDIO:_.S,TEXT:_.R,bj:rj};_.vj.prototype.abort=function(){this.a=!0;return this.j()};_.vj.prototype.Nc=function(a,b){function c(){e.reject(new _.K(_.M,7,7001));return d.abort()}var d=this,e=new _.Of;this.promise.then(function(f){d.a?e.reject(new _.K(_.M,7,7001)):a?c=xj(a,f,e):e.resolve(f)},function(f){b?c=xj(b,f,e):e.reject(f)});return new _.vj(e,function(){return c()})};_.vj.aborted=function(){var a=Promise.reject(new _.K(_.M,7,7001));a["catch"](function(){});return new _.vj(a,function(){return Promise.resolve()})};
_.vj.prototype.chain=_.vj.prototype.Nc;_.w(zj,_.vj);zj.prototype.then=function(a,b){this.promise=this.promise.then(a,b);return this};zj.prototype["catch"]=function(a){this.promise=this.promise["catch"](a);return this};zj.prototype.abort=function(){var a=this;if(this.a)return Promise.resolve();this.a=!0;return this.c.then(function(b){a.h&&clearTimeout(a.h);a.g&&a.g();return b.abort()})["catch"](function(){})};Cj.prototype.release=function(){this.c.release();this.f=[];this.a=null};Cj.prototype.destroy=function(){var a=this;return _.z(function(b){a.release();a.h=null;a.g=null;_.y(b)})};Cj.prototype.getTimelineCues=function(){return this.f};_.B("clpp.TrackManager",_.U);_.U.prototype.getVideoTracks=_.U.prototype.getVideoTracks;_.U.prototype.getAudioTracks=_.U.prototype.getAudioTracks;_.U.prototype.getTextTracks=_.U.prototype.U;_.U.prototype.getVideoRendition=_.U.prototype.V;_.U.prototype.getAudioRendition=_.U.prototype.ma;_.U.prototype.getTextRendition=_.U.prototype.fa;_.U.prototype.getLoadingVideoRendition=_.U.prototype.Ca;_.U.prototype.getLoadingAudioRendition=_.U.prototype.Aa;_.U.prototype.getLoadingTextRendition=_.U.prototype.Ba;
_.U.prototype.getVideoTrack=_.U.prototype.ga;_.U.prototype.getAudioTrack=_.U.prototype.ba;_.U.prototype.getTextTrack=_.U.prototype.ca;_.U.prototype.setVideoTrack=_.U.prototype.ya;_.U.prototype.setAudioTrack=_.U.prototype.ia;_.U.prototype.setTextTrack=_.U.prototype.ja;_.U.prototype.setVideoRendition=_.U.prototype.xa;_.U.prototype.setAudioRendition=_.U.prototype.Ea;_.U.prototype.setTextRendition=_.U.prototype.Fa;
_.U.prototype.wh=function(a){return this.getVideoTracks().find(function(b){return _.J.ua(b,a,a&&Object.keys(a))})};_.U.prototype.findVideoTrack=_.U.prototype.wh;_.U.prototype.sh=function(a){return this.getAudioTracks().find(function(b){return _.J.ua(b,a,a&&Object.keys(a))})};_.U.prototype.findAudioTrack=_.U.prototype.sh;_.U.prototype.uh=function(a){return this.U().find(function(b){return _.J.ua(b,a,a&&Object.keys(a))})};_.U.prototype.findTextTrack=_.U.prototype.uh;
_.U.prototype.vh=function(a){return this.getVideoTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.J.ua(b,a,a&&Object.keys(a))})};_.U.prototype.findVideoRendition=_.U.prototype.vh;_.U.prototype.rh=function(a){return this.getAudioTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.J.ua(b,a,a&&Object.keys(a))})};_.U.prototype.findAudioRendition=_.U.prototype.rh;
_.U.prototype.th=function(a){return this.U().flatMap(function(b){return b.renditions}).find(function(b){return _.J.ua(b,a,a&&Object.keys(a))})};_.U.prototype.findTextRendition=_.U.prototype.th;_.U.prototype.addTextTrack=_.U.prototype.addTextTrack;_.U.prototype.isAbrEnabled=_.U.prototype.na;var Ij=[];_.w(Kj,_.U);_.r=Kj.prototype;
_.r.Ud=function(a,b){if(b){var c=b.track;if(c){var d=this.g.find(function(g){return Lj(g,c,a)});if(d)this.a.warn("Track from event already exists",c,d);else{var e=uj(a,c);if(a===_.R){var f;void 0!==c.id?f=this.i[c.id]:f=Object.values(this.i).find(function(g){return Lj(e,g,a)});e.kind&&"captions"===e.kind&&(e.mimeType=_.Ab);f&&(e.src=f.url,e.mimeType=f.mimeType)}else if(d=this.g.find(function(g){return g.type===a&&_.J.ua(g,e,["kind","label","language"])})){d.id=c.id;Uj(c)&&this.c.set(a,d);this.a.debug("Track from event seems to already exists, flipped native track to",
c);return}try{e.renditions.push(new _.oj(e.id,e)),this.g.push(e),this.a.debug(a+" Track added",e),this.b.trigger(new _.I(_.Nd)),Uj(c)&&this.c.set(a,e)}catch(g){this.a.error("Error while converting track data",g)}}}else this.a.warn(Ea)}else this.a.warn(Da)};
_.r.Wd=function(a,b){if(b){var c=b.track;if(!c)this.a.warn(Ea);else if(a===_.R){var d=this.g.find(function(e){return Lj(e,c,a)});d&&(this.g.splice(this.g.indexOf(d),1),(this.c.get(a)||null)===d&&this.c.set(a,null),this.a.debug(a+" Track removed",d))}}else this.a.warn(Da)};
_.r.Vd=function(a,b){this.a.debug(a+" Track changed",b);var c=Pj(this,a);if(c)for(var d={Mb:0};d.Mb<c.length;d={Mb:d.Mb},++d.Mb)if(Uj(c[d.Mb])){if(d=this.g.find(function(e){return function(f){return Lj(f,c[e.Mb],a)}}(d)))this.c.set(a,d),this.a.debug("Track change detected!",d),d===this.h.get(a)&&this.h.set(a,null),a===_.S?this.b.trigger(new _.I(_.Ob)):a===_.R&&this.b.trigger(new _.I(_.Id));break}};_.r.Sa=function(a){this.b=a};
_.r.load=function(){var a=Pj(this,_.R);a&&(this.f.on(a,ub,this.v),this.f.on(a,qd,this.A),this.f.on(a,ac,this.w));if(a=Pj(this,_.S))this.f.on(a,ub,this.m),this.f.on(a,qd,this.u),this.f.on(a,ac,this.o);if(a=Pj(this,_.qj))this.f.on(a,ub,this.C),this.f.on(a,qd,this.I),this.f.on(a,ac,this.F);this.f.one(this.b,Wb,this.Pg.bind(this))};_.r.release=function(){this.g=[];this.i={};this.c.clear();this.h.clear();this.f.release()};_.r.destroy=function(){this.release();this.b=null};
_.r.getVideoTracks=function(){return Qj(this,_.qj)};_.r.getAudioTracks=function(){return Qj(this,_.S)};_.r.U=function(){return Qj(this,_.R)};_.r.V=function(){return Rj(this,_.qj)};_.r.ma=function(){return Rj(this,_.S)};_.r.fa=function(){return Rj(this,_.R)};_.r.Ca=function(){return Sj(this,_.qj)};_.r.Aa=function(){return Sj(this,_.S)};_.r.Ba=function(){return Sj(this,_.R)};_.r.ga=function(){return this.c.get(_.qj)||null};_.r.ba=function(){return this.c.get(_.S)||null};
_.r.ca=function(){return this.c.get(_.R)||null};_.r.ya=function(a){Tj(this,_.qj,a)};_.r.ia=function(a){Tj(this,_.S,a)};_.r.ja=function(a){Tj(this,_.R,a)};_.r.xa=function(a){Tj(this,_.qj,a&&a.track)};_.r.Ea=function(a){Tj(this,_.S,a&&a.track)};_.r.Fa=function(a){Tj(this,_.R,a&&a.track)};_.r.addTextTrack=function(a){var b=this,c;return _.z(function(d){if(a.mimeType.match(/text\/vtt/))c="External_"+b.j++,b.i[c]=a,Nj(b,a,c),d.a=0;else return _.x(d,Oj(b,a),0)})};
_.r.Pg=function(){var a=this.b.getConfiguration();Vj(this,_.S,a.preferredAudioLanguage);Vj(this,_.R,a.preferredTextLanguage)};_.r.na=function(){return 1>=this.getVideoTracks().flatMap(function(a){return a.renditions}).length};Kj.prototype.isAbrEnabled=Kj.prototype.na;Kj.prototype.addTextTrack=Kj.prototype.addTextTrack;Kj.prototype.setTextRendition=Kj.prototype.Fa;Kj.prototype.setAudioRendition=Kj.prototype.Ea;Kj.prototype.setVideoRendition=Kj.prototype.xa;Kj.prototype.setTextTrack=Kj.prototype.ja;
Kj.prototype.setAudioTrack=Kj.prototype.ia;Kj.prototype.setVideoTrack=Kj.prototype.ya;Kj.prototype.getTextTrack=Kj.prototype.ca;Kj.prototype.getAudioTrack=Kj.prototype.ba;Kj.prototype.getVideoTrack=Kj.prototype.ga;Kj.prototype.getLoadingTextRendition=Kj.prototype.Ba;Kj.prototype.getLoadingAudioRendition=Kj.prototype.Aa;Kj.prototype.getLoadingVideoRendition=Kj.prototype.Ca;Kj.prototype.getTextRendition=Kj.prototype.fa;Kj.prototype.getAudioRendition=Kj.prototype.ma;Kj.prototype.getVideoRendition=Kj.prototype.V;
Kj.prototype.getTextTracks=Kj.prototype.U;Kj.prototype.getAudioTracks=Kj.prototype.getAudioTracks;Kj.prototype.getVideoTracks=Kj.prototype.getVideoTracks;_.B("clpp.SubtitleManager",Wj);Wj.prototype.Cb=function(){};Wj.prototype.onCueShown=Wj.prototype.Cb;Wj.prototype.Bb=function(){};Wj.prototype.onCueHidden=Wj.prototype.Bb;Wj.prototype.dispose=function(){};Yj.prototype.release=function(){this.b.release();this.a=!1};Yj.prototype.destroy=function(){this.a&&this.release();this.b=this.c=this.f=null;return Promise.resolve()};Yj.prototype.start=function(a){var b=this;this.a&&this.g.warn("Already started. Ignoring request...");this.a=!0;this.c=a;this.f=this.c.textTracks;this.f.onaddtrack=function(c){return ak(b,c)}};_.hk.prototype.getStats=function(){return{width:this.c,height:this.b,streamBandwidth:this.l,decodedFrames:this.f,droppedFrames:this.g,corruptedFrames:this.m,estimatedBandwidth:this.h,loadLatency:this.i,playTime:dk(this.a,_.el),pauseTime:dk(this.a,_.Jm),bufferingTime:dk(this.a,_.Cm),stateHistory:ek(this.a),switchHistory:gk(this.j)}};_.w(jk,_.Pg);_.r=jk.prototype;_.r.init=function(a,b){_.Pg.prototype.init.call(this,a,b);this.g=new Am(this);Hm(this.g,_.ym)};_.r.namespace=function(){return ec};_.r.unload=function(){var a=this;return this.j?new Promise(function(b){a.log.debug(_.Na,a.j);var c=a.getTrackManager();c&&c.release();a.m&&a.m.release();a.h&&a.h.release();a.i&&(a.i.destroy(),a.i=null);a.c.off(a,_.zd);a.f&&(a.f=new _.hk);a.j=null;a.u=!1;a.b&&(a.b.removeAttribute("src"),a.b.load());nk(a).then(b)}):new Promise(function(b){b()})};
_.r.release=function(){var a=this;return this.unload().then(function(){a.g&&Hm(a.g,_.ym)})};
_.r.destroy=function(){var a=this;if(this.o)return this.log.warn("Player is already destroyed!"),Promise.resolve();this.o=!0;return _.Pg.prototype.destroy.call(this).then(function(){return a.release()}).then(function(){a.log.debug(pa);var b=a.getTrackManager();b&&b.destroy();a.m&&(a.m.destroy()["catch"](function(c){a.log.warn("Error while disposing cue handler",c)}),a.m=null);a.h&&(a.h.destroy()["catch"](function(c){a.log.warn("Error while disposing metadata handler",c)}),a.h=null);a.g&&(a.g.destroy(),
a.g=null);a.f=null})};_.r.getDrmInfo=function(){return this.i?this.i.getDrmInfo():null};
_.r.load=function(a){var b=this,c,d,e,f;return _.z(function(g){switch(g.a){case 1:if(b.o)return g["return"](kk());if(!b.getSurface()||!b.getSurface().D(!0))return g["return"](Promise.reject("No surface or no media element in surface"));c=_.J;d=b.l.D();b.v=Date.now()/1E3;b.f=new _.hk;b.c.on(b,_.zd,function(){b.f&&_.ck(b.f.a,b.getState())});Hm(b.g,_.Mn);b.j=_.Gk(a);_.Og(a)&&(b.a=_.Ng(b.Hc,a));b.log.debug(_.va,b.a);b.log.debug(_.Ga,b.j);!0===b.a.enableEnhancedSubtitleManager&&(b.m?b.m.release():b.m=
new Yj(b),b.m.start(d));b.h?b.h.release():b.h=new Cj(b);Ej(b.h,d);e=b.getTrackManager();e.load();d.loop=!!b.a.loop;c.H(b.a.volume)||b.setVolume(b.a.volume);c.H(b.a.muted)||b.setMuted(b.a.muted);b.c.one(d,Vb,function(){b.trigger(new _.I(_.Nd))});g.c=2;return _.x(g,mk(b,d),4);case 4:return _.x(g,pk(b),5);case 5:return _.x(g,sk(b).promise,6);case 6:_.Be(g,0);break;case 2:f=_.Ce(g),b.u=!1,b.onError(f),_.y(g)}})};
_.r.onError=function(a){this.u||(a.a===_.M&&null!==this.g&&Hm(this.g,_.qk),this.trigger(new _.I(_.zc,{detail:a})))};_.r.Ie=function(){return new Kj};_.r.getState=function(){return null!==this.g?this.g.getState().currentState:_.zm};_.r.getPresentationStartTime=function(){if(this.b&&this.b.getStartDate&&this.isLive()){var a=this.b.getStartDate();return isNaN(a.getTime())?(this.log.warn("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),0):a.getTime()/1E3}return 0};
_.r.getSeekRange=function(){var a=this.getSurface().D(!1);return a&&a.src&&(a=a.seekable,a.length)?{start:a.start(0),end:a.end(a.length-1)}:{start:0,end:this.getDuration()}};_.r.isLive=function(){return this.b&&this.b.src?Infinity===this.b.duration:!1};
_.r.getStats=function(){if(!this.f||!this.b)return _.ik();this.f&&_.ck(this.f.a,this.getState());var a=this.b,b=this.f,c=a.videoHeight;b.c=a.videoWidth;b.b=c;a.getVideoPlaybackQuality&&(a=a.getVideoPlaybackQuality(),b=this.f,c=Number(a.totalVideoFrames),b.g=Number(a.droppedVideoFrames),b.f=c,this.f.m=Number(a.corruptedVideoFrames));return this.f.getStats()};_.r.getTimelineCues=function(){return this.h?this.h.getTimelineCues():[]};
tk.prototype.canPlay=function(a){a=a.type||"";var b=a===_.Dk;return a===_.Bk||b||a===_.Ck&&!_.og()?!1:!_.ng()&&!_.mg("CrKey")&&lg(a)};tk.prototype.create=function(){return new jk};tk.prototype.create=tk.prototype.create;tk.prototype.canPlay=tk.prototype.canPlay;_.gf(new tk);uk.prototype.Cb=function(){};uk.prototype.onCueShown=uk.prototype.Cb;uk.prototype.Bb=function(){};uk.prototype.onCueHidden=uk.prototype.Bb;uk.prototype.dispose=function(){};vk.prototype.canPlay=function(a){var b=window.hasOwnProperty("TextTrackCue")&&"tizen"!==_.Ig().os;a=!a.enableEnhancedSubtitleManager;return b&&a};vk.prototype.canPlay=vk.prototype.canPlay;vk.prototype.create=function(){return new uk};vk.prototype.create=vk.prototype.create;mj(new vk);var Hj,Fj;_.B("clpp.version",_.fa);_.B("clpp.name",_.la);_.Bk=Bb;_.Ck=Fb;_.Dk=Eb;_.B("clpp.Type",{DASH:_.Bk,HLS:_.Ck,SMOOTH_STREAMING:_.Dk,MP4:_.Zd});Hj="scte35";Fj=Qd;_.Nn={SCTE35:Hj,UNKNOWN:Fj};_.B("clpp.TimelineCueType",_.Nn);var On;On=new _.E("clpp.Components");_.wk=new Map;_.B("clpp.polyfill.installAll",zk);var yk=[];_.B("clpp.polyfill.register",_.Ak);_.B("clpp.utils.media.detectType",Ek);var Hk=new _.E("clpp.sources");Jk.prototype.verify=function(a,b){var c={kty:"RSA",n:a.n,e:a.e},d=this.c+"."+this.b,e=this.f;return new Promise(function(f,g){try{var h=window&&window.crypto&&window.crypto.subtle}catch(m){}if(h){var l={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};h.importKey("jwk",c,l,!1,["verify"]).then(function(m){var n=_.uf(d),p=rf(e);return h.verify(l,m,p.buffer,n.buffer)}).then(function(m){m?f():g(Ta)})["catch"](g)}else b?g("Web Crypto API is not supported"):f()})};var Pn={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"};Kk.prototype.verify=function(){var a=this;return(new Promise(function(b,c){try{var d=Lk(a);b(d)}catch(e){c()}})).then(function(b){return b.verify(Pn)})["catch"](function(b){if(b&&b!==Ta){var c=window.location.href;var d=new _.Sf(c);c=d.wa||d.ta?d:new _.Sf("//"+c);if(/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(c.ta))return Promise.resolve()}throw b;})};var Vk="vod",Uk="live";_.w(V,_.bf);_.r=V.prototype;_.r.init=function(){};_.r.onError=function(a){if(null!==this.a)this.a.onError(a);else this.trigger(new _.I(_.zc,{detail:a}))};_.r.Vc=function(a){a=this.w[a];void 0===a&&(a=null);return a};_.r.getSurface=function(){return this.f};_.r.getConfiguration=function(){return _.J.hb(this.b)};_.r.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null};_.r.unload=function(){return this.a?this.a.unload():Promise.resolve()};
_.r.release=function(){var a=this;if(this.o)return this.c.debug("The player is already released. No-op"),new Promise(function(d){return d()});this.trigger(new _.I(_.pd));this.f&&this.f.release();this.j&&(this.j.dispose(),this.j=null);this.g&&(this.g.dispose(),this.g=null);xk(function(d){d.release()});if(this.a){var b=null,c=this.a.on(_.zd,function(d){b=d});return this.zc("onPlayerWillRelease").then(function(){a.a.removeDelegate(a);return Promise.all([a.a.release(),a.m.release()])}).then(function(){a.c.debug("Releasing player completed");
b&&(a.c.debug("Re-post state change event after release"),a.trigger(b))})["finally"](function(){a.a.off(_.zd,c);a.trigger(new _.I(od))})}this.trigger(new _.I(od));return new Promise(function(d){return d()})};
_.r.destroy=function(){var a=this;if(this.l)return this.c.debug("The player is already destroyed. No-op"),new Promise(function(b){return b()});this.l=!0;return this.release().then(function(){a.c.debug(pa);a.trigger(new _.I("destroying"));return a.zc("onPlayerWillDestroy")}).then(function(){a.a&&a.a.removeDelegate(a);a.oc.clear();if(a.a)return a.a.destroy()}).then(function(){xk(function(b){b.cb()});_.wk.clear();a.a=null;a.trigger(new _.I("destroyed"))})};
_.r.load=function(a){var b=this;return _.z(function(c){return 1==c.a?_.x(c,_.dl(b,a),2):3!=c.a?_.x(c,_.fl(b),3):_.x(c,_.gl(b),0)})};_.r.zc=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=this;d=this.v.map(function(f){var g=f[a];return g.call.apply(g,[f,e].concat(_.ne(c)))}).filter(function(f){return f instanceof Promise});return Promise.all(d)};_.r.use=function(a){a=new a;a.ub(this);_.wk.get(a.id())?On.warn("Component already in use."):_.wk.set(a.id(),a)};
_.r.remove=function(a){if(this.getState()<=_.ym||this.o){var b="";xk(function(c){c instanceof a&&(b=c.id(),c.cb())});if(b)return _.wk["delete"](b),this.u=!0}return!1};_.r.play=function(){return this.a?this.g&&this.a.namespace()!==_.bc?this.g.start(this.a):this.a.play():Promise.reject("No player initialized. You need to load content before calling play.")};_.r.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")};
_.r.getTrackManager=function(){return this.a&&this.a.getTrackManager()};_.r.getBufferInfo=function(a){return this.a?this.a.getBufferInfo(a):new _.Le};_.r.getState=function(){return this.a?this.a.getState():_.ym};_.r.getThumbnailStreams=function(){return this.a?this.a.getThumbnailStreams():[]};_.r.isEnded=function(){return this.a&&this.a.isEnded()||!1};_.r.isPaused=function(){return this.a&&this.a.isPaused()||!1};_.r.getPosition=function(){return this.a?this.a.getPosition():0};
_.r.seek=function(a){return this.getState()===_.qk?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(a):Promise.reject("delegate does not exist")};_.r.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():0};_.r.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}};_.r.getVolume=function(){return this.a?this.a.getVolume():null};_.r.setVolume=function(a){this.a&&this.a.setVolume(a)};
_.r.getDuration=function(){return this.a?this.a.getDuration():-1};_.r.getAdsManager=function(){return this.g};_.r.namespace=function(){return this.a&&this.a.namespace()||"Undefined"};_.r.canPlay=function(a){return!!this.a&&this.a.canPlay(a)};_.r.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1};_.r.setPlaybackRate=function(a){this.a&&this.a.setPlaybackRate(a)};_.r.isMuted=function(){return this.a&&this.a.isMuted()||!1};_.r.setMuted=function(a){this.a&&this.a.setMuted(a)};
_.r.getNetworkEngine=function(){return this.m};_.r.setNetworkEngine=function(a){this.m=a};_.r.isLive=function(){return!!this.a&&this.a.isLive()};_.r.getStats=function(){return this.a?this.a.getStats():null};_.r.Wc=function(){return Object.freeze(this.h)};_.r.setSourceIndex=function(a){this.a&&this.a.setSourceIndex(a)};_.r.getSourceIndex=function(){return this.a?this.a.getSourceIndex():0};_.r.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()};
_.r.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]};_.B("clpp.Player",V);V.prototype.getTimelineCues=V.prototype.getTimelineCues;V.prototype.getLoadedSource=V.prototype.getLoadedSource;V.prototype.getSources=V.prototype.Wc;V.prototype.getStats=V.prototype.getStats;V.prototype.isLive=V.prototype.isLive;V.prototype.setNetworkEngine=V.prototype.setNetworkEngine;V.prototype.getNetworkEngine=V.prototype.getNetworkEngine;V.prototype.setMuted=V.prototype.setMuted;
V.prototype.isMuted=V.prototype.isMuted;V.prototype.setPlaybackRate=V.prototype.setPlaybackRate;V.prototype.getPlaybackRate=V.prototype.getPlaybackRate;V.prototype.namespace=V.prototype.namespace;V.prototype.getAdsManager=V.prototype.getAdsManager;V.prototype.getDuration=V.prototype.getDuration;V.prototype.setVolume=V.prototype.setVolume;V.prototype.getVolume=V.prototype.getVolume;V.prototype.getSeekRange=V.prototype.getSeekRange;V.prototype.getPresentationStartTime=V.prototype.getPresentationStartTime;
V.prototype.seek=V.prototype.seek;V.prototype.getPosition=V.prototype.getPosition;V.prototype.isPaused=V.prototype.isPaused;V.prototype.isEnded=V.prototype.isEnded;V.prototype.getState=V.prototype.getState;V.prototype.getBufferInfo=V.prototype.getBufferInfo;V.prototype.getTrackManager=V.prototype.getTrackManager;V.prototype.pause=V.prototype.pause;V.prototype.play=V.prototype.play;V.prototype.remove=V.prototype.remove;V.prototype.use=V.prototype.use;V.prototype.load=V.prototype.load;
V.prototype.destroy=V.prototype.destroy;V.prototype.release=V.prototype.release;V.prototype.getDrmInfo=V.prototype.getDrmInfo;V.prototype.getConfiguration=V.prototype.getConfiguration;V.prototype.getSurface=V.prototype.getSurface;V.prototype.getPlugin=V.prototype.Vc;_.ym=0;_.Mn=1;_.Cm=2;_.el=3;_.Jm=4;_.Em=5;_.qk=6;_.zm=7;_.Gm={IDLE:_.ym,PREPARING:_.Mn,BUFFERING:_.Cm,PLAYING:_.el,PAUSED:_.Jm,ENDED:_.Em,ERROR:_.qk,UNSET:_.zm};V.State=_.Gm;var Yk=[];V.registerPlugin=_.hl;_.eg.prototype.destroy=function(){var a=[];this.a.forEach(function(b){b.promise["catch"](function(){});a.push(b.abort())});this.a=[];return Promise.all(a)};var ul=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze",
"cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice",
"is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao",
"mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san",
"sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie",
"vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);_.wl.prototype.lc=function(){};_.wl.prototype.qe=function(){};_.wl.prototype.release=function(){};_.B("clpp.text.Cue",_.Hl);var zl=_.Pb;_.Hl.positionAlign={LEFT:Lc,RIGHT:Mc,CENTER:_.$b,AUTO:zl};var Al=_.$b,Xl={LEFT:"left",RIGHT:"right",CENTER:Al,START:_.yd,END:_.xc};_.Hl.textAlign=Xl;var El="after",Yl={BEFORE:"before",CENTER:_.$b,AFTER:El};_.Hl.displayAlign=Yl;var xl="ltr";_.Hl.direction={HORIZONTAL_LEFT_TO_RIGHT:xl,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Bl="horizontal-tb";_.Hl.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Bl,VERTICAL_LEFT_TO_RIGHT:_.Vd,VERTICAL_RIGHT_TO_LEFT:_.Wd};var Cl=0;
_.Hl.lineInterpretation={LINE_NUMBER:Cl,PERCENTAGE:1};var Dl=_.yd,om={CENTER:_.$b,START:Dl,END:_.xc};_.Hl.lineAlign=om;var Fl=400;_.Hl.fontWeight={NORMAL:Fl,BOLD:700};var Gl="normal",$l={NORMAL:Gl,ITALIC:"italic",OBLIQUE:"oblique"};_.Hl.fontStyle=$l;_.Hl.textDecoration={UNDERLINE:Pd,LINE_THROUGH:Nc,OVERLINE:fd};_.B("clpp.text.CueRegion",yl);var Il=1;yl.units={PX:0,PERCENTAGE:Il,LINES:2};var Jl="";yl.scrollMode={NONE:Jl,UP:"up"};_.Ll={};_.B("clpp.text.TextEngine.registerParser",function(a,b){_.Ll[a]=b});_.B("clpp.text.TextEngine.unregisterParser",function(a){delete _.Ll[a]});_.r=_.Kl.prototype;_.r.destroy=function(){this.c=this.i=null;this.h.clear();return Promise.resolve()};_.r.remove=function(a,b){var c=this;return Promise.resolve().then(function(){!c.c||!c.c.remove(a,b)||null==c.a||b<=c.a||a>=c.b||(a<=c.a&&b>=c.b?c.a=c.b=null:a<=c.a&&b<c.b?c.a=b:a>c.a&&b>=c.b&&(c.b=a))})};_.r.Ja=function(){return this.a};_.r.aa=function(){return this.b};
_.r.xb=function(a){return null==this.a||null==this.b?!1:a>=this.a&&a<this.b};_.r.sa=function(a){return null==this.b||this.b<a?0:this.b-Math.max(a,this.a)};_.r.Qf=function(a){this.c.append(a)};_.Kl.prototype.appendCues=_.Kl.prototype.Qf;_.Kl.prototype.hd=function(a,b){this.j=a;var c=this.h.get(a);if(c)for(var d=_.v(c.keys()),e=d.next();!e.done;e=d.next())if(e=c.get(e.value))e=e.filter(function(f){return f.endTime<=b}),this.c.append(e)};_.Kl.prototype.setSelectedClosedCaptionId=_.Kl.prototype.hd;Nl.prototype.parseInit=function(){};
Nl.prototype.parseMedia=function(a,b){var c=_.mf(a),d=[],e=new DOMParser,f=null;try{f=e.parseFromString(c,_.Gd)}catch(H){throw new _.K(_.M,2,2005);}if(f){if(c=f.getElementsByTagName(_.gd)[0])throw new _.K(_.M,2,2005,c.textContent);if(e=f.getElementsByTagName("tt")[0]){var g=_.Q.getAttributeNS(e,Fc,_.Ac);var h=_.Q.getAttributeNS(e,Fc,"subFrameRate");var l=_.Q.getAttributeNS(e,Fc,"frameRateMultiplier");var m=_.Q.getAttributeNS(e,Fc,"tickRate");f=e.getAttribute("xml:space")||"default";c=e.getAttribute("tts:extent")}else throw new _.K(_.M,
2,2005);if("default"!=f&&"preserve"!=f)throw new _.K(_.M,2,2005);f="default"==f;g=new km(g,h,l,m);h=Ol(e.getElementsByTagName(Tc)[0]);l=Ol(e.getElementsByTagName("styling")[0]);m=Ol(e.getElementsByTagName("layout")[0]);for(var n=[],p=0;p<m.length;p++){var q=m[p],t=c;var u=new yl;var A=q.getAttribute(le);if(A){u.id=A;A=null;t&&(A=Qn.exec(t)||Rn.exec(t));t=A?Number(A[1]):null;A=A?Number(A[2]):null;var D,G;if(D=am(q,l,"extent"))D=(G=Qn.exec(D))||Rn.exec(D),null!=D&&(u.width=null!=t?100*Number(D[1])/
t:Number(D[1]),u.height=null!=A?100*Number(D[2])/A:Number(D[2]),u.widthUnits=G||null!=t?Il:0,u.heightUnits=G||null!=A?Il:0);if(q=am(q,l,"origin"))D=(G=Qn.exec(q))||Rn.exec(q),null!=D&&(u.viewportAnchorX=null!=A?100*Number(D[1])/A:Number(D[1]),u.viewportAnchorY=null!=t?100*Number(D[2])/t:Number(D[2]),u.viewportAnchorUnits=G||null!=t?Il:0)}else _.C("TtmlTextParser parser encountered a region with no id. Region will be ignored."),u=null;u&&n.push(u)}c=Ol(e.getElementsByTagName("body")[0]);for(e=0;e<
c.length;e++)(p=Tl(c[e],b.periodStart,g,h,l,m,n,f))&&d.push(p)}return d};
var Qn=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Zl=/^(\d+px|\d+em)$/,Rn=/^(\d+)px (\d+)px$/,dm=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,em=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,gm=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,hm=/^(\d*(?:\.\d*)?)f$/,im=/^(\d*(?:\.\d*)?)t$/,jm=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Wl={left:Dl,center:_.$b,right:_.xc,start:Dl,end:_.xc},Vl={left:Lc,center:_.$b,right:Mc};_.Ll[_.Cb]=Nl;lm.prototype.parseInit=function(a){var b=!1;(new _.ri).G("moov",_.si).G("trak",_.si).G("mdia",_.si).G("minf",_.si).G("stbl",_.si).T("stsd",_.ti).G("stpp",function(c){b=!0;c.Pa.stop()}).parse(a);if(!b)throw new _.K(_.M,2,2007);};lm.prototype.parseMedia=function(a,b){var c=this,d=!1,e=[];(new _.ri).G(_.Rc,ui(function(f){d=!0;e=e.concat(c.a.parseMedia(f,b))})).parse(a);if(!d)throw new _.K(_.M,2,2007);return e};_.Ll['application/mp4; codecs\x3d"stpp"']=lm;
_.Ll['application/mp4; codecs\x3d"stpp.TTML.im1t"']=lm;mm.prototype.parseInit=function(){};
mm.prototype.parseMedia=function(a,b){var c=_.mf(a);c=c.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n");c=c.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(c[0]))throw new _.K(_.M,2,2E3);var d=b.segmentStart;if(null==d&&(d=0,c[0].includes("X-TIMESTAMP-MAP"))){var e=c[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),f=c[0].match(/MPEGTS:(\d+)/m);if(e&&f){d=qm(new _.il(e[1]));if(null==d)throw new _.K(_.M,2,2E3);d=b.periodStart+(Number(f[1])/9E4-d)}}f=[];var g=c[0].split("\n");for(e=1;e<g.length;e++)if(/^Region:/.test(g[e])){var h=
new _.il(g[e]),l=new yl;ll(h);kl(h);for(var m=ll(h);m;){var n;a:{var p=l,q=m;if(n=/^id=(.*)$/.exec(q))p.id=n[1];else if(n=/^width=(\d{1,2}|100)%$/.exec(q))p.width=Number(n[1]);else if(n=/^lines=(\d+)$/.exec(q))p.height=Number(n[1]),p.heightUnits=2;else if(n=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(q))p.regionAnchorX=Number(n[1]),p.regionAnchorY=Number(n[2]);else if(n=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(q))p.viewportAnchorX=Number(n[1]),p.viewportAnchorY=Number(n[2]);else if(/^scroll=up$/.exec(q))p.scroll=
"up";else{n=!1;break a}n=!0}n||_.C("VTT parser encountered an invalid VTTRegion setting: ",m,aa);kl(h);m=ll(h)}f.push(l)}e=[];for(h=1;h<c.length;h++){g=c[h].split("\n");p=g;q=d;if(1==p.length&&!p[0]||/^NOTE($|[ \t])/.test(p[0])||"STYLE"==p[0])g=null;else{g=null;p[0].includes("--\x3e")||(g=p[0],p.splice(0,1));l=new _.il(p[0]);m=qm(l);var t=_.jl(l,/[ \t]+--\x3e[ \t]+/g);n=qm(l);if(null==m||null==t||null==n)throw new _.K(_.M,2,2001);m+=q;n+=q;p=p.slice(1).join("\n").trim();m=new _.Hl(m,n,p);kl(l);for(n=
ll(l);n;)pm(m,n,f)||_.C($a,n,aa),kl(l),n=ll(l);null!=g&&(m.id=g);g=m}g&&e.push(g)}return e};_.Ll[_.Fd]=mm;_.Ll['text/vtt; codecs\x3d"vtt"']=mm;rm.prototype.parseInit=function(a){var b=this,c=!1;(new _.ri).G("moov",_.si).G("trak",_.si).G("mdia",_.si).T("mdhd",function(d){0==d.version?(d.s.skip(4),d.s.skip(4),b.a=_.Yh(d.s),d.s.skip(4)):(d.s.skip(8),d.s.skip(8),b.a=_.Yh(d.s),d.s.skip(8));d.s.skip(4)}).G("minf",_.si).G("stbl",_.si).T("stsd",_.ti).G("wvtt",function(){c=!0}).parse(a);if(!this.a)throw new _.K(_.M,2,2008);if(!c)throw new _.K(_.M,2,2008);};
rm.prototype.parseMedia=function(a,b){var c=this;if(!this.a)throw this.b.error("No init segment for MP4+VTT!"),new _.K(_.M,2,2008);var d=0,e=[],f,g=[],h=!1,l=!1,m=!1,n=null;(new _.ri).G("moof",_.si).G("traf",_.si).T("tfdt",function(u){h=!0;d=0==u.version?_.Yh(u.s):_.$h(u.s)}).T("tfhd",function(u){var A=u.flags;u=u.s;u.skip(4);A&1&&u.skip(8);A&2&&u.skip(4);n=A&8?_.Yh(u):null}).T("trun",function(u){l=!0;var A=u.version,D=u.flags;u=u.s;var G=_.Yh(u);D&1&&u.skip(4);D&4&&u.skip(4);for(var H=[],L=0;L<G;L++){var T=
{duration:null,sampleSize:null,ce:null};D&256&&(T.duration=_.Yh(u));D&512&&(T.sampleSize=_.Yh(u));D&1024&&u.skip(4);D&2048&&(T.ce=0==A?_.Yh(u):_.Zh(u));H.push(T)}e=H}).G(_.Rc,ui(function(u){m=!0;f=u})).parse(a);if(!m&&!h&&!l)throw new _.K(_.M,2,2008);var p=d,q=new DataView(f.buffer,f.byteOffset,f.byteLength),t=new _.Th(q,!1);e.forEach(function(u){var A=u.duration||n,D=u.ce?d+u.ce:p;p=D+(A||0);var G=0;do{var H=_.Yh(t);G+=H;var L=_.Yh(t);L=wi(L);var T=null;"vttc"==L?8<H&&(T=_.ai(t,H-8)):("vtte"!=L&&
c.b.error("Unknown box "+L+"! Skipping!"),t.skip(H-8));A?T&&g.push(tm(T,b.periodStart+D/c.a,b.periodStart+p/c.a)):c.b.error("WVTT sample duration unknown, and no default found!")}while(u.sampleSize&&G<u.sampleSize)});return g.filter(_.mi.La)};_.Ll['application/mp4; codecs\x3d"wvtt"']=rm;wm.prototype.create=function(){return new um};wm.prototype.probe=function(a,b){return("text/srt"===a||a===Gb)&&b===_.Fd};Ij.push(new wm);_.w(xm,mm);xm.prototype.parseMedia=function(a,b){return mm.prototype.parseMedia.call(this,_.Mj(a),b)};_.Ll["text/srt"]=xm;_.Ll[Gb]=xm;_.r=Am.prototype;_.r.Dc=function(a,b){this.a&&this.a.trigger(new _.I(a,{detail:b}))};_.r.getState=function(){return Dm(this,"")};_.r.ff=function(){this.g=!1;Hm(this,_.Em)};_.r.re=function(){Km(this,Vb)};_.r.te=function(){this.g=this.u=!1;Km(this,_.hd)};_.r.ue=function(){this.u=!0;this.g=!1;Km(this,_.ld)};_.r.hf=function(){Km(this,_.Pc)};_.r.ve=function(){Im(this)&&Km(this,md)};_.r.we=function(){Km(this,_.nd)};_.r.Pc=function(a){this.g=this.l=!1;Km(this,a.type)};
_.r.Qc=function(a){this.l=!0;Km(this,a.type)};_.r.xe=function(){Km(this,xd)};_.r.pf=function(){this.g=!0;Km(this,_.be)};_.r.se=function(a){(a=a&&a.detail)&&a.a&&a.a===_.M&&Hm(this,_.qk)};
_.r.destroy=function(){this.c.debug("Stop watching for video events for "+this.a.namespace());this.a.off(_.yc,this.ff);this.a.off(Vb,this.re);this.a.off(_.ld,this.ue);this.a.off(_.hd,this.te);this.a.off(md,this.ve);this.a.off(_.nd,this.we);this.a.off(_.ud,this.Pc);this.a.off(_.vd,this.Qc);this.a.off(xd,this.xe);this.a.off(_.be,this.pf);this.a.off(_.zc,this.se);this.a.off(_.Pc,this.hf);this.a.off(_.Td,this.Qc);this.a.off(_.Sd,this.Pc)};_.Sn={Wa:{},Eb:{},ed:function(a,b){_.Sn.Eb[a]=b}};_.B("clpp.ManifestParser.registerParserByExtension",_.Sn.ed);_.Sn.Ac=function(a,b){_.Sn.Wa[a]=b};_.B("clpp.ManifestParser.registerParserByMime",_.Sn.Ac);_.Sn.Zd=function(a){_.Sn.Eb[a]&&delete _.Sn.Eb[a]};_.Sn.fd=function(a){_.Sn.Wa[a]&&delete _.Sn.Wa[a]};
_.Sn.qj=function(){var a={};if(_.jg()){for(var b in _.Sn.Wa)a[b]=!0;for(var c in _.Sn.Eb)a[c]=!0}b={mpd:Bb,m3u8:Fb,ism:Eb};c=_.v([Bb,Fb,_.Db,Eb]);for(var d=c.next();!d.done;d=c.next())d=d.value,a[d]=_.jg()?!!_.Sn.Wa[d]:lg(d);for(var e in b)a[e]=_.jg()?!!_.Sn.Eb[e]:lg(b[e]);return a};_.Sn.create=function(a,b,c,d){var e,f;return _.z(function(g){if(1==g.a)return g.c=2,_.x(g,_.Sn.Gh(a,b,c,d),4);if(2!=g.a)return e=g.b,g["return"](new e);f=_.Ce(g);_.jf(f,_.M);throw f;})};
_.Sn.Gh=function(a,b,c,d){var e,f,g,h,l;return _.z(function(m){if(1==m.a){e=_.Sn;if(d){if(f=e.Wa[d.toLowerCase()])return m["return"](f);_.C("Could not determine manifest type using MIME type ",d)}if(g=e.getExtension(a)){if(h=e.Eb[g])return m["return"](h);_.C("Could not determine manifest type for extension ",g)}else _.C("Could not find extension for ",a);d?(m.a=2,m=void 0):m=_.x(m,e.Ih(a,b,c),3);return m}if(2!=m.a&&(d=m.b)){if(l=_.Sn.Wa[d])return m["return"](l);_.C("Could not determine manifest type using MIME type",
d)}throw new _.K(_.M,4,4E3,{url:a});})};_.Sn.Ih=function(a,b,c){var d,e,f;return _.z(function(g){if(1==g.a)return d=_.hg(a),dg(d,c),d.type=1,d.method="HEAD",_.x(g,b.fetch(d).promise,2);e=g.b;f=e.headers["content-type"];return g["return"](f?f.toLowerCase():"")})};_.Sn.getExtension=function(a){a=(new _.Sf(a)).ha.split("/").pop().split(".");return 1==a.length?"":a.pop().toLowerCase()};_.Sn.da=function(a,b){return _.jg()?b in _.Sn.Wa||_.Sn.getExtension(a)in _.Sn.Eb?!0:!1:!1};_.Ak(function(){if(window.VTTCue)_.Se("Using native VTTCue.");else if(window.TextTrackCue){var a=TextTrackCue.length;if(3===a)_.Se(Za),window.VTTCue=Lm;else if(6===a)_.Se("Using VTTCue polyfill from 6 argument TextTrackCue."),window.VTTCue=Mm;else{try{var b=!!Lm(1,2,"")}catch(c){b=!1}b&&(_.Se(Za),window.VTTCue=Lm)}}else _.Te("VTTCue not available.")});_.Ak(function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,b){b=void 0!==b?b:this.byteLength;a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);var c=new ArrayBuffer(b-a),d=_.N(c),e=new Uint8Array(this,a,b-a);d.set(e);return c})});_.Ak(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;!a.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in a&&(a.getVideoPlaybackQuality=Nm)}});var Om;_.Ak(function(){_.F("InputEvent.install");_.mg("Trident/")&&HTMLInputElement.prototype.addEventListener!==Pm&&(_.Se("Patching input event support on IE."),Om=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Pm)});_.Ak(function(){_.F("mathRound.install")});_.Ak(function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})});Qm.prototype.createMediaKeys=function(){_.F("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var a=new Um(this.keySystem);return Promise.resolve(a)};Qm.prototype.getConfiguration=function(){_.F("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration");return this.a};Um.prototype.createSession=function(a){_.F("PatchedMediaKeysApple.MediaKeys.createSession");a=a||_.Ed;if(a!=_.Ed)throw new TypeError(_.Sa+a+_.ba);return new Xm(this.b,a)};
Um.prototype.setServerCertificate=function(a){_.F("PatchedMediaKeysApple.MediaKeys.setServerCertificate");a&&_.N(a);return Promise.resolve(!0)};_.Ke(Xm,_.bf);_.r=Xm.prototype;_.r.generateRequest=function(a,b){_.F("PatchedMediaKeysApple.MediaKeySession.generateRequest");this.a=new _.Of;try{this.c=this.g.createSession(_.Zd,_.N(b)),this.f.on(this.c,ee,this.Vg.bind(this)),this.f.on(this.c,ce,this.Tg.bind(this)),this.f.on(this.c,de,this.Ug.bind(this)),Ym(this,_.Ad)}catch(c){this.a.reject(c)}return this.a};
_.r.load=function(){_.F("PatchedMediaKeysApple.MediaKeySession.load");return Promise.reject(Error(_.za))};_.r.update=function(a){_.F("PatchedMediaKeysApple.MediaKeySession.update");this.b=new _.Of;try{this.c.update(_.N(a))}catch(b){this.b.reject(b)}return this.b};_.r.close=function(){_.F("PatchedMediaKeysApple.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),_.$e(this.f)}catch(a){this.closed.reject(a)}return this.closed};
_.r.remove=function(){_.F("PatchedMediaKeysApple.MediaKeySession.remove");return Promise.reject(Error(_.Aa))};_.r.Vg=function(a){_.F("PatchedMediaKeysApple.onWebkitKeyMessage_",a);this.a&&(this.a.resolve(),this.a=null);this.dispatchEvent(new _.I(_.Sc,{messageType:void 0==this.keyStatuses.a?_.Kc:_.Jc,message:a.message.buffer}))};_.r.Tg=function(a){_.F("PatchedMediaKeysApple.onWebkitKeyAdded_",a);this.b&&(Ym(this,_.Rd),this.b.resolve(),this.b=null)};
_.r.Ug=function(a){_.F("PatchedMediaKeysApple.onWebkitKeyError_",a);a=Error("EME PatchedMediaKeysApple key error");a.errorCode=this.c.error;if(null!=this.a)this.a.reject(a),this.a=null;else if(null!=this.b)this.b.reject(a),this.b=null;else switch(this.c.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Ym(this,_.ed);break;default:Ym(this,_.Hc)}};var Tn;_.r=Wm.prototype;_.r.forEach=function(a){this.a&&a(this.a,Tn)};_.r.get=function(a){if(this.has(a))return this.a};
_.r.has=function(a){var b=Tn;return this.a&&_.gi(_.N(a),_.N(b))?!0:!1};_.r.entries=function(){};_.r.keys=function(){};_.r.values=function(){};_.Ak(function(){window.HTMLVideoElement&&window.WebKitMediaKeys&&(_.Se("Using Apple-prefixed EME"),Tn=(new Uint8Array([0])).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Tm,window.MediaKeys=Um,window.MediaKeySystemAccess=Qm,navigator.requestMediaKeySystemAccess=Rm)});_.Ak(function(){_.F("VideoPlayPromise.install");if(window.HTMLMediaElement){var a=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var b=a.apply(this);b&&b["catch"](function(){});return b}}});an.prototype.createSession=function(){};an.prototype.setServerCertificate=function(){};bn.prototype.getConfiguration=function(){};bn.prototype.createMediaKeys=function(){};
_.Ak(function(){!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(_.Se("EME not available."),navigator.requestMediaKeySystemAccess=Zm,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=$m,window.MediaKeys=an,window.MediaKeySystemAccess=bn)},-10);_.Ak(function(){if(window.Document){var a=Element.prototype;a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;a=Document.prototype;a.exitFullscreen=a.exitFullscreen||a.mozCancelFullScreen||a.msExitFullscreen||a.webkitExitFullscreen;Bc in document||(Object.defineProperty(document,Bc,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",
{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}}));document.addEventListener("webkitfullscreenchange",cn);document.addEventListener("webkitfullscreenerror",cn);document.addEventListener("mozfullscreenchange",cn);document.addEventListener("mozfullscreenerror",cn);document.addEventListener("MSFullscreenChange",cn);document.addEventListener("MSFullscreenError",cn)}});_.Ak(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;a.requestPictureInPicture&&document.exitPictureInPicture||!a.webkitSupportsPresentationMode||(_.F("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,a.requestPictureInPicture=en,document.exitPictureInPicture=fn,document.addEventListener("webkitpresentationmodechanged",dn,!0))}});gn.prototype.Cb=function(a){var b=a.cue;if(b){var c=b.text;a=this.b;var d=this.f,e=this.c,f={bottom:"",display:Xg(),justifyContent:"",opacity:"0",top:""},g={display:Xg(),justifyContent:"",backgroundColor:"",left:"",marginLeft:"",paddingLeft:"",paddingRight:"",textAlign:""},h={display:"",left:"",marginLeft:"",marginRight:"",maxWidth:"",maxHeight:"",position:"",wordWrap:"",right:"",textAlign:"",transform:"",transformOrigin:"",writingMode:"",whiteSpace:""},l=b.vertical;"lr"===l&&(c=c.split("\x3cbr\x3e"),
c.reverse(),c=c.join("\x3cbr\x3e"));l&&(h.maxHeight="none",h.position="absolute",h.transform="rotate(90deg)",h.transformOrigin="left top",h.whiteSpace="nowrap",g.backgroundColor="rgba(0,0,0,0)");e.innerHTML=c.replace(/\n/g,"\x3cbr/\x3e");l=Wg(e);ml(a,f);ml(d,g);ml(e,h);l=l.height;var m=nl(b.align),n=b.position;b.vertical&&(n=b.line,m=b.lineAlign);typeof n!==_.Wc?(b.vertical&&!m&&(m=nl(b.align)),m||(m=_.$b),m===_.$b?n=50:m===_.yd?n=0:m===_.xc&&(n=100)):m||(m=_.yd);if(b.vertical){ml(a,f);ml(d,g);ml(e,
h);var p=Wg(e);p=p.height+p.marginTop+p.marginBottom;m===_.$b?p/=2:m===_.xc&&(p=0);g.display="block";g.marginLeft=p+"px";g.left=n+"%"}else m===_.$b?50>n?g.paddingRight=100-2*n+"%":50<n&&(g.paddingLeft=2*n-100+"%"):m===_.yd?(g.paddingLeft=n+"%",g.justifyContent="flex-start",h.wordWrap="break-word"):m===_.xc&&(g.paddingRight=100-n+"%",g.justifyContent="flex-end",h.wordWrap="break-word");n=b.line;b.vertical&&(n=b.position);typeof n!==_.Wc&&(n=b.vertical?0:100);ml(a,f);ml(d,g);ml(e,h);m=b.vertical;p=
Wg(a.parentElement);var q=Wg(a),t=Wg(e);if(m){var u=t.width;f.display="block";f.marginLeft=t.height+t.marginTop+t.marginBottom}else u=t.height,f.display=Xg(),f.justifyContent="flex-start";t=100*(p.height-q.marginBottom-u)/p.height;b.snapToLines&&!m&&(l=parseInt((p.height-q.marginBottom)/(l/((c.split("\x3cbr\x3e")||[]).length||1)),10)||16,0>n?(n=Math.abs(n)-1,n=l-n+1):1>n&&(n=1),0<n&&--n,n=100*n/l);n=Math.max(0,Math.min(n,100));f.top=n/100*t-5+"%";b=nl(b.align);b===_.$b?h.textAlign=_.$b:b===_.xc&&
(h.textAlign="right");ml(a,f);ml(d,g);ml(e,h);ml(a,{opacity:""})}};gn.prototype.Bb=function(){this.c.innerHTML="";_.Tg(this.b,"clpp-show-flex")};gn.prototype.dispose=function(){this.a.off(_.pc,this.Cb);this.a.off(_.oc,this.Bb)};gn.prototype.onCueHidden=gn.prototype.Bb;gn.prototype.onCueShown=gn.prototype.Cb;
hn.prototype.canPlay=function(a){var b=window.hasOwnProperty("TextTrackCue");a=a.enableEnhancedSubtitleManager||!1;var c=_.Ig();var d=c.osVersion;d=2<=d.major&&void 0!==d.minor&&3<=d.minor;c=c.os===Dg&&d;return b&&a||c};hn.prototype.create=function(a){return new gn(a)};hn.prototype.create=hn.prototype.create;hn.prototype.canPlay=hn.prototype.canPlay;mj(new hn);_.jn.prototype.f=function(){return this.keyInfo};_.kn.prototype.getPosition=function(){return this.position};_.kn.prototype.f=function(){return this.keyInfo};_.r=_.ln.prototype;_.r.destroy=function(){this.a=null;return Promise.resolve()};_.r.find=function(a){for(var b=this.a.length-1;0<=b;--b){var c=this.a[b];if(a>=c.startTime&&a<c.endTime)return c.position}return this.a.length&&a<this.a[0].startTime?this.a[0].position:null};_.r.get=function(a){if(0==this.a.length)return null;a-=this.a[0].position;return 0>a||a>=this.a.length?null:this.a[a]};_.r.offset=function(a){for(var b=0;b<this.a.length;++b)this.a[b].startTime+=a,this.a[b].endTime+=a};
_.r.Pb=function(a,b){var c=a-this.a[0].position;if(0<=c&&c<this.a.length)for(this.a[c].endTime+=b,c+=1;c<this.a.length;++c)this.a[c].startTime+=b,this.a[c].endTime+=b};_.ln.prototype.adjust=_.ln.prototype.Pb;_.ln.prototype.getDuration=function(){return this.a[this.a.length-1].endTime-this.a[0].startTime};_.ln.prototype.getDuration=_.ln.prototype.getDuration;
_.ln.prototype.Va=function(a){for(var b=[],c=0,d=0;c<this.a.length&&d<a.length;){var e=this.a[c],f=a[d];e.startTime<f.startTime?(b.push(e),c++):(e.startTime>f.startTime?0==c?b.push(f):_.C("Refusing to rewrite original references on update!"):(.1<Math.abs(e.endTime-f.endTime)?b.push(new _.kn(e.position,f.startTime,f.endTime,f.c,f.b,f.a)):b.push(e),c++),d++)}for(;c<this.a.length;)b.push(this.a[c++]);if(b.length)for(c=b[b.length-1].position+1;d<a.length;)e=a[d++],e=new _.kn(c++,e.startTime,e.endTime,
e.c,e.b,e.a),b.push(e);else b=a;this.a=b};_.ln.prototype.replace=function(a){this.a=a};_.r=_.nn.prototype;_.r.getDuration=function(){return this.c};_.r.bb=function(a){this.c=a};_.r.getPresentationStartTime=function(){return this.h};_.r.offset=function(a){null!=this.g&&(this.g+=a);null!=this.f&&(this.f+=a)};_.r.isLive=function(){return Infinity==this.c&&!this.b};_.tn.prototype.onContentWillLoad=function(){return Promise.resolve()};_.tn.prototype.onContentLoaded=function(a,b){for(var c=1;c<arguments.length;++c);return Promise.resolve()};_.tn.prototype.onPlayerWillDestroy=function(){};_.tn.prototype.onPlayerWillRelease=function(){};}.call(g,this));
g.clpp._ = _;
if (typeof(module)!="undefined"&&module.exports) {module.exports=g.clpp;}
else if (typeof(define)!="undefined" && define.amd) {define(function(){return g.clpp;});}
else {this.clpp=g.clpp;}
})();
