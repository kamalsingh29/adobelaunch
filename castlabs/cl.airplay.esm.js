import {clpp} from "./cl.core.esm.js";let g={};var _ = clpp._;var f=function(window){var VD=function(){var a=this;this.b=this.a=null;this.h=this.c=this.g=!1;this.i=new _.Gf(function(){a.a.play()["catch"](function(){})});this.f=new _.ii},WD=function(){};_.w(VD,_.fo);_.r=VD.prototype;_.r.onPlayerCreated=function(a){this.a=a;this.b=a.getSurface().H()};_.r.onContentWillLoad=function(){this.b&&(this.f.on(this.b,"webkitplaybacktargetavailabilitychanged",this.Ei.bind(this)),this.f.on(this.b,"webkitcurrentplaybacktargetiswirelesschanged",this.ij.bind(this)))};
_.r.onPlayerWillRelease=function(){this.i.stop();this.f.release()};_.r.id=function(){return"airplay"};_.r.Ei=function(a){switch(a.availability){case "available":this.c=!0;break;case "not-available":this.c=!1}this.a.trigger(new _.O(_.Bb,{canCast:this.c}))};_.r.ij=function(){var a=(this.g=this.b.webkitCurrentPlaybackTargetIsWireless)?_.Ab:_.zb;if(this.h||!this.a.isPaused()||this.a.getState()===_.ln)this.h?this.a.play()["catch"](function(){}):this.i.R(.01);this.a.trigger(new _.O(a))};_.r.Ka=function(){return this.g};
_.r.Dd=function(){return this.c};_.r.yj=function(){this.c&&(this.h=!this.a.isPaused(),this.b.webkitShowPlaybackTargetPicker())};_.B("clpp.airplay.AirPlayPlugin",VD);VD.prototype.showCastMenu=VD.prototype.yj;VD.prototype.canCast=VD.prototype.Dd;VD.prototype.isCasting=VD.prototype.Ka;VD.Id="airplay";WD.prototype.create=function(){return new VD};_.xn(new WD);};f.call(g, window);